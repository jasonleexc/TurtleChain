"use strict";var UniqueSchemas=(()=>{var $c=Object.create;var fn=Object.defineProperty;var Hc=Object.getOwnPropertyDescriptor;var Zc=Object.getOwnPropertyNames;var Wc=Object.getPrototypeOf,Jc=Object.prototype.hasOwnProperty;var Kc=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var Xc=(t,e)=>()=>(t&&(e=t(t=0)),e);var C=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ki=(t,e)=>{for(var r in e)fn(t,r,{get:e[r],enumerable:!0})},Bo=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Zc(e))!Jc.call(t,i)&&i!==r&&fn(t,i,{get:()=>e[i],enumerable:!(n=Hc(e,i))||n.enumerable});return t};var et=(t,e,r)=>(r=t!=null?$c(Wc(t)):{},Bo(e||!t||!t.__esModule?fn(r,"default",{value:t,enumerable:!0}):r,t)),Ei=t=>Bo(fn({},"__esModule",{value:!0}),t);var ft=C((gm,qo)=>{"use strict";var Ii=Object.defineProperty,Yc=Object.getOwnPropertyDescriptor,Gc=Object.getOwnPropertyNames,Qc=Object.prototype.hasOwnProperty,ed=(t,e)=>{for(var r in e)Ii(t,r,{get:e[r],enumerable:!0})},td=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Gc(e))!Qc.call(t,i)&&i!==r&&Ii(t,i,{get:()=>e[i],enumerable:!(n=Yc(e,i))||n.enumerable});return t},rd=t=>td(Ii({},"__esModule",{value:!0}),t),jo={};ed(jo,{HexString:()=>sr,Utf16:()=>Rr,Utf8:()=>Dt,UtfHelpers:()=>nd});qo.exports=rd(jo);var sr={fromArray:t=>{if(!(t instanceof Uint8Array)&&!Array.isArray(t))throw new Error(`HexString.fromArray: passed bytes obj is not an Array or Uint8Array: ${typeof t}, ${t}`);return"0x"+(t instanceof Uint8Array?Array.from(t):t).reduce((r,n)=>r+n.toString(16).padStart(2,"0"),"")},fromU8a:t=>sr.fromArray(t),toArray(t){if(typeof t!="string")throw new Error(`HexString.toArray: passed string is not a string: ${typeof t}`);return((t.startsWith("0x")?t.slice(2):t).match(/.{1,2}/g)||[]).map(n=>parseInt(n,16))},toU8a:t=>Uint8Array.from(sr.toArray(t))},Dt={stringToU8a(t){let e=new Uint8Array(Dt.lengthInBytes(t)),r=0,n=r,i=0,s=0,o=0;for(;o<t.length;)i=t.charCodeAt(o),i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&((s=t.charCodeAt(o+1))&64512)===56320?(i=65536+((i&1023)<<10)+(s&1023),++o,e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128),o+=1;let a=r-n;return e},stringToNumberArray(t){return Array.from(Dt.stringToU8a(t))},u8aToString(t){let e=0,r=t.length;if(r-e<1)return"";let n="",i=e;for(;i<r;){let s=t[i++];if(s<=127)n+=String.fromCharCode(s);else if(s>=192&&s<224)n+=String.fromCharCode((s&31)<<6|t[i++]&63);else if(s>=224&&s<240)n+=String.fromCharCode((s&15)<<12|(t[i++]&63)<<6|t[i++]&63);else if(s>=240){let o=((s&7)<<18|(t[i++]&63)<<12|(t[i++]&63)<<6|t[i++]&63)-65536;n+=String.fromCharCode(55296+(o>>10)),n+=String.fromCharCode(56320+(o&1023))}}return n},numberArrayToString(t){return Dt.u8aToString(Uint8Array.from(t))},stringToHexString(t){return sr.fromU8a(Dt.stringToU8a(t))},hexStringToString(t){return Dt.u8aToString(sr.toU8a(t))},lengthInBytes(t){let e=0,r=0,n=0;for(;n<t.length;)r=t.charCodeAt(n),r<128?e+=1:r<2048?e+=2:(r&64512)===55296&&(t.charCodeAt(n+1)&64512)===56320?(++n,e+=4):e+=3,n+=1;return e}},Rr={stringToU16a(t){let e=new Uint16Array(Rr.lengthInBytes(t)),r=0;for(;r<t.length;){let n=t.codePointAt(r);n<=65535?e[r++]=n:(n-=65536,e[r++]=(n>>10)+55296,e[r++]=n%1024+56320)}return e},stringToNumberArray(t){return Array.from(Rr.stringToU16a(t))},numberArrayToString(t){let e=0,r=t.length,n="";for(;e<r-1;){let i=t[e],s=t[e+1];if(i>=55296&&i<=57343)if(s>=56320&&s<=57343)n+=String.fromCodePoint((i-55296)*1024+s-56320+65536),e+=2;else throw new Error(`invalid UTF16 sequence: first u16 is ${i}, second u16 is ${s}`);else n+=String.fromCodePoint(i),e+=1}return e<r&&(n+=String.fromCodePoint(t[r-1])),n},u16aToString(t){return Rr.numberArrayToString(t)},lengthInBytes(t){let e=0;for(;e<t.length;)e+=t.codePointAt(e)<=65535?1:2;return e}},nd={HexString:sr,Utf8:Dt,Utf16:Rr}});var Fo=C((vm,Ci)=>{"use strict";var zo=Object.defineProperty,id=Object.getOwnPropertyDescriptor,sd=Object.getOwnPropertyNames,od=Object.prototype.hasOwnProperty,Ti=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of sd(e))!od.call(t,i)&&i!==r&&zo(t,i,{get:()=>e[i],enumerable:!(n=id(e,i))||n.enumerable});return t},ad=(t,e,r)=>(Ti(t,e,"default"),r&&Ti(r,e,"default")),ud=t=>Ti(zo({},"__esModule",{value:!0}),t),Mo={};Ci.exports=ud(Mo);ad(Mo,ft(),Ci.exports)});var Pi=C((bm,$o)=>{"use strict";function ld(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,a=t.charAt(0),u=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function c(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var b=0,A=0,O=0,D=m.length;O!==D&&m[O]===0;)O++,b++;for(var v=(D-O)*l+1>>>0,X=new Uint8Array(v);O!==D;){for(var k=m[O],M=0,E=v-1;(k!==0||M<A)&&E!==-1;E--,M++)k+=256*X[E]>>>0,X[E]=k%o>>>0,k=k/o>>>0;if(k!==0)throw new Error("Non-zero carry");A=M,O++}for(var V=v-A;V!==v&&X[V]===0;)V++;for(var Z=a.repeat(b);V<v;++V)Z+=t.charAt(X[V]);return Z}function d(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;for(var b=0,A=0,O=0;m[b]===a;)A++,b++;for(var D=(m.length-b)*u+1>>>0,v=new Uint8Array(D);m[b];){var X=e[m.charCodeAt(b)];if(X===255)return;for(var k=0,M=D-1;(X!==0||k<O)&&M!==-1;M--,k++)X+=o*v[M]>>>0,v[M]=X%256>>>0,X=X/256>>>0;if(X!==0)throw new Error("Non-zero carry");O=k,b++}for(var E=D-O;E!==D&&v[E]===0;)E++;for(var V=new Uint8Array(A+(D-E)),Z=A;E!==D;)V[Z++]=v[E++];return V}function S(m){var b=d(m);if(b)return b;throw new Error("Non-base"+o+" character")}return{encode:c,decodeUnsafe:d,decode:S}}$o.exports=ld});var Ri=C(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.output=he.exists=he.hash=he.bytes=he.bool=he.number=void 0;function hn(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}he.number=hn;function Ho(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}he.bool=Ho;function cd(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Ni(t,...e){if(!cd(t))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}he.bytes=Ni;function Zo(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");hn(t.outputLen),hn(t.blockLen)}he.hash=Zo;function Wo(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}he.exists=Wo;function Jo(t,e){Ni(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}he.output=Jo;var dd={number:hn,bool:Ho,bytes:Ni,hash:Zo,exists:Wo,output:Jo};he.default=dd});var Li=C(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.add5L=U.add5H=U.add4H=U.add4L=U.add3H=U.add3L=U.add=U.rotlBL=U.rotlBH=U.rotlSL=U.rotlSH=U.rotr32L=U.rotr32H=U.rotrBL=U.rotrBH=U.rotrSL=U.rotrSH=U.shrSL=U.shrSH=U.toBig=U.split=U.fromBig=void 0;var pn=BigInt(2**32-1),Ui=BigInt(32);function Di(t,e=!1){return e?{h:Number(t&pn),l:Number(t>>Ui&pn)}:{h:Number(t>>Ui&pn)|0,l:Number(t&pn)|0}}U.fromBig=Di;function Ko(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:o}=Di(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}U.split=Ko;var Xo=(t,e)=>BigInt(t>>>0)<<Ui|BigInt(e>>>0);U.toBig=Xo;var Yo=(t,e,r)=>t>>>r;U.shrSH=Yo;var Go=(t,e,r)=>t<<32-r|e>>>r;U.shrSL=Go;var Qo=(t,e,r)=>t>>>r|e<<32-r;U.rotrSH=Qo;var ea=(t,e,r)=>t<<32-r|e>>>r;U.rotrSL=ea;var ta=(t,e,r)=>t<<64-r|e>>>r-32;U.rotrBH=ta;var ra=(t,e,r)=>t>>>r-32|e<<64-r;U.rotrBL=ra;var na=(t,e)=>e;U.rotr32H=na;var ia=(t,e)=>t;U.rotr32L=ia;var sa=(t,e,r)=>t<<r|e>>>32-r;U.rotlSH=sa;var oa=(t,e,r)=>e<<r|t>>>32-r;U.rotlSL=oa;var aa=(t,e,r)=>e<<r-32|t>>>64-r;U.rotlBH=aa;var ua=(t,e,r)=>t<<r-32|e>>>64-r;U.rotlBL=ua;function la(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}U.add=la;var ca=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0);U.add3L=ca;var da=(t,e,r,n)=>e+r+n+(t/2**32|0)|0;U.add3H=da;var fa=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0);U.add4L=fa;var ha=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0;U.add4H=ha;var pa=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0);U.add5L=pa;var ma=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0;U.add5H=ma;var fd={fromBig:Di,split:Ko,toBig:Xo,shrSH:Yo,shrSL:Go,rotrSH:Qo,rotrSL:ea,rotrBH:ta,rotrBL:ra,rotr32H:na,rotr32L:ia,rotlSH:sa,rotlSL:oa,rotlBH:aa,rotlBL:ua,add:la,add3L:ca,add3H:da,add4L:fa,add4H:ha,add5H:ma,add5L:pa};U.default=fd});var ya=C(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.crypto=void 0;var mn=Kc("crypto");yn.crypto=mn&&typeof mn=="object"&&"webcrypto"in mn?mn.webcrypto:void 0});var vn=C(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.randomBytes=q.wrapXOFConstructorWithOpts=q.wrapConstructorWithOpts=q.wrapConstructor=q.checkOpts=q.Hash=q.concatBytes=q.toBytes=q.utf8ToBytes=q.asyncLoop=q.nextTick=q.hexToBytes=q.bytesToHex=q.isLE=q.rotr=q.createView=q.u32=q.u8=void 0;var Vi=ya(),hd=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);q.u8=hd;var pd=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));q.u32=pd;function ji(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}var md=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);q.createView=md;var yd=(t,e)=>t<<32-e|t>>>e;q.rotr=yd;q.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!q.isLE)throw new Error("Non little-endian hardware is not supported");var gd=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function vd(t){if(!ji(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=gd[t[r]];return e}q.bytesToHex=vd;var tt={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function ga(t){if(t>=tt._0&&t<=tt._9)return t-tt._0;if(t>=tt._A&&t<=tt._F)return t-(tt._A-10);if(t>=tt._a&&t<=tt._f)return t-(tt._a-10)}function bd(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let o=ga(t.charCodeAt(s)),a=ga(t.charCodeAt(s+1));if(o===void 0||a===void 0){let u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}n[i]=o*16+a}return n}q.hexToBytes=bd;var _d=async()=>{};q.nextTick=_d;async function wd(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,q.nextTick)(),n+=s)}}q.asyncLoop=wd;function va(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}q.utf8ToBytes=va;function gn(t){if(typeof t=="string"&&(t=va(t)),!ji(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}q.toBytes=gn;function xd(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];if(!ji(i))throw new Error("Uint8Array expected");e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}q.concatBytes=xd;var Bi=class{clone(){return this._cloneInto()}};q.Hash=Bi;var Ad={}.toString;function Od(t,e){if(e!==void 0&&Ad.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}q.checkOpts=Od;function Sd(t){let e=n=>t().update(gn(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}q.wrapConstructor=Sd;function kd(t){let e=(n,i)=>t(i).update(gn(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}q.wrapConstructorWithOpts=kd;function Ed(t){let e=(n,i)=>t(i).update(gn(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}q.wrapXOFConstructorWithOpts=Ed;function Id(t=32){if(Vi.crypto&&typeof Vi.crypto.getRandomValues=="function")return Vi.crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}q.randomBytes=Id});var qi=C(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.shake256=Y.shake128=Y.keccak_512=Y.keccak_384=Y.keccak_256=Y.keccak_224=Y.sha3_512=Y.sha3_384=Y.sha3_256=Y.sha3_224=Y.Keccak=Y.keccakP=void 0;var or=Ri(),Lr=Li(),Dr=vn(),[wa,xa,Aa]=[[],[],[]],Td=BigInt(0),Ur=BigInt(1),Cd=BigInt(2),Pd=BigInt(7),Nd=BigInt(256),Rd=BigInt(113);for(let t=0,e=Ur,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],wa.push(2*(5*n+r)),xa.push((t+1)*(t+2)/2%64);let i=Td;for(let s=0;s<7;s++)e=(e<<Ur^(e>>Pd)*Rd)%Nd,e&Cd&&(i^=Ur<<(Ur<<BigInt(s))-Ur);Aa.push(i)}var[Ud,Dd]=(0,Lr.split)(Aa,!0),ba=(t,e,r)=>r>32?(0,Lr.rotlBH)(t,e,r):(0,Lr.rotlSH)(t,e,r),_a=(t,e,r)=>r>32?(0,Lr.rotlBL)(t,e,r):(0,Lr.rotlSL)(t,e,r);function Oa(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){let a=(o+8)%10,u=(o+2)%10,l=r[u],c=r[u+1],d=ba(l,c,1)^r[a],S=_a(l,c,1)^r[a+1];for(let m=0;m<50;m+=10)t[o+m]^=d,t[o+m+1]^=S}let i=t[2],s=t[3];for(let o=0;o<24;o++){let a=xa[o],u=ba(i,s,a),l=_a(i,s,a),c=wa[o];i=t[c],s=t[c+1],t[c]=u,t[c+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=Ud[n],t[1]^=Dd[n]}r.fill(0)}Y.keccakP=Oa;var Vr=class t extends Dr.Hash{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,or.number)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Dr.u32)(this.state)}keccak(){Oa(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){(0,or.exists)(this);let{blockLen:r,state:n}=this;e=(0,Dr.toBytes)(e);let i=e.length;for(let s=0;s<i;){let o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){(0,or.exists)(this,!1),(0,or.bytes)(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();let o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,or.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,or.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new t(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};Y.Keccak=Vr;var ht=(t,e,r)=>(0,Dr.wrapConstructor)(()=>new Vr(e,t,r));Y.sha3_224=ht(6,144,224/8);Y.sha3_256=ht(6,136,256/8);Y.sha3_384=ht(6,104,384/8);Y.sha3_512=ht(6,72,512/8);Y.keccak_224=ht(1,144,224/8);Y.keccak_256=ht(1,136,256/8);Y.keccak_384=ht(1,104,384/8);Y.keccak_512=ht(1,72,512/8);var Sa=(t,e,r)=>(0,Dr.wrapXOFConstructorWithOpts)((n={})=>new Vr(e,t,n.dkLen===void 0?r:n.dkLen,!0));Y.shake128=Sa(31,168,128/8);Y.shake256=Sa(31,136,256/8)});var ka=C(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.BLAKE2=ur.SIGMA=void 0;var ar=Ri(),bn=vn();ur.SIGMA=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]);var zi=class extends bn.Hash{constructor(e,r,n={},i,s,o){if(super(),this.blockLen=e,this.outputLen=r,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,(0,ar.number)(e),(0,ar.number)(r),(0,ar.number)(i),r<0||r>i)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>i))throw new Error(`key must be up 1..${i} byte long or undefined`);if(n.salt!==void 0&&n.salt.length!==s)throw new Error(`salt must be ${s} byte long or undefined`);if(n.personalization!==void 0&&n.personalization.length!==o)throw new Error(`personalization must be ${o} byte long or undefined`);this.buffer32=(0,bn.u32)(this.buffer=new Uint8Array(e))}update(e){(0,ar.exists)(this);let{blockLen:r,buffer:n,buffer32:i}=this;e=(0,bn.toBytes)(e);let s=e.length,o=e.byteOffset,a=e.buffer;for(let u=0;u<s;){this.pos===r&&(this.compress(i,0,!1),this.pos=0);let l=Math.min(r-this.pos,s-u),c=o+u;if(l===r&&!(c%4)&&u+l<s){let d=new Uint32Array(a,c,Math.floor((s-u)/4));for(let S=0;u+r<s;S+=i.length,u+=r)this.length+=r,this.compress(d,S,!1);continue}n.set(e.subarray(u,u+l),this.pos),this.pos+=l,this.length+=l,u+=l}return this}digestInto(e){(0,ar.exists)(this),(0,ar.output)(e,this);let{pos:r,buffer32:n}=this;this.finished=!0,this.buffer.subarray(r).fill(0),this.compress(n,0,!0);let i=(0,bn.u32)(e);this.get().forEach((s,o)=>i[o]=s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){let{buffer:r,length:n,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.length=n,e.finished=i,e.destroyed=s,e.outputLen=o,e.buffer.set(r),e.pos=a,e}};ur.BLAKE2=zi});var Fi=C(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.blake2b=void 0;var Ea=ka(),pe=Li(),lr=vn(),ie=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),_=new Uint32Array(32);function pt(t,e,r,n,i,s){let o=i[s],a=i[s+1],u=_[2*t],l=_[2*t+1],c=_[2*e],d=_[2*e+1],S=_[2*r],m=_[2*r+1],b=_[2*n],A=_[2*n+1],O=pe.default.add3L(u,c,o);l=pe.default.add3H(O,l,d,a),u=O|0,{Dh:A,Dl:b}={Dh:A^l,Dl:b^u},{Dh:A,Dl:b}={Dh:pe.default.rotr32H(A,b),Dl:pe.default.rotr32L(A,b)},{h:m,l:S}=pe.default.add(m,S,A,b),{Bh:d,Bl:c}={Bh:d^m,Bl:c^S},{Bh:d,Bl:c}={Bh:pe.default.rotrSH(d,c,24),Bl:pe.default.rotrSL(d,c,24)},_[2*t]=u,_[2*t+1]=l,_[2*e]=c,_[2*e+1]=d,_[2*r]=S,_[2*r+1]=m,_[2*n]=b,_[2*n+1]=A}function mt(t,e,r,n,i,s){let o=i[s],a=i[s+1],u=_[2*t],l=_[2*t+1],c=_[2*e],d=_[2*e+1],S=_[2*r],m=_[2*r+1],b=_[2*n],A=_[2*n+1],O=pe.default.add3L(u,c,o);l=pe.default.add3H(O,l,d,a),u=O|0,{Dh:A,Dl:b}={Dh:A^l,Dl:b^u},{Dh:A,Dl:b}={Dh:pe.default.rotrSH(A,b,16),Dl:pe.default.rotrSL(A,b,16)},{h:m,l:S}=pe.default.add(m,S,A,b),{Bh:d,Bl:c}={Bh:d^m,Bl:c^S},{Bh:d,Bl:c}={Bh:pe.default.rotrBH(d,c,63),Bl:pe.default.rotrBL(d,c,63)},_[2*t]=u,_[2*t+1]=l,_[2*e]=c,_[2*e+1]=d,_[2*r]=S,_[2*r+1]=m,_[2*n]=b,_[2*n+1]=A}var Mi=class extends Ea.BLAKE2{constructor(e={}){super(128,e.dkLen===void 0?64:e.dkLen,e,64,16,16),this.v0l=ie[0]|0,this.v0h=ie[1]|0,this.v1l=ie[2]|0,this.v1h=ie[3]|0,this.v2l=ie[4]|0,this.v2h=ie[5]|0,this.v3l=ie[6]|0,this.v3h=ie[7]|0,this.v4l=ie[8]|0,this.v4h=ie[9]|0,this.v5l=ie[10]|0,this.v5h=ie[11]|0,this.v6l=ie[12]|0,this.v6h=ie[13]|0,this.v7l=ie[14]|0,this.v7h=ie[15]|0;let r=e.key?e.key.length:0;if(this.v0l^=this.outputLen|r<<8|65536|1<<24,e.salt){let n=(0,lr.u32)((0,lr.toBytes)(e.salt));this.v4l^=n[0],this.v4h^=n[1],this.v5l^=n[2],this.v5h^=n[3]}if(e.personalization){let n=(0,lr.u32)((0,lr.toBytes)(e.personalization));this.v6l^=n[0],this.v6h^=n[1],this.v7l^=n[2],this.v7h^=n[3]}if(e.key){let n=new Uint8Array(this.blockLen);n.set((0,lr.toBytes)(e.key)),this.update(n)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:s,v2h:o,v3l:a,v3h:u,v4l:l,v4h:c,v5l:d,v5h:S,v6l:m,v6h:b,v7l:A,v7h:O}=this;return[e,r,n,i,s,o,a,u,l,c,d,S,m,b,A,O]}set(e,r,n,i,s,o,a,u,l,c,d,S,m,b,A,O){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=u|0,this.v4l=l|0,this.v4h=c|0,this.v5l=d|0,this.v5h=S|0,this.v6l=m|0,this.v6h=b|0,this.v7l=A|0,this.v7h=O|0}compress(e,r,n){this.get().forEach((u,l)=>_[l]=u),_.set(ie,16);let{h:i,l:s}=pe.default.fromBig(BigInt(this.length));_[24]=ie[8]^s,_[25]=ie[9]^i,n&&(_[28]=~_[28],_[29]=~_[29]);let o=0,a=Ea.SIGMA;for(let u=0;u<12;u++)pt(0,4,8,12,e,r+2*a[o++]),mt(0,4,8,12,e,r+2*a[o++]),pt(1,5,9,13,e,r+2*a[o++]),mt(1,5,9,13,e,r+2*a[o++]),pt(2,6,10,14,e,r+2*a[o++]),mt(2,6,10,14,e,r+2*a[o++]),pt(3,7,11,15,e,r+2*a[o++]),mt(3,7,11,15,e,r+2*a[o++]),pt(0,5,10,15,e,r+2*a[o++]),mt(0,5,10,15,e,r+2*a[o++]),pt(1,6,11,12,e,r+2*a[o++]),mt(1,6,11,12,e,r+2*a[o++]),pt(2,7,8,13,e,r+2*a[o++]),mt(2,7,8,13,e,r+2*a[o++]),pt(3,4,9,14,e,r+2*a[o++]),mt(3,4,9,14,e,r+2*a[o++]);this.v0l^=_[0]^_[16],this.v0h^=_[1]^_[17],this.v1l^=_[2]^_[18],this.v1h^=_[3]^_[19],this.v2l^=_[4]^_[20],this.v2h^=_[5]^_[21],this.v3l^=_[6]^_[22],this.v3h^=_[7]^_[23],this.v4l^=_[8]^_[24],this.v4h^=_[9]^_[25],this.v5l^=_[10]^_[26],this.v5h^=_[11]^_[27],this.v6l^=_[12]^_[28],this.v6h^=_[13]^_[29],this.v7l^=_[14]^_[30],this.v7h^=_[15]^_[31],_.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};_n.blake2b=(0,lr.wrapConstructorWithOpts)(t=>new Mi(t))});var Ji={};ki(Ji,{Coin:()=>Ld,DEFAULT_DECIMALS:()=>Se,cleanUpCoinsValue:()=>Pa,coinToGwei:()=>Ta,coinToWei:()=>An,coinToWeiInBigInt:()=>Hi,dangerouslyWeiToCoinInFloat:()=>Ia,formatFixed:()=>jr,formatNice:()=>Br,gweiToCoin:()=>Ca,gweiToWei:()=>Wi,weiFormatFixed:()=>xn,weiFormatNice:()=>wn,weiToCoin:()=>Lt,weiToGwei:()=>Zi});var Se,$i,Hi,An,Lt,Ia,Br,jr,wn,xn,Zi,Wi,Ta,Ca,Pa,Ld,Ki=Xc(()=>{"use strict";Se=18,$i=t=>{if(typeof t!="number")throw new Error("Invalid decimals, must be a number");if(t<1||t>18)throw new Error("Invalid decimals, must be between 0 and 18");return!0},Hi=(t,e=Se)=>{if(t=t.toString(),!/^\d+(\.\d+)?$/.test(t))throw new Error("Invalid value");$i(e);let r=10n**BigInt(e),[n,i=""]=t.split(".");return i=i.padEnd(e,"0").slice(0,e),BigInt(n)*r+BigInt(i)},An=(t,e=Se)=>Hi(t,e).toString(),Lt=(t,e=Se)=>{$i(e);let r=BigInt(t),n=10n**BigInt(e),i=r/n,a=(r%n).toString().padStart(e,"0").replace(/0+$/,"");return`${i}${a.length>0?"."+a:""}`},Ia=(t,e=Se)=>parseFloat(Lt(t,e)),Br=(t,e=1e5)=>{let r=typeof t=="string"?t:t.toString(),n=parseFloat(r);if(isNaN(n))throw new Error(`Coin.format: Invalid number: ${r}`);if(e===-1)return r;let[i,s=""]=r.split("."),o=parseInt(i);if(o<e){if(!s)return r;let S=parseFloat(`0.${s}`),m=0;S<.1?m=6:o<1?m=4:o<10?m=3:o<1e4?m=2:o<1e5&&(m=1);let b=s.substring(0,m);return b.length<2&&m>=2&&(b=b.padEnd(2,"0")),b.replace(/0/g,"")===""||!b?i:`${i}.${b}`}let a=["","K","M","B","T"],u=o===0?0:Math.min(Math.floor(Math.log(o)/6.907755278982137),4),[l,c=""]=(o/Math.pow(1e3,u)).toString().split(".");return`${l+(c.length>0?"."+c.slice(0,3):"")}${a[u]}`},jr=(t,e=3)=>{let r=t.toString();if(e===-1)return r;let[n,i=""]=r.split(".");return i?`${n}.${i.substring(0,e).padEnd(e,"0")}`:r},wn=(t,e=Se,r=1e5)=>Br(Lt(t,e),r),xn=(t,e=Se,r=3)=>jr(Lt(t,e),r),Zi=(t,e=Se)=>{let r=BigInt(t);if(r<0n)throw new Error("Invalid gwei value");let n=10n**(BigInt(e)/2n),[i,s=""]=[(r/n).toString(),(r%n).toString().padStart(e/2,"0").replace(/0+$/,"")];return s?`${i}.${s}`:i},Wi=(t,e=Se)=>{let r=10n**(BigInt(e)/2n),[n,i=""]=t.toString().split(".");if(BigInt(n)<0n)throw new Error("Invalid gwei value - must be positive");let s=BigInt(n)*r;if(!i)return s.toString();let o=i.padEnd(e/2,"0").slice(0,e/2);return(s+BigInt(o)).toString()},Ta=(t,e=Se)=>Zi(An(t,e),e),Ca=(t,e=Se)=>Lt(Wi(t,e),e),Pa=t=>t.toString().trim().replace(/\.?0+$/,""),Ld=(t,e=Se,r=3,n=1e5)=>{if(typeof t!="string")throw new Error("Invalid currency, must be a string");$i(e);let i=t.trim()===""?"":` ${t.trim()}`;return{coinToWeiInBigInt:s=>Hi(s,e),coinToWei:s=>An(s,e),weiToCoin:s=>Lt(s,e),dangerouslyWeiToCoinInFloat:s=>Ia(s,e),formatNice:s=>Br(s,n)+i,formatMetric:s=>Br(s,n),formatFixed:(s,o=r)=>jr(s,o)+i,formatFixedClean:(s,o=r)=>jr(s,o),weiFormatNice:s=>wn(s,e,n)+i,weiFormatMetric:s=>wn(s,e,n),weiFormatFixed:(s,o=r)=>xn(s,e,o)+i,weiFormatFixedClean:(s,o=r)=>xn(s,e,o),gwei:{gweiToWei:s=>Wi(s,e),weiToGwei:s=>Zi(s,e),gweiToCoin:s=>Ca(s,e),coinToGwei:s=>Ta(s,e)},inAllFormats:(s,o=r)=>{let a=An(s,e),u=Pa(s),l=Br(s,n);return{value:u,metric:l,nice:l+i,fixed:jr(s,o)+i,exact:u+i,currency:t,wei:a}},weiInAllFormats:(s,o=r)=>{let a=Lt(s,e),u=wn(s,e,n);return{value:a,metric:u,nice:u+i,fixed:xn(s,e,o)+i,exact:a+i,currency:t,wei:s.toString()}}}}});var zr=C((Em,$a)=>{"use strict";var Vd=Object.create,En=Object.defineProperty,Bd=Object.getOwnPropertyDescriptor,jd=Object.getOwnPropertyNames,qd=Object.getPrototypeOf,zd=Object.prototype.hasOwnProperty,In=(t,e)=>{for(var r in e)En(t,r,{get:e[r],enumerable:!0})},Sn=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of jd(e))!zd.call(t,i)&&i!==r&&En(t,i,{get:()=>e[i],enumerable:!(n=Bd(e,i))||n.enumerable});return t},Md=(t,e,r)=>(Sn(t,e,"default"),r&&Sn(r,e,"default")),Na=(t,e,r)=>(r=t!=null?Vd(qd(t)):{},Sn(e||!t||!t.__esModule?En(r,"default",{value:t,enumerable:!0}):r,t)),Fd=t=>Sn(En({},"__esModule",{value:!0}),t),Ra={};In(Ra,{Address:()=>Ua,Coin:()=>Yi.Coin,CoinUtils:()=>Yi,HexString:()=>lf,HexUtils:()=>ff,StringUtils:()=>as,Utf16:()=>df,Utf8:()=>cf,constants:()=>Tn});$a.exports=Fd(Ra);var Ua={};In(Ua,{Address:()=>uf,algorithms:()=>es,collection:()=>qa,compare:()=>Fa,constants:()=>Tn,extract:()=>cr,is:()=>F,mirror:()=>ss,nesting:()=>za,normalize:()=>Ma,substrate:()=>os,validate:()=>Fe});var Tn={};In(Tn,{COLLECTION_ADDRESS_PREFIX:()=>Qi,NESTING_PREFIX:()=>Gi,STATIC_ADDRESSES:()=>$d});var $d={contractHelpers:"0x842899ECF380553E8a4de75bF534cdf6fBF64049",collectionHelpers:"0x6C4E9fE1AE37a41E93CEE429e8E1881aBdcbb54F"},Gi="0xf8238ccfff8ed887463fd5e0",Qi="0x17c4e6453cc49aaaaeaca894e6d9683e",es={};In(es,{base58:()=>rs,base64:()=>Wd,basex:()=>ts.default,blake2b:()=>La.blake2b,keccak_256:()=>Da.keccak_256});var ts=Na(Pi()),Da=qi(),La=Fi(),Hd="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Zd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rs=(0,ts.default)(Hd),Wd=(0,ts.default)(Zd),Jd=ft(),rt={_checkU32:t=>{if(typeof t!="number")throw new Error(`Passed number is not a number: ${typeof t}, ${t}`);if(isNaN(t))throw new Error(`Passed number is NaN: ${t}`);if(t<0)throw new Error(`Passed number is less than 0: ${t}`);if(t>4294967295)throw new Error(`Passed number is more than 2**32: ${t}`);if(t!==Math.floor(t))throw new Error(`Passed number is not an integer number: ${t}`);return t},fromNumber:t=>rt._checkU32(t).toString(16).padStart(8,"0"),toNumber:t=>{let e=parseInt(t,16);if(isNaN(e))throw new Error(`Passed string is not hexadecimal: ${t}`);return rt._checkU32(e)}},ns=t=>{let e=t.toLowerCase().replace(/^0x/i,""),r=Jd.HexString.fromU8a((0,Da.keccak_256)(e)).replace(/^0x/i,""),n="0x";for(let i=0;i<e.length;i++)n+=parseInt(r[i],16)>7?e[i].toUpperCase():e[i];return n},dr=t=>(Fe.ethereumAddress(t),ns(t)),Kd=(t,e)=>{let r=typeof t=="string"?t:t.Ethereum||t.ethereum,n=typeof e=="string"?e:e.Ethereum||e.ethereum;return!r||!n||!F.ethereumAddress(r)||!F.ethereumAddress(n)?!1:r.toLowerCase()===n.toLowerCase()},Xd=t=>(Fe.collectionId(t),ns(Qi+rt.fromNumber(t))),Yd=t=>(Fe.collectionAddress(t),rt.toNumber(t.slice(-8))),Gd=(t,e)=>(Fe.collectionId(t),Fe.tokenId(e),ns(Gi+rt.fromNumber(t)+rt.fromNumber(e))),Qd=t=>(Fe.nestingAddress(t),{collectionId:rt.toNumber(t.slice(-16,-8)),tokenId:rt.toNumber(t.slice(-8))}),fr=ft(),Va=(t,e=32)=>(0,La.blake2b)(t,{dkLen:e}),kn=t=>{let e=0,r=0;for(let i=0;i<t.length;i++)r+=t[i].length;let n=new Uint8Array(r);for(let i=0;i<t.length;i++)n.set(t[i],e),e+=t[i].length;return n},ef=new Uint8Array([83,83,53,56,80,82,69]),Ba=t=>Va(kn([ef,t]),64),tf=(t,e=!1)=>{let r=t[0]&64?2:1,n=r===1?t[0]:(t[0]&63)<<2|t[1]>>6|(t[1]&63)<<8,i=[34+r,35+r].includes(t.length),s=t.length-(i?2:1),o=!1;if(!e){let a=Ba(t.subarray(0,s));o=(t[0]&128)===0&&![46,47].includes(t[0])&&(i?t[t.length-2]===a[0]&&t[t.length-1]===a[1]:t[t.length-1]===a[0])}return[o,s,r,n]},yt=(t,e=42)=>is(gt(t).u8a,e);function is(t,e=42){let r=typeof t=="string"?fr.HexString.toU8a(t):typeof t=="bigint"?fr.HexString.toU8a(t.toString(16)):t;if(e<0||e>16383||[46,47].includes(e))throw new Error(`ss58Format is not valid, received ${typeof e} "${e}"`);let n=[1,2,4,8,32,33];if(!n.includes(r.length))throw new Error(`key length is not valid, received ${r.length}, valid values are ${n.join(", ")}`);let i=e<64?new Uint8Array([e]):new Uint8Array([(e&252)>>2|64,e>>8|(e&3)<<6]),s=kn([i,r]);return rs.encode(kn([s,Ba(s).subarray(0,[32,33].includes(r.length)?2:1)]))}function gt(t,e,r=-1){let n=null;try{if(F.substratePublicKey(t))return{u8a:fr.HexString.toU8a(t),bigint:BigInt(t),hex:t,ss58Prefix:42};if(t.startsWith("0x"))throw new Error(`Invalid substrate address, received ${t}. Wrong or mangled public key?`);let i=rs.decode(t),s=[3,4,6,10,35,36,37,38];if(!s.includes(i.length))throw n=new Error(`key length is not valid, decoded key length is ${i.length}, valid values are ${s.join(", ")}`),n;let[o,a,u,l]=tf(i,e);if(!e&&!o)throw n=new Error("Invalid decoded address checksum"),n;if(![-1,l].includes(r))throw n=new Error(`Expected ss58Format ${r}, received ${l}`),n;let c=i.slice(u,a),d=fr.HexString.fromU8a(c);return{u8a:c,hex:d,bigint:BigInt(d),ss58Prefix:l}}catch(i){throw n||new Error(`Decoding ${t}: ${i.message}`)}}var ja=(t,e)=>{let r=typeof t=="string"?t:t.Substrate||t.substrate,n=typeof e=="string"?e:e.Substrate||e.substrate;if(!r||!n)return!1;try{let i=gt(r),s=gt(n);return i.bigint===s.bigint}catch{return!1}},rf=(t,e)=>{let r=gt(t,e).u8a.subarray(0,20);return dr(fr.HexString.fromU8a(r))},nf=new Uint8Array([101,118,109,58]),sf=(t,e=42)=>{Fe.ethereumAddress(t);let r=kn([nf,fr.HexString.toU8a(t)]);return is(Va(r),e)},Ne=(t,e=!1)=>{let r=t;if(typeof r=="object")if(r.hasOwnProperty("eth")&&r.hasOwnProperty("sub")){let n=r.sub.hasOwnProperty("_hex")&&typeof r.sub._hex=="string"?r.sub._hex:r.sub;if(typeof n!="string"||!n.startsWith("0x"))throw new Error(`Substrate public key must be a hex string, got ${n}`);let i=BigInt(n),s=BigInt(r.eth);if(!(+(i===0n)^+(s===0n)))throw new Error(`One of the addresses must be 0, got eth ${r.eth} and substrate public key ${r.sub}.`);return i===0n?{Ethereum:dr(r.eth)}:{Substrate:yt(n)}}else if(r.hasOwnProperty("Substrate")||r.hasOwnProperty("substrate")){let n=r.hasOwnProperty("Substrate")?r.Substrate:r.substrate;if(F.substratePublicKey(n))return{Substrate:yt(n)};if(F.substrateAddress(n))return{Substrate:e?yt(n):n};throw new Error(`Address ${n} is not a valid Substrate address`)}else if(r.hasOwnProperty("Ethereum")||r.hasOwnProperty("ethereum")){let n=r.hasOwnProperty("Ethereum")?r.Ethereum:r.ethereum;return Fe.ethereumAddress(n),{Ethereum:e?dr(n):n}}else throw new Error(`Address ${r} is not a valid crossAccountId object (should contain "Substrate"/"substrate" or "Ethereum"/"ethereum" field) or EthCrossAccountId (should contain "eth" and "sub" fields)`);if(typeof r=="string"){if(F.substrateAddress(r))return{Substrate:e?yt(r):r};if(F.ethereumAddress(r))return{Ethereum:e?dr(r):r};if(F.substratePublicKey(r))return{Substrate:yt(r)};throw new Error(`Address ${r} is not a valid Substrate or Ethereum address`)}throw new Error(`Address ${r} is not a string or object: ${typeof r}`)},qr=(t,e=!1)=>{try{return Ne(t,e)}catch{return null}},On=(t,e=!1)=>{let r=Ne(t,e);return r.Substrate?r.Substrate:ss.ethereumToSubstrate(r.Ethereum)},Xi=(t,e=42)=>{let r=Ne(t);if(r.Ethereum){let n=dr(r.Ethereum);return{...r,address:n,addressSS58:n,substratePublicKey:n,isEthereum:!0,isSubstrate:!1,type:"Ethereum"}}else return{...r,address:yt(r.Substrate),addressSS58:yt(r.Substrate,e),substratePublicKey:gt(r.Substrate).hex,isEthereum:!1,isSubstrate:!0,type:"Substrate"}},of=/^0x[a-fA-F0-9]{40}$/,af=/^0x[a-fA-F0-9]{64}$/,Fe={substrateAddress:t=>(gt(t),!0),ethereumAddress:t=>{if(!F.ethereumAddress(t))throw new Error(`address "${t}" is not valid ethereum address`);return!0},substratePublicKey:t=>{if(!F.substratePublicKey(t))throw new Error(`address "${t}" is not valid substrate public key`);return!0},collectionAddress:t=>{if(!F.collectionAddress(t))throw new Error(`address ${t} is not a collection address`);return!0},nestingAddress:t=>{if(!F.nestingAddress(t))throw new Error(`address ${t} is not a nesting address`);return!0},collectionId:t=>{if(!F.collectionId(t))throw new Error("collectionId should be a number between 0 and 0xffffffff");return!0},tokenId:t=>{if(!F.tokenId(t))throw new Error("collectionId should be a number between 0 and 0xffffffff");return!0}},F={substrateAddress:t=>{try{return gt(t),!F.substratePublicKey(t)}catch{return!1}},ethereumAddress:t=>typeof t=="string"&&t.length===42&&!!t.match(of),substratePublicKey:t=>typeof t=="string"&&t.length===66&&!!t.match(af),collectionAddress:t=>F.ethereumAddress(t)&&t.toLowerCase().startsWith(Qi),nestingAddress:t=>F.ethereumAddress(t)&&t.toLowerCase().startsWith(Gi),collectionId:t=>!(typeof t!="number"||isNaN(t)||t<0||t>4294967295),tokenId:t=>!(typeof t!="number"||isNaN(t)||t<0||t>4294967295),crossAccountId(t){return F.substrateAddressObject(t)||F.ethereumAddressObject(t)},crossAccountIdUncapitalized(t){return F.substrateAddressObjectUncapitalized(t)||F.ethereumAddressObjectUncapitalized(t)},substrateAddressObject(t){return typeof t=="object"&&typeof t?.Substrate=="string"&&F.substrateAddress(t.Substrate)},ethereumAddressObject(t){return typeof t=="object"&&typeof t?.Ethereum=="string"&&F.ethereumAddress(t.Ethereum)},substrateAddressObjectUncapitalized(t){return typeof t=="object"&&typeof t?.substrate=="string"&&F.substrateAddress(t.substrate)},ethereumAddressObjectUncapitalized(t){return typeof t=="object"&&typeof t?.ethereum=="string"&&F.ethereumAddress(t.ethereum)},substrateAddressInAnyForm(t){return typeof t=="string"?F.substrateAddress(t):typeof t=="object"&&!!t&&(F.substrateAddressObject(t)||F.substrateAddressObjectUncapitalized(t))},ethereumAddressInAnyForm(t){return typeof t=="string"?F.ethereumAddress(t):typeof t=="object"&&!!t&&(F.ethereumAddressObject(t)||F.ethereumAddressObjectUncapitalized(t))},validAddressInAnyForm(t){return F.ethereumAddressInAnyForm(t)||F.substrateAddressInAnyForm(t)}},qa={idToAddress:Xd,addressToId:Yd},za={idsToAddress:Gd,addressToIds:Qd},cr={address:t=>{let e=Ne(t);return e.Substrate||e.Ethereum},addressSafe:t=>{let e=qr(t);return e?e.Substrate||e.Ethereum:null},addressNormalized:t=>{let e=Ne(t,!0);return e.Substrate||e.Ethereum},addressNormalizedSafe:t=>{let e=qr(t,!0);return e?e.Substrate||e.Ethereum:null},addressForScanNormalized:t=>{let e=Ne(t,!0);return e.Substrate||e.Ethereum.toLowerCase()},addressForScanNormalizedSafe:t=>{let e=qr(t,!0);return e?e.Substrate||e.Ethereum.toLowerCase():null},crossAccountId:t=>Ne(t),crossAccountIdSafe:t=>qr(t),crossAccountIdNormalized:t=>Ne(t,!0),crossAccountIdNormalizedSafe:t=>qr(t,!0),crossAccountIdUncapitalized:t=>{let e=Ne(t);return e.Substrate?{substrate:e.Substrate}:{ethereum:e.Ethereum}},crossAccountIdUncapitalizedSafe:t=>{try{return cr.crossAccountIdUncapitalized(t)}catch{return null}},crossAccountIdUncapitalizedNormalized:t=>{let e=Ne(t,!0);return e.Substrate?{substrate:e.Substrate}:{ethereum:e.Ethereum}},crossAccountIdUncapitalizedNormalizedSafe:t=>{try{return cr.crossAccountIdUncapitalizedNormalized(t)}catch{return null}},substrateOrMirrorIfEthereum:t=>On(t),substrateOrMirrorIfEthereumSafe:t=>{try{return On(t)}catch{return null}},substrateOrMirrorIfEthereumNormalized:t=>On(t,!0),substrateOrMirrorIfEthereumNormalizedSafe:t=>{try{return On(t,!0)}catch{return null}},substratePublicKey:t=>{let e=Ne(t);if(!e.Substrate)throw new Error("Address is not a substrate address");return os.decode(e.Substrate).hex},substratePublicKeySafe:t=>{try{return cr.substratePublicKey(t)}catch{return null}},enhancedCrossAccountId:(t,e=42)=>Xi(t,e),enhancedCrossAccountIdSafe:(t,e=42)=>{try{return Xi(t,e)}catch{return null}},ethCrossAccountId:t=>{let e=Xi(t);return e.Substrate?{eth:"0x0000000000000000000000000000000000000000",sub:e.substratePublicKey}:{eth:e.address,sub:"0x00"}},ethCrossAccountIdSafe:t=>{try{return cr.ethCrossAccountId(t)}catch{return null}}},ss={substrateToEthereum:rf,ethereumToSubstrate:sf},Ma={substrateAddress:yt,ethereumAddress:dr},Fa={substrateAddresses:ja,ethereumAddresses:Kd},os={encode:is,decode:gt,compare:ja},uf={constants:Tn,algorithms:es,is:F,validate:Fe,collection:qa,nesting:za,extract:cr,mirror:ss,normalize:Ma,compare:Fa,substrate:os,utils:{DWORDHexString:rt}},as=Na(ft()),Yi={};Md(Yi,(Ki(),Ei(Ji)));var{HexString:lf,Utf8:cf,Utf16:df}=as,ff=as.HexString});var Bn=C((Rm,mu)=>{"use strict";var pf=Object.create,Vn=Object.defineProperty,mf=Object.getOwnPropertyDescriptor,yf=Object.getOwnPropertyNames,gf=Object.getPrototypeOf,vf=Object.prototype.hasOwnProperty,Fr=(t,e)=>{for(var r in e)Vn(t,r,{get:e[r],enumerable:!0})},Un=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of yf(e))!vf.call(t,i)&&i!==r&&Vn(t,i,{get:()=>e[i],enumerable:!(n=mf(e,i))||n.enumerable});return t},bf=(t,e,r)=>(Un(t,e,"default"),r&&Un(r,e,"default")),Ja=(t,e,r)=>(r=t!=null?pf(gf(t)):{},Un(e||!t||!t.__esModule?Vn(r,"default",{value:t,enumerable:!0}):r,t)),_f=t=>Un(Vn({},"__esModule",{value:!0}),t),Ka={};Fr(Ka,{Royalties:()=>Hf,RoyaltyType:()=>Dn});mu.exports=_f(Ka);var Dn=(t=>(t.DEFAULT="DEFAULT",t.PRIMARY_ONLY="PRIMARY_ONLY",t))(Dn||{}),Xa={};Fr(Xa,{ROYALTIES_PROPERTY:()=>qf,encodeAddress:()=>uu,get42Zeros:()=>ou,parseRoyalties:()=>lu,parseRoyaltyPart:()=>$r,splitStringEvery:()=>au,toLibPart:()=>zf});var Bt={};Fr(Bt,{Address:()=>fs,algorithms:()=>ys,collection:()=>ru,compare:()=>su,constants:()=>hs,extract:()=>hr,is:()=>$,mirror:()=>ws,nesting:()=>nu,normalize:()=>iu,substrate:()=>xs,validate:()=>$e});var hs={};Fr(hs,{COLLECTION_ADDRESS_PREFIX:()=>ms,NESTING_PREFIX:()=>ps,STATIC_ADDRESSES:()=>wf});var wf={contractHelpers:"0x842899ECF380553E8a4de75bF534cdf6fBF64049",collectionHelpers:"0x6C4E9fE1AE37a41E93CEE429e8E1881aBdcbb54F"},ps="0xf8238ccfff8ed887463fd5e0",ms="0x17c4e6453cc49aaaaeaca894e6d9683e",ys={};Fr(ys,{base58:()=>vs,base64:()=>Of,basex:()=>gs.default,blake2b:()=>Ga.blake2b,keccak_256:()=>Ya.keccak_256});var gs=Ja(Pi()),Ya=qi(),Ga=Fi(),xf="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Af="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vs=(0,gs.default)(xf),Of=(0,gs.default)(Af),Sf=ft(),nt={_checkU32:t=>{if(typeof t!="number")throw new Error(`Passed number is not a number: ${typeof t}, ${t}`);if(isNaN(t))throw new Error(`Passed number is NaN: ${t}`);if(t<0)throw new Error(`Passed number is less than 0: ${t}`);if(t>4294967295)throw new Error(`Passed number is more than 2**32: ${t}`);if(t!==Math.floor(t))throw new Error(`Passed number is not an integer number: ${t}`);return t},fromNumber:t=>nt._checkU32(t).toString(16).padStart(8,"0"),toNumber:t=>{let e=parseInt(t,16);if(isNaN(e))throw new Error(`Passed string is not hexadecimal: ${t}`);return nt._checkU32(e)}},bs=t=>{let e=t.toLowerCase().replace(/^0x/i,""),r=Sf.HexString.fromU8a((0,Ya.keccak_256)(e)).replace(/^0x/i,""),n="0x";for(let i=0;i<e.length;i++)n+=parseInt(r[i],16)>7?e[i].toUpperCase():e[i];return n},pr=t=>($e.ethereumAddress(t),bs(t)),kf=(t,e)=>{let r=typeof t=="string"?t:t.Ethereum||t.ethereum,n=typeof e=="string"?e:e.Ethereum||e.ethereum;return!r||!n||!$.ethereumAddress(r)||!$.ethereumAddress(n)?!1:r.toLowerCase()===n.toLowerCase()},Ef=t=>($e.collectionId(t),bs(ms+nt.fromNumber(t))),If=t=>($e.collectionAddress(t),nt.toNumber(t.slice(-8))),Tf=(t,e)=>($e.collectionId(t),$e.tokenId(e),bs(ps+nt.fromNumber(t)+nt.fromNumber(e))),Cf=t=>($e.nestingAddress(t),{collectionId:nt.toNumber(t.slice(-16,-8)),tokenId:nt.toNumber(t.slice(-8))}),mr=ft(),Qa=(t,e=32)=>(0,Ga.blake2b)(t,{dkLen:e}),Ln=t=>{let e=0,r=0;for(let i=0;i<t.length;i++)r+=t[i].length;let n=new Uint8Array(r);for(let i=0;i<t.length;i++)n.set(t[i],e),e+=t[i].length;return n},Pf=new Uint8Array([83,83,53,56,80,82,69]),eu=t=>Qa(Ln([Pf,t]),64),Nf=(t,e=!1)=>{let r=t[0]&64?2:1,n=r===1?t[0]:(t[0]&63)<<2|t[1]>>6|(t[1]&63)<<8,i=[34+r,35+r].includes(t.length),s=t.length-(i?2:1),o=!1;if(!e){let a=eu(t.subarray(0,s));o=(t[0]&128)===0&&![46,47].includes(t[0])&&(i?t[t.length-2]===a[0]&&t[t.length-1]===a[1]:t[t.length-1]===a[0])}return[o,s,r,n]},bt=(t,e=42)=>_s(_t(t).u8a,e);function _s(t,e=42){let r=typeof t=="string"?mr.HexString.toU8a(t):typeof t=="bigint"?mr.HexString.toU8a(t.toString(16)):t;if(e<0||e>16383||[46,47].includes(e))throw new Error(`ss58Format is not valid, received ${typeof e} "${e}"`);let n=[1,2,4,8,32,33];if(!n.includes(r.length))throw new Error(`key length is not valid, received ${r.length}, valid values are ${n.join(", ")}`);let i=e<64?new Uint8Array([e]):new Uint8Array([(e&252)>>2|64,e>>8|(e&3)<<6]),s=Ln([i,r]);return vs.encode(Ln([s,eu(s).subarray(0,[32,33].includes(r.length)?2:1)]))}function _t(t,e,r=-1){let n=null;try{if($.substratePublicKey(t))return{u8a:mr.HexString.toU8a(t),bigint:BigInt(t),hex:t,ss58Prefix:42};if(t.startsWith("0x"))throw new Error(`Invalid substrate address, received ${t}. Wrong or mangled public key?`);let i=vs.decode(t),s=[3,4,6,10,35,36,37,38];if(!s.includes(i.length))throw n=new Error(`key length is not valid, decoded key length is ${i.length}, valid values are ${s.join(", ")}`),n;let[o,a,u,l]=Nf(i,e);if(!e&&!o)throw n=new Error("Invalid decoded address checksum"),n;if(![-1,l].includes(r))throw n=new Error(`Expected ss58Format ${r}, received ${l}`),n;let c=i.slice(u,a),d=mr.HexString.fromU8a(c);return{u8a:c,hex:d,bigint:BigInt(d),ss58Prefix:l}}catch(i){throw n||new Error(`Decoding ${t}: ${i.message}`)}}var tu=(t,e)=>{let r=typeof t=="string"?t:t.Substrate||t.substrate,n=typeof e=="string"?e:e.Substrate||e.substrate;if(!r||!n)return!1;try{let i=_t(r),s=_t(n);return i.bigint===s.bigint}catch{return!1}},Rf=(t,e)=>{let r=_t(t,e).u8a.subarray(0,20);return pr(mr.HexString.fromU8a(r))},Uf=new Uint8Array([101,118,109,58]),Df=(t,e=42)=>{$e.ethereumAddress(t);let r=Ln([Uf,mr.HexString.toU8a(t)]);return _s(Qa(r),e)},Re=(t,e=!1)=>{let r=t;if(typeof r=="object")if(r.hasOwnProperty("eth")&&r.hasOwnProperty("sub")){let n=r.sub.hasOwnProperty("_hex")&&typeof r.sub._hex=="string"?r.sub._hex:r.sub;if(typeof n!="string"||!n.startsWith("0x"))throw new Error(`Substrate public key must be a hex string, got ${n}`);let i=BigInt(n),s=BigInt(r.eth);if(!(+(i===0n)^+(s===0n)))throw new Error(`One of the addresses must be 0, got eth ${r.eth} and substrate public key ${r.sub}.`);return i===0n?{Ethereum:pr(r.eth)}:{Substrate:bt(n)}}else if(r.hasOwnProperty("Substrate")||r.hasOwnProperty("substrate")){let n=r.hasOwnProperty("Substrate")?r.Substrate:r.substrate;if($.substratePublicKey(n))return{Substrate:bt(n)};if($.substrateAddress(n))return{Substrate:e?bt(n):n};throw new Error(`Address ${n} is not a valid Substrate address`)}else if(r.hasOwnProperty("Ethereum")||r.hasOwnProperty("ethereum")){let n=r.hasOwnProperty("Ethereum")?r.Ethereum:r.ethereum;return $e.ethereumAddress(n),{Ethereum:e?pr(n):n}}else throw new Error(`Address ${r} is not a valid crossAccountId object (should contain "Substrate"/"substrate" or "Ethereum"/"ethereum" field) or EthCrossAccountId (should contain "eth" and "sub" fields)`);if(typeof r=="string"){if($.substrateAddress(r))return{Substrate:e?bt(r):r};if($.ethereumAddress(r))return{Ethereum:e?pr(r):r};if($.substratePublicKey(r))return{Substrate:bt(r)};throw new Error(`Address ${r} is not a valid Substrate or Ethereum address`)}throw new Error(`Address ${r} is not a string or object: ${typeof r}`)},Mr=(t,e=!1)=>{try{return Re(t,e)}catch{return null}},Rn=(t,e=!1)=>{let r=Re(t,e);return r.Substrate?r.Substrate:ws.ethereumToSubstrate(r.Ethereum)},ds=(t,e=42)=>{let r=Re(t);if(r.Ethereum){let n=pr(r.Ethereum);return{...r,address:n,addressSS58:n,substratePublicKey:n,isEthereum:!0,isSubstrate:!1,type:"Ethereum"}}else return{...r,address:bt(r.Substrate),addressSS58:bt(r.Substrate,e),substratePublicKey:_t(r.Substrate).hex,isEthereum:!1,isSubstrate:!0,type:"Substrate"}},Lf=/^0x[a-fA-F0-9]{40}$/,Vf=/^0x[a-fA-F0-9]{64}$/,$e={substrateAddress:t=>(_t(t),!0),ethereumAddress:t=>{if(!$.ethereumAddress(t))throw new Error(`address "${t}" is not valid ethereum address`);return!0},substratePublicKey:t=>{if(!$.substratePublicKey(t))throw new Error(`address "${t}" is not valid substrate public key`);return!0},collectionAddress:t=>{if(!$.collectionAddress(t))throw new Error(`address ${t} is not a collection address`);return!0},nestingAddress:t=>{if(!$.nestingAddress(t))throw new Error(`address ${t} is not a nesting address`);return!0},collectionId:t=>{if(!$.collectionId(t))throw new Error("collectionId should be a number between 0 and 0xffffffff");return!0},tokenId:t=>{if(!$.tokenId(t))throw new Error("collectionId should be a number between 0 and 0xffffffff");return!0}},$={substrateAddress:t=>{try{return _t(t),!$.substratePublicKey(t)}catch{return!1}},ethereumAddress:t=>typeof t=="string"&&t.length===42&&!!t.match(Lf),substratePublicKey:t=>typeof t=="string"&&t.length===66&&!!t.match(Vf),collectionAddress:t=>$.ethereumAddress(t)&&t.toLowerCase().startsWith(ms),nestingAddress:t=>$.ethereumAddress(t)&&t.toLowerCase().startsWith(ps),collectionId:t=>!(typeof t!="number"||isNaN(t)||t<0||t>4294967295),tokenId:t=>!(typeof t!="number"||isNaN(t)||t<0||t>4294967295),crossAccountId(t){return $.substrateAddressObject(t)||$.ethereumAddressObject(t)},crossAccountIdUncapitalized(t){return $.substrateAddressObjectUncapitalized(t)||$.ethereumAddressObjectUncapitalized(t)},substrateAddressObject(t){return typeof t=="object"&&typeof t?.Substrate=="string"&&$.substrateAddress(t.Substrate)},ethereumAddressObject(t){return typeof t=="object"&&typeof t?.Ethereum=="string"&&$.ethereumAddress(t.Ethereum)},substrateAddressObjectUncapitalized(t){return typeof t=="object"&&typeof t?.substrate=="string"&&$.substrateAddress(t.substrate)},ethereumAddressObjectUncapitalized(t){return typeof t=="object"&&typeof t?.ethereum=="string"&&$.ethereumAddress(t.ethereum)},substrateAddressInAnyForm(t){return typeof t=="string"?$.substrateAddress(t):typeof t=="object"&&!!t&&($.substrateAddressObject(t)||$.substrateAddressObjectUncapitalized(t))},ethereumAddressInAnyForm(t){return typeof t=="string"?$.ethereumAddress(t):typeof t=="object"&&!!t&&($.ethereumAddressObject(t)||$.ethereumAddressObjectUncapitalized(t))},validAddressInAnyForm(t){return $.ethereumAddressInAnyForm(t)||$.substrateAddressInAnyForm(t)}},ru={idToAddress:Ef,addressToId:If},nu={idsToAddress:Tf,addressToIds:Cf},hr={address:t=>{let e=Re(t);return e.Substrate||e.Ethereum},addressSafe:t=>{let e=Mr(t);return e?e.Substrate||e.Ethereum:null},addressNormalized:t=>{let e=Re(t,!0);return e.Substrate||e.Ethereum},addressNormalizedSafe:t=>{let e=Mr(t,!0);return e?e.Substrate||e.Ethereum:null},addressForScanNormalized:t=>{let e=Re(t,!0);return e.Substrate||e.Ethereum.toLowerCase()},addressForScanNormalizedSafe:t=>{let e=Mr(t,!0);return e?e.Substrate||e.Ethereum.toLowerCase():null},crossAccountId:t=>Re(t),crossAccountIdSafe:t=>Mr(t),crossAccountIdNormalized:t=>Re(t,!0),crossAccountIdNormalizedSafe:t=>Mr(t,!0),crossAccountIdUncapitalized:t=>{let e=Re(t);return e.Substrate?{substrate:e.Substrate}:{ethereum:e.Ethereum}},crossAccountIdUncapitalizedSafe:t=>{try{return hr.crossAccountIdUncapitalized(t)}catch{return null}},crossAccountIdUncapitalizedNormalized:t=>{let e=Re(t,!0);return e.Substrate?{substrate:e.Substrate}:{ethereum:e.Ethereum}},crossAccountIdUncapitalizedNormalizedSafe:t=>{try{return hr.crossAccountIdUncapitalizedNormalized(t)}catch{return null}},substrateOrMirrorIfEthereum:t=>Rn(t),substrateOrMirrorIfEthereumSafe:t=>{try{return Rn(t)}catch{return null}},substrateOrMirrorIfEthereumNormalized:t=>Rn(t,!0),substrateOrMirrorIfEthereumNormalizedSafe:t=>{try{return Rn(t,!0)}catch{return null}},substratePublicKey:t=>{let e=Re(t);if(!e.Substrate)throw new Error("Address is not a substrate address");return xs.decode(e.Substrate).hex},substratePublicKeySafe:t=>{try{return hr.substratePublicKey(t)}catch{return null}},enhancedCrossAccountId:(t,e=42)=>ds(t,e),enhancedCrossAccountIdSafe:(t,e=42)=>{try{return ds(t,e)}catch{return null}},ethCrossAccountId:t=>{let e=ds(t);return e.Substrate?{eth:"0x0000000000000000000000000000000000000000",sub:e.substratePublicKey}:{eth:e.address,sub:"0x00"}},ethCrossAccountIdSafe:t=>{try{return hr.ethCrossAccountId(t)}catch{return null}}},ws={substrateToEthereum:Rf,ethereumToSubstrate:Df},iu={substrateAddress:bt,ethereumAddress:pr},su={substrateAddresses:tu,ethereumAddresses:kf},xs={encode:_s,decode:_t,compare:tu},fs={constants:hs,algorithms:ys,is:$,validate:$e,collection:ru,nesting:nu,extract:hr,mirror:ws,normalize:iu,compare:su,substrate:xs,utils:{DWORDHexString:nt}},Bf=Ja(ft()),jf={};bf(jf,(Ki(),Ei(Ji)));var{HexString:Cm,Utf8:Pm,Utf16:Nm}=Bf,qf="royalties",ou=()=>"".padStart(42,"0"),au=(t,e)=>{let r=[];for(let n=0;n<t.length;n+=e)r.push(t.substring(n,n+e));return r},uu=t=>Bt.is.ethereumAddress(t)?[!0,Bt.normalize.ethereumAddress(t).substring(2).padStart(64,"0").toLowerCase()]:[!1,Bt.substrate.decode(t).hex.substring(2)],zf=t=>{let e=Bt.is.ethereumAddress(t.address)?t.address:Bt.mirror.substrateToEthereum(t.address),r=t.value*10n**BigInt(t.decimals-4);return{account:e,value:r}},$r=t=>{if(t.version=t.version??1,1>t.version||t.version>127)throw new Error(`Version must be between 1 and 127, got ${t.version}`);if(!Number.isInteger(t.version))throw new Error(`Version must be an integer, got ${t.version}`);if(t.decimals=t.decimals??4,0>t.decimals||t.decimals>255)throw new Error(`Decimals must be between 0 and 255, got ${t.decimals}`);if(!Number.isInteger(t.decimals))throw new Error(`Decimals must be an integer, got ${t.decimals}`);if(!Number.isInteger(t.value)&&typeof t.value!="bigint")throw new Error(`Value must be an integer or bigint, got ${t.value} (${typeof t.value})`);if(t.value<1||t.value>2n**64n-1n)throw new Error(`Value must be between 1 and 18446744073709551615 (uint64), got ${t.value}`);if(t.royaltyType=t.royaltyType??"DEFAULT",!Dn[t.royaltyType])throw new Error(`Royalty type must be one of ${Object.keys(Dn)}, got ${t.royaltyType}`);return t.address=Bt.extract.address(t.address),t},lu=t=>{if(!Array.isArray(t))throw new Error("Royalties must be an array");return t.map($r)},cu=(t,e)=>{let r=$r(t);return{address:r.address,amount:e*r.value/10n**BigInt(r.decimals)}},Mf=(t,e,r)=>t.filter(n=>e===(n.royaltyType==="PRIMARY_ONLY")).map(n=>cu(n,r)),du=t=>{if(t.length!==130)throw new Error('Invalid royalty part encoding - length is not 32 bytes ("0x" + 64 symbols)');let e=t.slice(2,66),r=t.slice(66),n=parseInt(e.slice(0,2),16),i=parseInt(e.slice(46,48),16),s=BigInt("0x"+e.slice(48)),o=e[44]==="0"?"DEFAULT":"PRIMARY_ONLY",u=e[45]==="0"?fs.normalize.ethereumAddress("0x"+r.slice(24)):fs.substrate.encode(r);return{version:n,decimals:i,value:s,royaltyType:o,address:u}},fu=t=>{if((t.length-2)%128!==0)throw new Error("Invalid royalties encoding - length is not multiple of 64 bytes (128 symbols)");return au(t.substring(2),128).map(r=>"0x"+r).map(r=>du(r))},Ff=t=>(t?fu(t):[]).map(r=>{let n={address:r.address,percent:Number(r.value)/Math.pow(10,r.decimals-2)};return r.royaltyType==="PRIMARY_ONLY"&&(n.isPrimaryOnly=!0),n}),hu=t=>{let e=$r(t),r=e.version.toString(16).padStart(2,"0"),n=e.royaltyType==="DEFAULT"?"0":"1",i=e.decimals.toString(16).padStart(2,"0"),s=e.value.toString(16).padStart(16,"0"),[o,a]=uu(e.address),u=o?"0":"1";return`0x${r}${ou()}${n}${u}${i}${s}${a}`},pu=t=>"0x"+t.map(e=>hu(e).substring(2)).join(""),$f=t=>{let e=t.map(r=>{let{address:n,percent:i,isPrimaryOnly:s}=r;if(i*100%1!==0)throw new Error("Royalty percent value must has maximum 2 decimal places");return{address:n,value:BigInt(i*100),decimals:4,royaltyType:s?"PRIMARY_ONLY":"DEFAULT",version:1}});return pu(e)},Hf={part:{calculate:cu,decode:du,encode:hu,validate:t=>($r(t),!0)},calculate:Mf,decode:fu,encode:pu,validate:t=>(lu(t),!0),uniqueV2:{decode:Ff,encode:$f},utils:Xa}});var As=C((Dm,yu)=>{"use strict";yu.exports=Zf;function Zf(t,e){for(var r=new Array(arguments.length-1),n=0,i=2,s=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(a,u){r[n]=function(c){if(s)if(s=!1,c)u(c);else{for(var d=new Array(arguments.length-1),S=0;S<d.length;)d[S++]=arguments[S];a.apply(null,d)}};try{t.apply(e||null,r)}catch(l){s&&(s=!1,u(l))}})}});var _u=C(bu=>{"use strict";var qn=bu;qn.length=function(e){var r=e.length;if(!r)return 0;for(var n=0;--r%4>1&&e.charAt(r)==="=";)++n;return Math.ceil(e.length*3)/4-n};var yr=new Array(64),vu=new Array(123);for(Ue=0;Ue<64;)vu[yr[Ue]=Ue<26?Ue+65:Ue<52?Ue+71:Ue<62?Ue-4:Ue-59|43]=Ue++;var Ue;qn.encode=function(e,r,n){for(var i=null,s=[],o=0,a=0,u;r<n;){var l=e[r++];switch(a){case 0:s[o++]=yr[l>>2],u=(l&3)<<4,a=1;break;case 1:s[o++]=yr[u|l>>4],u=(l&15)<<2,a=2;break;case 2:s[o++]=yr[u|l>>6],s[o++]=yr[l&63],a=0;break}o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0)}return a&&(s[o++]=yr[u],s[o++]=61,a===1&&(s[o++]=61)),i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var gu="invalid encoding";qn.decode=function(e,r,n){for(var i=n,s=0,o,a=0;a<e.length;){var u=e.charCodeAt(a++);if(u===61&&s>1)break;if((u=vu[u])===void 0)throw Error(gu);switch(s){case 0:o=u,s=1;break;case 1:r[n++]=o<<2|(u&48)>>4,o=u,s=2;break;case 2:r[n++]=(o&15)<<4|(u&60)>>2,o=u,s=3;break;case 3:r[n++]=(o&3)<<6|u,s=0;break}}if(s===1)throw Error(gu);return n-i};qn.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var xu=C((Vm,wu)=>{"use strict";wu.exports=zn;function zn(){this._listeners={}}zn.prototype.on=function(e,r,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:n||this}),this};zn.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this};zn.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}});var Tu=C((Bm,Iu)=>{"use strict";Iu.exports=Au(Au);function Au(t){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),n=r[3]===128;function i(u,l,c){e[0]=u,l[c]=r[0],l[c+1]=r[1],l[c+2]=r[2],l[c+3]=r[3]}function s(u,l,c){e[0]=u,l[c]=r[3],l[c+1]=r[2],l[c+2]=r[1],l[c+3]=r[0]}t.writeFloatLE=n?i:s,t.writeFloatBE=n?s:i;function o(u,l){return r[0]=u[l],r[1]=u[l+1],r[2]=u[l+2],r[3]=u[l+3],e[0]}function a(u,l){return r[3]=u[l],r[2]=u[l+1],r[1]=u[l+2],r[0]=u[l+3],e[0]}t.readFloatLE=n?o:a,t.readFloatBE=n?a:o}():function(){function e(n,i,s,o){var a=i<0?1:0;if(a&&(i=-i),i===0)n(1/i>0?0:2147483648,s,o);else if(isNaN(i))n(2143289344,s,o);else if(i>34028234663852886e22)n((a<<31|2139095040)>>>0,s,o);else if(i<11754943508222875e-54)n((a<<31|Math.round(i/1401298464324817e-60))>>>0,s,o);else{var u=Math.floor(Math.log(i)/Math.LN2),l=Math.round(i*Math.pow(2,-u)*8388608)&8388607;n((a<<31|u+127<<23|l)>>>0,s,o)}}t.writeFloatLE=e.bind(null,Ou),t.writeFloatBE=e.bind(null,Su);function r(n,i,s){var o=n(i,s),a=(o>>31)*2+1,u=o>>>23&255,l=o&8388607;return u===255?l?NaN:a*(1/0):u===0?a*1401298464324817e-60*l:a*Math.pow(2,u-150)*(l+8388608)}t.readFloatLE=r.bind(null,ku),t.readFloatBE=r.bind(null,Eu)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),n=r[7]===128;function i(u,l,c){e[0]=u,l[c]=r[0],l[c+1]=r[1],l[c+2]=r[2],l[c+3]=r[3],l[c+4]=r[4],l[c+5]=r[5],l[c+6]=r[6],l[c+7]=r[7]}function s(u,l,c){e[0]=u,l[c]=r[7],l[c+1]=r[6],l[c+2]=r[5],l[c+3]=r[4],l[c+4]=r[3],l[c+5]=r[2],l[c+6]=r[1],l[c+7]=r[0]}t.writeDoubleLE=n?i:s,t.writeDoubleBE=n?s:i;function o(u,l){return r[0]=u[l],r[1]=u[l+1],r[2]=u[l+2],r[3]=u[l+3],r[4]=u[l+4],r[5]=u[l+5],r[6]=u[l+6],r[7]=u[l+7],e[0]}function a(u,l){return r[7]=u[l],r[6]=u[l+1],r[5]=u[l+2],r[4]=u[l+3],r[3]=u[l+4],r[2]=u[l+5],r[1]=u[l+6],r[0]=u[l+7],e[0]}t.readDoubleLE=n?o:a,t.readDoubleBE=n?a:o}():function(){function e(n,i,s,o,a,u){var l=o<0?1:0;if(l&&(o=-o),o===0)n(0,a,u+i),n(1/o>0?0:2147483648,a,u+s);else if(isNaN(o))n(0,a,u+i),n(2146959360,a,u+s);else if(o>17976931348623157e292)n(0,a,u+i),n((l<<31|2146435072)>>>0,a,u+s);else{var c;if(o<22250738585072014e-324)c=o/5e-324,n(c>>>0,a,u+i),n((l<<31|c/4294967296)>>>0,a,u+s);else{var d=Math.floor(Math.log(o)/Math.LN2);d===1024&&(d=1023),c=o*Math.pow(2,-d),n(c*4503599627370496>>>0,a,u+i),n((l<<31|d+1023<<20|c*1048576&1048575)>>>0,a,u+s)}}}t.writeDoubleLE=e.bind(null,Ou,0,4),t.writeDoubleBE=e.bind(null,Su,4,0);function r(n,i,s,o,a){var u=n(o,a+i),l=n(o,a+s),c=(l>>31)*2+1,d=l>>>20&2047,S=4294967296*(l&1048575)+u;return d===2047?S?NaN:c*(1/0):d===0?c*5e-324*S:c*Math.pow(2,d-1075)*(S+4503599627370496)}t.readDoubleLE=r.bind(null,ku,0,4),t.readDoubleBE=r.bind(null,Eu,4,0)}(),t}function Ou(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function Su(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function ku(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function Eu(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var Os=C((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var Pu=C(Cu=>{"use strict";var Ss=Cu;Ss.length=function(e){for(var r=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)===55296&&(e.charCodeAt(i+1)&64512)===56320?(++i,r+=4):r+=3;return r};Ss.read=function(e,r,n){var i=n-r;if(i<1)return"";for(var s=null,o=[],a=0,u;r<n;)u=e[r++],u<128?o[a++]=u:u>191&&u<224?o[a++]=(u&31)<<6|e[r++]&63:u>239&&u<365?(u=((u&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,o[a++]=55296+(u>>10),o[a++]=56320+(u&1023)):o[a++]=(u&15)<<12|(e[r++]&63)<<6|e[r++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};Ss.write=function(e,r,n){for(var i=n,s,o,a=0;a<e.length;++a)s=e.charCodeAt(a),s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):(s&64512)===55296&&((o=e.charCodeAt(a+1))&64512)===56320?(s=65536+((s&1023)<<10)+(o&1023),++a,r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128);return n-i}});var Ru=C((qm,Nu)=>{"use strict";Nu.exports=Wf;function Wf(t,e,r){var n=r||8192,i=n>>>1,s=null,o=n;return function(u){if(u<1||u>i)return t(u);o+u>n&&(s=t(n),o=0);var l=e.call(s,o,o+=u);return o&7&&(o=(o|7)+1),l}}});var Du=C((zm,Uu)=>{"use strict";Uu.exports=oe;var Hr=He();function oe(t,e){this.lo=t>>>0,this.hi=e>>>0}var jt=oe.zero=new oe(0,0);jt.toNumber=function(){return 0};jt.zzEncode=jt.zzDecode=function(){return this};jt.length=function(){return 1};var Jf=oe.zeroHash="\0\0\0\0\0\0\0\0";oe.fromNumber=function(e){if(e===0)return jt;var r=e<0;r&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new oe(n,i)};oe.from=function(e){if(typeof e=="number")return oe.fromNumber(e);if(Hr.isString(e))if(Hr.Long)e=Hr.Long.fromString(e);else return oe.fromNumber(parseInt(e,10));return e.low||e.high?new oe(e.low>>>0,e.high>>>0):jt};oe.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};oe.prototype.toLong=function(e){return Hr.Long?new Hr.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var wt=String.prototype.charCodeAt;oe.fromHash=function(e){return e===Jf?jt:new oe((wt.call(e,0)|wt.call(e,1)<<8|wt.call(e,2)<<16|wt.call(e,3)<<24)>>>0,(wt.call(e,4)|wt.call(e,5)<<8|wt.call(e,6)<<16|wt.call(e,7)<<24)>>>0)};oe.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};oe.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};oe.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};oe.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var He=C(ks=>{"use strict";var I=ks;I.asPromise=As();I.base64=_u();I.EventEmitter=xu();I.float=Tu();I.inquire=Os();I.utf8=Pu();I.pool=Ru();I.LongBits=Du();I.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);I.global=I.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||ks;I.emptyArray=Object.freeze?Object.freeze([]):[];I.emptyObject=Object.freeze?Object.freeze({}):{};I.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};I.isString=function(e){return typeof e=="string"||e instanceof String};I.isObject=function(e){return e&&typeof e=="object"};I.isset=I.isSet=function(e,r){var n=e[r];return n!=null&&e.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};I.Buffer=function(){try{var t=I.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}}();I._Buffer_from=null;I._Buffer_allocUnsafe=null;I.newBuffer=function(e){return typeof e=="number"?I.Buffer?I._Buffer_allocUnsafe(e):new I.Array(e):I.Buffer?I._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};I.Array=typeof Uint8Array<"u"?Uint8Array:Array;I.Long=I.global.dcodeIO&&I.global.dcodeIO.Long||I.global.Long||I.inquire("long");I.key2Re=/^true|false|0|1$/;I.key32Re=/^-?(?:0|[1-9][0-9]*)$/;I.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;I.longToHash=function(e){return e?I.LongBits.from(e).toHash():I.LongBits.zeroHash};I.longFromHash=function(e,r){var n=I.LongBits.fromHash(e);return I.Long?I.Long.fromBits(n.lo,n.hi,r):n.toNumber(!!r)};function Lu(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;++i)(t[n[i]]===void 0||!r)&&(t[n[i]]=e[n[i]]);return t}I.merge=Lu;I.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function Vu(t){function e(r,n){if(!(this instanceof e))return new e(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&Lu(this,n)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return t},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}I.newError=Vu;I.ProtocolError=Vu("ProtocolError");I.oneOfGetter=function(e){for(var r={},n=0;n<e.length;++n)r[e[n]]=1;return function(){for(var i=Object.keys(this),s=i.length-1;s>-1;--s)if(r[i[s]]===1&&this[i[s]]!==void 0&&this[i[s]]!==null)return i[s]}};I.oneOfSetter=function(e){return function(r){for(var n=0;n<e.length;++n)e[n]!==r&&delete this[e[n]]}};I.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};I._configure=function(){var t=I.Buffer;if(!t){I._Buffer_from=I._Buffer_allocUnsafe=null;return}I._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,n){return new t(r,n)},I._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var Fn=C((Fm,zu)=>{"use strict";zu.exports=W;var ke=He(),Es,Mn=ke.LongBits,Bu=ke.base64,ju=ke.utf8;function Zr(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function Ts(){}function Kf(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function W(){this.len=0,this.head=new Zr(Ts,0,0),this.tail=this.head,this.states=null}var qu=function(){return ke.Buffer?function(){return(W.create=function(){return new Es})()}:function(){return new W}};W.create=qu();W.alloc=function(e){return new ke.Array(e)};ke.Array!==Array&&(W.alloc=ke.pool(W.alloc,ke.Array.prototype.subarray));W.prototype._push=function(e,r,n){return this.tail=this.tail.next=new Zr(e,r,n),this.len+=r,this};function Cs(t,e,r){e[r]=t&255}function Xf(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function Ps(t,e){this.len=t,this.next=void 0,this.val=e}Ps.prototype=Object.create(Zr.prototype);Ps.prototype.fn=Xf;W.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new Ps((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};W.prototype.int32=function(e){return e<0?this._push(Ns,10,Mn.fromNumber(e)):this.uint32(e)};W.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function Ns(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}W.prototype.uint64=function(e){var r=Mn.from(e);return this._push(Ns,r.length(),r)};W.prototype.int64=W.prototype.uint64;W.prototype.sint64=function(e){var r=Mn.from(e).zzEncode();return this._push(Ns,r.length(),r)};W.prototype.bool=function(e){return this._push(Cs,1,e?1:0)};function Is(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}W.prototype.fixed32=function(e){return this._push(Is,4,e>>>0)};W.prototype.sfixed32=W.prototype.fixed32;W.prototype.fixed64=function(e){var r=Mn.from(e);return this._push(Is,4,r.lo)._push(Is,4,r.hi)};W.prototype.sfixed64=W.prototype.fixed64;W.prototype.float=function(e){return this._push(ke.float.writeFloatLE,4,e)};W.prototype.double=function(e){return this._push(ke.float.writeDoubleLE,8,e)};var Yf=ke.Array.prototype.set?function(e,r,n){r.set(e,n)}:function(e,r,n){for(var i=0;i<e.length;++i)r[n+i]=e[i]};W.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(Cs,1,0);if(ke.isString(e)){var n=W.alloc(r=Bu.length(e));Bu.decode(e,n,0),e=n}return this.uint32(r)._push(Yf,r,e)};W.prototype.string=function(e){var r=ju.length(e);return r?this.uint32(r)._push(ju.write,r,e):this._push(Cs,1,0)};W.prototype.fork=function(){return this.states=new Kf(this),this.head=this.tail=new Zr(Ts,0,0),this.len=0,this};W.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Zr(Ts,0,0),this.len=0),this};W.prototype.ldelim=function(){var e=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=r,this.len+=n),this};W.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,r,n),n+=e.len,e=e.next;return r};W._configure=function(t){Es=t,W.create=qu(),Es._configure()}});var $u=C(($m,Fu)=>{"use strict";Fu.exports=Ze;var Mu=Fn();(Ze.prototype=Object.create(Mu.prototype)).constructor=Ze;var xt=He();function Ze(){Mu.call(this)}Ze._configure=function(){Ze.alloc=xt._Buffer_allocUnsafe,Ze.writeBytesBuffer=xt.Buffer&&xt.Buffer.prototype instanceof Uint8Array&&xt.Buffer.prototype.set.name==="set"?function(e,r,n){r.set(e,n)}:function(e,r,n){if(e.copy)e.copy(r,n,0,e.length);else for(var i=0;i<e.length;)r[n++]=e[i++]}};Ze.prototype.bytes=function(e){xt.isString(e)&&(e=xt._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(Ze.writeBytesBuffer,r,e),this};function Gf(t,e,r){t.length<40?xt.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}Ze.prototype.string=function(e){var r=xt.Buffer.byteLength(e);return this.uint32(r),r&&this._push(Gf,r,e),this};Ze._configure()});var Hn=C((Hm,Ku)=>{"use strict";Ku.exports=te;var De=He(),Us,Wu=De.LongBits,Qf=De.utf8;function Le(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function te(t){this.buf=t,this.pos=0,this.len=t.length}var Hu=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new te(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new te(e);throw Error("illegal buffer")},Ju=function(){return De.Buffer?function(r){return(te.create=function(i){return De.Buffer.isBuffer(i)?new Us(i):Hu(i)})(r)}:Hu};te.create=Ju();te.prototype._slice=De.Array.prototype.subarray||De.Array.prototype.slice;te.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Le(this,10);return e}}();te.prototype.int32=function(){return this.uint32()|0};te.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function Rs(){var t=new Wu(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw Le(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw Le(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}te.prototype.bool=function(){return this.uint32()!==0};function $n(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}te.prototype.fixed32=function(){if(this.pos+4>this.len)throw Le(this,4);return $n(this.buf,this.pos+=4)};te.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Le(this,4);return $n(this.buf,this.pos+=4)|0};function Zu(){if(this.pos+8>this.len)throw Le(this,8);return new Wu($n(this.buf,this.pos+=4),$n(this.buf,this.pos+=4))}te.prototype.float=function(){if(this.pos+4>this.len)throw Le(this,4);var e=De.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};te.prototype.double=function(){if(this.pos+8>this.len)throw Le(this,4);var e=De.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};te.prototype.bytes=function(){var e=this.uint32(),r=this.pos,n=this.pos+e;if(n>this.len)throw Le(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(r,n);if(r===n){var i=De.Buffer;return i?i.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,r,n)};te.prototype.string=function(){var e=this.bytes();return Qf.read(e,0,e.length)};te.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Le(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Le(this);while(this.buf[this.pos++]&128);return this};te.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};te._configure=function(t){Us=t,te.create=Ju(),Us._configure();var e=De.Long?"toLong":"toNumber";De.merge(te.prototype,{int64:function(){return Rs.call(this)[e](!1)},uint64:function(){return Rs.call(this)[e](!0)},sint64:function(){return Rs.call(this).zzDecode()[e](!1)},fixed64:function(){return Zu.call(this)[e](!0)},sfixed64:function(){return Zu.call(this)[e](!1)}})}});var Qu=C((Zm,Gu)=>{"use strict";Gu.exports=qt;var Yu=Hn();(qt.prototype=Object.create(Yu.prototype)).constructor=qt;var Xu=He();function qt(t){Yu.call(this,t)}qt._configure=function(){Xu.Buffer&&(qt.prototype._slice=Xu.Buffer.prototype.slice)};qt.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};qt._configure()});var tl=C((Wm,el)=>{"use strict";el.exports=Wr;var Ds=He();(Wr.prototype=Object.create(Ds.EventEmitter.prototype)).constructor=Wr;function Wr(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");Ds.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=!!e,this.responseDelimited=!!r}Wr.prototype.rpcCall=function t(e,r,n,i,s){if(!i)throw TypeError("request must be specified");var o=this;if(!s)return Ds.asPromise(t,o,e,r,n,i);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(e,r[o.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(u,l){if(u)return o.emit("error",u,e),s(u);if(l===null){o.end(!0);return}if(!(l instanceof n))try{l=n[o.responseDelimited?"decodeDelimited":"decode"](l)}catch(c){return o.emit("error",c,e),s(c)}return o.emit("data",l,e),s(null,l)})}catch(a){o.emit("error",a,e),setTimeout(function(){s(a)},0);return}};Wr.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var Ls=C(rl=>{"use strict";var eh=rl;eh.Service=tl()});var Vs=C((Km,nl)=>{"use strict";nl.exports={}});var ol=C(sl=>{"use strict";var ge=sl;ge.build="minimal";ge.Writer=Fn();ge.BufferWriter=$u();ge.Reader=Hn();ge.BufferReader=Qu();ge.util=He();ge.rpc=Ls();ge.roots=Vs();ge.configure=il;function il(){ge.util._configure(),ge.Writer._configure(ge.BufferWriter),ge.Reader._configure(ge.BufferReader)}il()});var ul=C((Ym,al)=>{"use strict";al.exports=Bs;function Bs(t,e){typeof t=="string"&&(e=t,t=void 0);var r=[];function n(s){if(typeof s!="string"){var o=i();if(Bs.verbose&&console.log("codegen: "+o),o="return "+o,s){for(var a=Object.keys(s),u=new Array(a.length+1),l=new Array(a.length),c=0;c<a.length;)u[c]=a[c],l[c]=s[a[c++]];return u[c]=o,Function.apply(null,u).apply(null,l)}return Function(o)()}for(var d=new Array(arguments.length-1),S=0;S<d.length;)d[S]=arguments[++S];if(S=0,s=s.replace(/%([%dfijs])/g,function(b,A){var O=d[S++];switch(A){case"d":case"f":return String(Number(O));case"i":return String(Math.floor(O));case"j":return JSON.stringify(O);case"s":return String(O)}return"%"}),S!==d.length)throw Error("parameter count mismatch");return r.push(s),n}function i(s){return"function "+(s||e||"")+"("+(t&&t.join(",")||"")+`){
  `+r.join(`
  `)+`
}`}return n.toString=i,n}Bs.verbose=!1});var cl=C((Gm,ll)=>{"use strict";ll.exports=Jr;var th=As(),rh=Os(),js=rh("fs");function Jr(t,e,r){return typeof e=="function"?(r=e,e={}):e||(e={}),r?!e.xhr&&js&&js.readFile?js.readFile(t,function(i,s){return i&&typeof XMLHttpRequest<"u"?Jr.xhr(t,e,r):i?r(i):r(null,e.binary?s:s.toString("utf8"))}):Jr.xhr(t,e,r):th(Jr,this,t,e)}Jr.xhr=function(e,r,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===4){if(i.status!==0&&i.status!==200)return n(Error("status "+i.status));if(r.binary){var o=i.response;if(!o){o=[];for(var a=0;a<i.responseText.length;++a)o.push(i.responseText.charCodeAt(a)&255)}return n(null,typeof Uint8Array<"u"?new Uint8Array(o):o)}return n(null,i.responseText)}},r.binary&&("overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.responseType="arraybuffer"),i.open("GET",e),i.send()}});var hl=C(fl=>{"use strict";var zs=fl,dl=zs.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},qs=zs.normalize=function(e){e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var r=e.split("/"),n=dl(e),i="";n&&(i=r.shift()+"/");for(var s=0;s<r.length;)r[s]===".."?s>0&&r[s-1]!==".."?r.splice(--s,2):n?r.splice(s,1):++s:r[s]==="."?r.splice(s,1):++s;return i+r.join("/")};zs.resolve=function(e,r,n){return n||(r=qs(r)),dl(r)?r:(n||(e=qs(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?qs(e+"/"+r):r)}});var zt=C(pl=>{"use strict";var Kr=pl,nh=ae(),ih=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function Xr(t,e){var r=0,n={};for(e|=0;r<t.length;)n[ih[r+e]]=t[r++];return n}Kr.basic=Xr([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);Kr.defaults=Xr([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",nh.emptyArray,null]);Kr.long=Xr([0,0,0,1,1],7);Kr.mapKey=Xr([0,0,0,5,5,0,0,0,1,1,0,2],2);Kr.packed=Xr([1,5,0,0,0,5,5,0,0,0,1,1,0])});var At=C((ty,gl)=>{"use strict";gl.exports=Ee;var Zn=Mt();((Ee.prototype=Object.create(Zn.prototype)).constructor=Ee).className="Field";var ml=Ve(),yl=zt(),ne=ae(),Ms,sh=/^required|optional|repeated$/;Ee.fromJSON=function(e,r){return new Ee(e,r.id,r.type,r.rule,r.extend,r.options,r.comment)};function Ee(t,e,r,n,i,s,o){if(ne.isObject(n)?(o=i,s=n,n=i=void 0):ne.isObject(i)&&(o=s,s=i,i=void 0),Zn.call(this,t,s),!ne.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!ne.isString(r))throw TypeError("type must be a string");if(n!==void 0&&!sh.test(n=n.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(i!==void 0&&!ne.isString(i))throw TypeError("extend must be a string");n==="proto3_optional"&&(n="optional"),this.rule=n&&n!=="optional"?n:void 0,this.type=r,this.id=e,this.extend=i||void 0,this.required=n==="required",this.optional=!this.required,this.repeated=n==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=ne.Long?yl.long[r]!==void 0:!1,this.bytes=r==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=o}Object.defineProperty(Ee.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}});Ee.prototype.setOption=function(e,r,n){return e==="packed"&&(this._packed=null),Zn.prototype.setOption.call(this,e,r,n)};Ee.prototype.toJSON=function(e){var r=e?!!e.keepComments:!1;return ne.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",r?this.comment:void 0])};Ee.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=yl.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof Ms?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof ml&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof ml))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=ne.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var e;ne.base64.test(this.typeDefault)?ne.base64.decode(this.typeDefault,e=ne.newBuffer(ne.base64.length(this.typeDefault)),0):ne.utf8.write(this.typeDefault,e=ne.newBuffer(ne.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=ne.emptyObject:this.repeated?this.defaultValue=ne.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof Ms&&(this.parent.ctor.prototype[this.name]=this.defaultValue),Zn.prototype.resolve.call(this)};Ee.d=function(e,r,n,i){return typeof r=="function"?r=ne.decorateType(r).name:r&&typeof r=="object"&&(r=ne.decorateEnum(r).name),function(o,a){ne.decorateType(o.constructor).add(new Ee(a,e,r,n,{default:i}))}};Ee._configure=function(e){Ms=e}});var gr=C((ry,_l)=>{"use strict";_l.exports=Ie;var Jn=Mt();((Ie.prototype=Object.create(Jn.prototype)).constructor=Ie).className="OneOf";var vl=At(),Wn=ae();function Ie(t,e,r,n){if(Array.isArray(e)||(r=e,e=void 0),Jn.call(this,t,r),!(e===void 0||Array.isArray(e)))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=n}Ie.fromJSON=function(e,r){return new Ie(e,r.oneof,r.options,r.comment)};Ie.prototype.toJSON=function(e){var r=e?!!e.keepComments:!1;return Wn.toObject(["options",this.options,"oneof",this.oneof,"comment",r?this.comment:void 0])};function bl(t){if(t.parent)for(var e=0;e<t.fieldsArray.length;++e)t.fieldsArray[e].parent||t.parent.add(t.fieldsArray[e])}Ie.prototype.add=function(e){if(!(e instanceof vl))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,bl(this),this};Ie.prototype.remove=function(e){if(!(e instanceof vl))throw TypeError("field must be a Field");var r=this.fieldsArray.indexOf(e);if(r<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(r,1),r=this.oneof.indexOf(e.name),r>-1&&this.oneof.splice(r,1),e.partOf=null,this};Ie.prototype.onAdd=function(e){Jn.prototype.onAdd.call(this,e);for(var r=this,n=0;n<this.oneof.length;++n){var i=e.get(this.oneof[n]);i&&!i.partOf&&(i.partOf=r,r.fieldsArray.push(i))}bl(this)};Ie.prototype.onRemove=function(e){for(var r=0,n;r<this.fieldsArray.length;++r)(n=this.fieldsArray[r]).parent&&n.parent.remove(n);Jn.prototype.onRemove.call(this,e)};Ie.d=function(){for(var e=new Array(arguments.length),r=0;r<arguments.length;)e[r]=arguments[r++];return function(i,s){Wn.decorateType(i.constructor).add(new Ie(s,e)),Object.defineProperty(i,s,{get:Wn.oneOfGetter(e),set:Wn.oneOfSetter(e)})}}});var _r=C((ny,Ol)=>{"use strict";Ol.exports=J;var Fs=Mt();((J.prototype=Object.create(Fs.prototype)).constructor=J).className="Namespace";var wl=At(),Kn=ae(),oh=gr(),vr,Yr,br;J.fromJSON=function(e,r){return new J(e,r.options).addJSON(r.nested)};function xl(t,e){if(t&&t.length){for(var r={},n=0;n<t.length;++n)r[t[n].name]=t[n].toJSON(e);return r}}J.arrayToJSON=xl;J.isReservedId=function(e,r){if(e){for(var n=0;n<e.length;++n)if(typeof e[n]!="string"&&e[n][0]<=r&&e[n][1]>r)return!0}return!1};J.isReservedName=function(e,r){if(e){for(var n=0;n<e.length;++n)if(e[n]===r)return!0}return!1};function J(t,e){Fs.call(this,t,e),this.nested=void 0,this._nestedArray=null}function Al(t){return t._nestedArray=null,t}Object.defineProperty(J.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=Kn.toArray(this.nested))}});J.prototype.toJSON=function(e){return Kn.toObject(["options",this.options,"nested",xl(this.nestedArray,e)])};J.prototype.addJSON=function(e){var r=this;if(e)for(var n=Object.keys(e),i=0,s;i<n.length;++i)s=e[n[i]],r.add((s.fields!==void 0?vr.fromJSON:s.values!==void 0?br.fromJSON:s.methods!==void 0?Yr.fromJSON:s.id!==void 0?wl.fromJSON:J.fromJSON)(n[i],s));return this};J.prototype.get=function(e){return this.nested&&this.nested[e]||null};J.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof br)return this.nested[e].values;throw Error("no such enum: "+e)};J.prototype.add=function(e){if(!(e instanceof wl&&e.extend!==void 0||e instanceof vr||e instanceof oh||e instanceof br||e instanceof Yr||e instanceof J))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var r=this.get(e.name);if(r)if(r instanceof J&&e instanceof J&&!(r instanceof vr||r instanceof Yr)){for(var n=r.nestedArray,i=0;i<n.length;++i)e.add(n[i]);this.remove(r),this.nested||(this.nested={}),e.setOptions(r.options,!0)}else throw Error("duplicate name '"+e.name+"' in "+this)}return this.nested[e.name]=e,e.onAdd(this),Al(this)};J.prototype.remove=function(e){if(!(e instanceof Fs))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),Al(this)};J.prototype.define=function(e,r){if(Kn.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&e[0]==="")throw Error("path must be relative");for(var n=this;e.length>0;){var i=e.shift();if(n.nested&&n.nested[i]){if(n=n.nested[i],!(n instanceof J))throw Error("path conflicts with non-namespace objects")}else n.add(n=new J(i))}return r&&n.addJSON(r),n};J.prototype.resolveAll=function(){for(var e=this.nestedArray,r=0;r<e.length;)e[r]instanceof J?e[r++].resolveAll():e[r++].resolve();return this.resolve()};J.prototype.lookup=function(e,r,n){if(typeof r=="boolean"?(n=r,r=void 0):r&&!Array.isArray(r)&&(r=[r]),Kn.isString(e)&&e.length){if(e===".")return this.root;e=e.split(".")}else if(!e.length)return this;if(e[0]==="")return this.root.lookup(e.slice(1),r);var i=this.get(e[0]);if(i){if(e.length===1){if(!r||r.indexOf(i.constructor)>-1)return i}else if(i instanceof J&&(i=i.lookup(e.slice(1),r,!0)))return i}else for(var s=0;s<this.nestedArray.length;++s)if(this._nestedArray[s]instanceof J&&(i=this._nestedArray[s].lookup(e,r,!0)))return i;return this.parent===null||n?null:this.parent.lookup(e,r)};J.prototype.lookupType=function(e){var r=this.lookup(e,[vr]);if(!r)throw Error("no such type: "+e);return r};J.prototype.lookupEnum=function(e){var r=this.lookup(e,[br]);if(!r)throw Error("no such Enum '"+e+"' in "+this);return r};J.prototype.lookupTypeOrEnum=function(e){var r=this.lookup(e,[vr,br]);if(!r)throw Error("no such Type or Enum '"+e+"' in "+this);return r};J.prototype.lookupService=function(e){var r=this.lookup(e,[Yr]);if(!r)throw Error("no such Service '"+e+"' in "+this);return r};J._configure=function(t,e,r){vr=t,Yr=e,br=r}});var Xn=C((iy,Sl)=>{"use strict";Sl.exports=it;var $s=At();((it.prototype=Object.create($s.prototype)).constructor=it).className="MapField";var ah=zt(),Gr=ae();function it(t,e,r,n,i,s){if($s.call(this,t,e,n,void 0,void 0,i,s),!Gr.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}it.fromJSON=function(e,r){return new it(e,r.id,r.keyType,r.type,r.options,r.comment)};it.prototype.toJSON=function(e){var r=e?!!e.keepComments:!1;return Gr.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",r?this.comment:void 0])};it.prototype.resolve=function(){if(this.resolved)return this;if(ah.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return $s.prototype.resolve.call(this)};it.d=function(e,r,n){return typeof n=="function"?n=Gr.decorateType(n).name:n&&typeof n=="object"&&(n=Gr.decorateEnum(n).name),function(s,o){Gr.decorateType(s.constructor).add(new it(o,e,r,n))}}});var Yn=C((sy,kl)=>{"use strict";kl.exports=Ft;var Hs=Mt();((Ft.prototype=Object.create(Hs.prototype)).constructor=Ft).className="Method";var wr=ae();function Ft(t,e,r,n,i,s,o,a,u){if(wr.isObject(i)?(o=i,i=s=void 0):wr.isObject(s)&&(o=s,s=void 0),!(e===void 0||wr.isString(e)))throw TypeError("type must be a string");if(!wr.isString(r))throw TypeError("requestType must be a string");if(!wr.isString(n))throw TypeError("responseType must be a string");Hs.call(this,t,o),this.type=e||"rpc",this.requestType=r,this.requestStream=i?!0:void 0,this.responseType=n,this.responseStream=s?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=a,this.parsedOptions=u}Ft.fromJSON=function(e,r){return new Ft(e,r.type,r.requestType,r.responseType,r.requestStream,r.responseStream,r.options,r.comment,r.parsedOptions)};Ft.prototype.toJSON=function(e){var r=e?!!e.keepComments:!1;return wr.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",r?this.comment:void 0,"parsedOptions",this.parsedOptions])};Ft.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),Hs.prototype.resolve.call(this))}});var Gn=C((oy,Il)=>{"use strict";Il.exports=Te;var Ot=_r();((Te.prototype=Object.create(Ot.prototype)).constructor=Te).className="Service";var Zs=Yn(),Qr=ae(),uh=Ls();function Te(t,e){Ot.call(this,t,e),this.methods={},this._methodsArray=null}Te.fromJSON=function(e,r){var n=new Te(e,r.options);if(r.methods)for(var i=Object.keys(r.methods),s=0;s<i.length;++s)n.add(Zs.fromJSON(i[s],r.methods[i[s]]));return r.nested&&n.addJSON(r.nested),n.comment=r.comment,n};Te.prototype.toJSON=function(e){var r=Ot.prototype.toJSON.call(this,e),n=e?!!e.keepComments:!1;return Qr.toObject(["options",r&&r.options||void 0,"methods",Ot.arrayToJSON(this.methodsArray,e)||{},"nested",r&&r.nested||void 0,"comment",n?this.comment:void 0])};Object.defineProperty(Te.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=Qr.toArray(this.methods))}});function El(t){return t._methodsArray=null,t}Te.prototype.get=function(e){return this.methods[e]||Ot.prototype.get.call(this,e)};Te.prototype.resolveAll=function(){for(var e=this.methodsArray,r=0;r<e.length;++r)e[r].resolve();return Ot.prototype.resolve.call(this)};Te.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof Zs?(this.methods[e.name]=e,e.parent=this,El(this)):Ot.prototype.add.call(this,e)};Te.prototype.remove=function(e){if(e instanceof Zs){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,El(this)}return Ot.prototype.remove.call(this,e)};Te.prototype.create=function(e,r,n){for(var i=new uh.Service(e,r,n),s=0,o;s<this.methodsArray.length;++s){var a=Qr.lcFirst((o=this._methodsArray[s]).resolve().name).replace(/[^$\w_]/g,"");i[a]=Qr.codegen(["r","c"],Qr.isReserved(a)?a+"_":a)("return this.rpcCall(m,q,s,r,c)")({m:o,q:o.resolvedRequestType.ctor,s:o.resolvedResponseType.ctor})}return i}});var Qn=C((ay,Tl)=>{"use strict";Tl.exports=We;var lh=He();function We(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)this[e[r]]=t[e[r]]}We.create=function(e){return this.$type.create(e)};We.encode=function(e,r){return this.$type.encode(e,r)};We.encodeDelimited=function(e,r){return this.$type.encodeDelimited(e,r)};We.decode=function(e){return this.$type.decode(e)};We.decodeDelimited=function(e){return this.$type.decodeDelimited(e)};We.verify=function(e){return this.$type.verify(e)};We.fromObject=function(e){return this.$type.fromObject(e)};We.toObject=function(e,r){return this.$type.toObject(e,r)};We.prototype.toJSON=function(){return this.$type.toObject(this,lh.toJSONOptions)}});var Ws=C((uy,Pl)=>{"use strict";Pl.exports=fh;var ch=Ve(),st=zt(),Cl=ae();function dh(t){return"missing required '"+t.name+"'"}function fh(t){var e=Cl.codegen(["r","l"],t.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(t.fieldsArray.filter(function(a){return a.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");t.group&&e("if((t&7)===4)")("break"),e("switch(t>>>3){");for(var r=0;r<t.fieldsArray.length;++r){var n=t._fieldsArray[r].resolve(),i=n.resolvedType instanceof ch?"int32":n.type,s="m"+Cl.safeProp(n.name);e("case %i: {",n.id),n.map?(e("if(%s===util.emptyObject)",s)("%s={}",s)("var c2 = r.uint32()+r.pos"),st.defaults[n.keyType]!==void 0?e("k=%j",st.defaults[n.keyType]):e("k=null"),st.defaults[i]!==void 0?e("value=%j",st.defaults[i]):e("value=null"),e("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",n.keyType)("case 2:"),st.basic[i]===void 0?e("value=types[%i].decode(r,r.uint32())",r):e("value=r.%s()",i),e("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),st.long[n.keyType]!==void 0?e('%s[typeof k==="object"?util.longToHash(k):k]=value',s):e("%s[k]=value",s)):n.repeated?(e("if(!(%s&&%s.length))",s,s)("%s=[]",s),st.packed[i]!==void 0&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",s,i)("}else"),st.basic[i]===void 0?e(n.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",s,r):e("%s.push(r.%s())",s,i)):st.basic[i]===void 0?e(n.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",s,r):e("%s=r.%s()",s,i),e("break")("}")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<t._fieldsArray.length;++r){var o=t._fieldsArray[r];o.required&&e("if(!m.hasOwnProperty(%j))",o.name)("throw util.ProtocolError(%j,{instance:m})",dh(o))}return e("return m")}});var Xs=C((ly,Nl)=>{"use strict";Nl.exports=mh;var hh=Ve(),Js=ae();function Ce(t,e){return t.name+": "+e+(t.repeated&&e!=="array"?"[]":t.map&&e!=="object"?"{k:"+t.keyType+"}":"")+" expected"}function Ks(t,e,r,n){if(e.resolvedType)if(e.resolvedType instanceof hh){t("switch(%s){",n)("default:")("return%j",Ce(e,"enum value"));for(var i=Object.keys(e.resolvedType.values),s=0;s<i.length;++s)t("case %i:",e.resolvedType.values[i[s]]);t("break")("}")}else t("{")("var e=types[%i].verify(%s);",r,n)("if(e)")("return%j+e",e.name+".")("}");else switch(e.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.isInteger(%s))",n)("return%j",Ce(e,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",n,n,n,n)("return%j",Ce(e,"integer|Long"));break;case"float":case"double":t('if(typeof %s!=="number")',n)("return%j",Ce(e,"number"));break;case"bool":t('if(typeof %s!=="boolean")',n)("return%j",Ce(e,"boolean"));break;case"string":t("if(!util.isString(%s))",n)("return%j",Ce(e,"string"));break;case"bytes":t('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',n,n,n)("return%j",Ce(e,"buffer"));break}return t}function ph(t,e,r){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.key32Re.test(%s))",r)("return%j",Ce(e,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.key64Re.test(%s))",r)("return%j",Ce(e,"integer|Long key"));break;case"bool":t("if(!util.key2Re.test(%s))",r)("return%j",Ce(e,"boolean key"));break}return t}function mh(t){var e=Js.codegen(["m"],t.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r=t.oneofsArray,n={};r.length&&e("var p={}");for(var i=0;i<t.fieldsArray.length;++i){var s=t._fieldsArray[i].resolve(),o="m"+Js.safeProp(s.name);if(s.optional&&e("if(%s!=null&&m.hasOwnProperty(%j)){",o,s.name),s.map)e("if(!util.isObject(%s))",o)("return%j",Ce(s,"object"))("var k=Object.keys(%s)",o)("for(var i=0;i<k.length;++i){"),ph(e,s,"k[i]"),Ks(e,s,i,o+"[k[i]]")("}");else if(s.repeated)e("if(!Array.isArray(%s))",o)("return%j",Ce(s,"array"))("for(var i=0;i<%s.length;++i){",o),Ks(e,s,i,o+"[i]")("}");else{if(s.partOf){var a=Js.safeProp(s.partOf.name);n[s.partOf.name]===1&&e("if(p%s===1)",a)("return%j",s.partOf.name+": multiple values"),n[s.partOf.name]=1,e("p%s=1",a)}Ks(e,s,i,o)}s.optional&&e("}")}return e("return null")}});var Qs=C(Ul=>{"use strict";var Rl=Ul,en=Ve(),Je=ae();function Ys(t,e,r,n){var i=!1;if(e.resolvedType)if(e.resolvedType instanceof en){t("switch(d%s){",n);for(var s=e.resolvedType.values,o=Object.keys(s),a=0;a<o.length;++a)s[o[a]]===e.typeDefault&&!i&&(t("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',n,n,n),e.repeated||t("break"),i=!0),t("case%j:",o[a])("case %i:",s[o[a]])("m%s=%j",n,s[o[a]])("break");t("}")}else t('if(typeof d%s!=="object")',n)("throw TypeError(%j)",e.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,r,n);else{var u=!1;switch(e.type){case"double":case"float":t("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":t("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":t("m%s=d%s|0",n,n);break;case"uint64":u=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,u)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,u?"true":"");break;case"bytes":t('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length >= 0)",n)("m%s=d%s",n,n);break;case"string":t("m%s=String(d%s)",n,n);break;case"bool":t("m%s=Boolean(d%s)",n,n);break}}return t}Rl.fromObject=function(e){var r=e.fieldsArray,n=Je.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!r.length)return n("return new this.ctor");n("var m=new this.ctor");for(var i=0;i<r.length;++i){var s=r[i].resolve(),o=Je.safeProp(s.name);s.map?(n("if(d%s){",o)('if(typeof d%s!=="object")',o)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",o)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",o),Ys(n,s,i,o+"[ks[i]]")("}")("}")):s.repeated?(n("if(d%s){",o)("if(!Array.isArray(d%s))",o)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",o)("for(var i=0;i<d%s.length;++i){",o),Ys(n,s,i,o+"[i]")("}")("}")):(s.resolvedType instanceof en||n("if(d%s!=null){",o),Ys(n,s,i,o),s.resolvedType instanceof en||n("}"))}return n("return m")};function Gs(t,e,r,n){if(e.resolvedType)e.resolvedType instanceof en?t("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",n,r,n,n,r,n,n):t("d%s=types[%i].toObject(m%s,o)",n,r,n);else{var i=!1;switch(e.type){case"double":case"float":t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,i?"true":"",n);break;case"bytes":t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:t("d%s=m%s",n,n);break}}return t}Rl.toObject=function(e){var r=e.fieldsArray.slice().sort(Je.compareFieldsById);if(!r.length)return Je.codegen()("return {}");for(var n=Je.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),i=[],s=[],o=[],a=0;a<r.length;++a)r[a].partOf||(r[a].resolve().repeated?i:r[a].map?s:o).push(r[a]);if(i.length){for(n("if(o.arrays||o.defaults){"),a=0;a<i.length;++a)n("d%s=[]",Je.safeProp(i[a].name));n("}")}if(s.length){for(n("if(o.objects||o.defaults){"),a=0;a<s.length;++a)n("d%s={}",Je.safeProp(s[a].name));n("}")}if(o.length){for(n("if(o.defaults){"),a=0;a<o.length;++a){var u=o[a],l=Je.safeProp(u.name);if(u.resolvedType instanceof en)n("d%s=o.enums===String?%j:%j",l,u.resolvedType.valuesById[u.typeDefault],u.typeDefault);else if(u.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",l)("}else")("d%s=o.longs===String?%j:%i",l,u.typeDefault.toString(),u.typeDefault.toNumber());else if(u.bytes){var c="["+Array.prototype.slice.call(u.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",l,String.fromCharCode.apply(String,u.typeDefault))("else{")("d%s=%s",l,c)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",l,l)("}")}else n("d%s=%j",l,u.typeDefault)}n("}")}var d=!1;for(a=0;a<r.length;++a){var u=r[a],S=e._fieldsArray.indexOf(u),l=Je.safeProp(u.name);u.map?(d||(d=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",l,l)("d%s={}",l)("for(var j=0;j<ks2.length;++j){"),Gs(n,u,S,l+"[ks2[j]]")("}")):u.repeated?(n("if(m%s&&m%s.length){",l,l)("d%s=[]",l)("for(var j=0;j<m%s.length;++j){",l),Gs(n,u,S,l+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",l,u.name),Gs(n,u,S,l),u.partOf&&n("if(o.oneofs)")("d%s=%j",Je.safeProp(u.partOf.name),u.name)),n("}")}return n("return d")}});var eo=C(Dl=>{"use strict";var yh=Dl,gh=Qn();yh[".google.protobuf.Any"]={fromObject:function(t){if(t&&t["@type"]){var e=t["@type"].substring(t["@type"].lastIndexOf("/")+1),r=this.lookup(e);if(r){var n=t["@type"].charAt(0)==="."?t["@type"].slice(1):t["@type"];return n.indexOf("/")===-1&&(n="/"+n),this.create({type_url:n,value:r.encode(r.fromObject(t)).finish()})}}return this.fromObject(t)},toObject:function(t,e){var r="type.googleapis.com/",n="",i="";if(e&&e.json&&t.type_url&&t.value){i=t.type_url.substring(t.type_url.lastIndexOf("/")+1),n=t.type_url.substring(0,t.type_url.lastIndexOf("/")+1);var s=this.lookup(i);s&&(t=s.decode(t.value))}if(!(t instanceof this.ctor)&&t instanceof gh){var o=t.$type.toObject(t,e),a=t.$type.fullName[0]==="."?t.$type.fullName.slice(1):t.$type.fullName;return n===""&&(n=r),i=n+a,o["@type"]=i,o}return this.toObject(t,e)}}});var ri=C((fy,Vl)=>{"use strict";Vl.exports=G;var Be=_r();((G.prototype=Object.create(Be.prototype)).constructor=G).className="Type";var vh=Ve(),no=gr(),ei=At(),bh=Xn(),_h=Gn(),to=Qn(),ro=Hn(),wh=Fn(),ce=ae(),xh=io(),Ah=Ws(),Oh=Xs(),Ll=Qs(),Sh=eo();function G(t,e){Be.call(this,t,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(G.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var t=Object.keys(this.fields),e=0;e<t.length;++e){var r=this.fields[t[e]],n=r.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=ce.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=ce.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=G.generateConstructor(this)())},set:function(t){var e=t.prototype;e instanceof to||((t.prototype=new to).constructor=t,ce.merge(t.prototype,e)),t.$type=t.prototype.$type=this,ce.merge(t,to,!0),this._ctor=t;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var n={};for(r=0;r<this.oneofsArray.length;++r)n[this._oneofsArray[r].resolve().name]={get:ce.oneOfGetter(this._oneofsArray[r].oneof),set:ce.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(t.prototype,n)}}});G.generateConstructor=function(e){for(var r=ce.codegen(["p"],e.name),n=0,i;n<e.fieldsArray.length;++n)(i=e._fieldsArray[n]).map?r("this%s={}",ce.safeProp(i.name)):i.repeated&&r("this%s=[]",ce.safeProp(i.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function ti(t){return t._fieldsById=t._fieldsArray=t._oneofsArray=null,delete t.encode,delete t.decode,delete t.verify,t}G.fromJSON=function(e,r){var n=new G(e,r.options);n.extensions=r.extensions,n.reserved=r.reserved;for(var i=Object.keys(r.fields),s=0;s<i.length;++s)n.add((typeof r.fields[i[s]].keyType<"u"?bh.fromJSON:ei.fromJSON)(i[s],r.fields[i[s]]));if(r.oneofs)for(i=Object.keys(r.oneofs),s=0;s<i.length;++s)n.add(no.fromJSON(i[s],r.oneofs[i[s]]));if(r.nested)for(i=Object.keys(r.nested),s=0;s<i.length;++s){var o=r.nested[i[s]];n.add((o.id!==void 0?ei.fromJSON:o.fields!==void 0?G.fromJSON:o.values!==void 0?vh.fromJSON:o.methods!==void 0?_h.fromJSON:Be.fromJSON)(i[s],o))}return r.extensions&&r.extensions.length&&(n.extensions=r.extensions),r.reserved&&r.reserved.length&&(n.reserved=r.reserved),r.group&&(n.group=!0),r.comment&&(n.comment=r.comment),n};G.prototype.toJSON=function(e){var r=Be.prototype.toJSON.call(this,e),n=e?!!e.keepComments:!1;return ce.toObject(["options",r&&r.options||void 0,"oneofs",Be.arrayToJSON(this.oneofsArray,e),"fields",Be.arrayToJSON(this.fieldsArray.filter(function(i){return!i.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",r&&r.nested||void 0,"comment",n?this.comment:void 0])};G.prototype.resolveAll=function(){for(var e=this.fieldsArray,r=0;r<e.length;)e[r++].resolve();var n=this.oneofsArray;for(r=0;r<n.length;)n[r++].resolve();return Be.prototype.resolveAll.call(this)};G.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null};G.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof ei&&e.extend===void 0){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),ti(this)}return e instanceof no?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),ti(this)):Be.prototype.add.call(this,e)};G.prototype.remove=function(e){if(e instanceof ei&&e.extend===void 0){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),ti(this)}if(e instanceof no){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),ti(this)}return Be.prototype.remove.call(this,e)};G.prototype.isReservedId=function(e){return Be.isReservedId(this.reserved,e)};G.prototype.isReservedName=function(e){return Be.isReservedName(this.reserved,e)};G.prototype.create=function(e){return new this.ctor(e)};G.prototype.setup=function(){for(var e=this.fullName,r=[],n=0;n<this.fieldsArray.length;++n)r.push(this._fieldsArray[n].resolve().resolvedType);this.encode=xh(this)({Writer:wh,types:r,util:ce}),this.decode=Ah(this)({Reader:ro,types:r,util:ce}),this.verify=Oh(this)({types:r,util:ce}),this.fromObject=Ll.fromObject(this)({types:r,util:ce}),this.toObject=Ll.toObject(this)({types:r,util:ce});var i=Sh[e];if(i){var s=Object.create(this);s.fromObject=this.fromObject,this.fromObject=i.fromObject.bind(s),s.toObject=this.toObject,this.toObject=i.toObject.bind(s)}return this};G.prototype.encode=function(e,r){return this.setup().encode(e,r)};G.prototype.encodeDelimited=function(e,r){return this.encode(e,r&&r.len?r.fork():r).ldelim()};G.prototype.decode=function(e,r){return this.setup().decode(e,r)};G.prototype.decodeDelimited=function(e){return e instanceof ro||(e=ro.create(e)),this.decode(e,e.uint32())};G.prototype.verify=function(e){return this.setup().verify(e)};G.prototype.fromObject=function(e){return this.setup().fromObject(e)};G.prototype.toObject=function(e,r){return this.setup().toObject(e,r)};G.d=function(e){return function(n){ce.decorateType(n,e)}}});var si=C((hy,Ml)=>{"use strict";Ml.exports=we;var ii=_r();((we.prototype=Object.create(ii.prototype)).constructor=we).className="Root";var oo=At(),jl=Ve(),kh=gr(),St=ae(),ql,so,tn;function we(t){ii.call(this,"",t),this.deferred=[],this.files=[]}we.fromJSON=function(e,r){return r||(r=new we),e.options&&r.setOptions(e.options),r.addJSON(e.nested)};we.prototype.resolvePath=St.path.resolve;we.prototype.fetch=St.fetch;function zl(){}we.prototype.load=function t(e,r,n){typeof r=="function"&&(n=r,r=void 0);var i=this;if(!n)return St.asPromise(t,i,e,r);var s=n===zl;function o(m,b){if(n){if(s)throw m;var A=n;n=null,A(m,b)}}function a(m){var b=m.lastIndexOf("google/protobuf/");if(b>-1){var A=m.substring(b);if(A in tn)return A}return null}function u(m,b){try{if(St.isString(b)&&b.charAt(0)==="{"&&(b=JSON.parse(b)),!St.isString(b))i.setOptions(b.options).addJSON(b.nested);else{so.filename=m;var A=so(b,i,r),O,D=0;if(A.imports)for(;D<A.imports.length;++D)(O=a(A.imports[D])||i.resolvePath(m,A.imports[D]))&&l(O);if(A.weakImports)for(D=0;D<A.weakImports.length;++D)(O=a(A.weakImports[D])||i.resolvePath(m,A.weakImports[D]))&&l(O,!0)}}catch(v){o(v)}!s&&!c&&o(null,i)}function l(m,b){if(m=a(m)||m,!(i.files.indexOf(m)>-1)){if(i.files.push(m),m in tn){s?u(m,tn[m]):(++c,setTimeout(function(){--c,u(m,tn[m])}));return}if(s){var A;try{A=St.fs.readFileSync(m).toString("utf8")}catch(O){b||o(O);return}u(m,A)}else++c,i.fetch(m,function(O,D){if(--c,!!n){if(O){b?c||o(null,i):o(O);return}u(m,D)}})}}var c=0;St.isString(e)&&(e=[e]);for(var d=0,S;d<e.length;++d)(S=i.resolvePath("",e[d]))&&l(S);if(s)return i;c||o(null,i)};we.prototype.loadSync=function(e,r){if(!St.isNode)throw Error("not supported");return this.load(e,r,zl)};we.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return ii.prototype.resolveAll.call(this)};var ni=/^[A-Z]/;function Bl(t,e){var r=e.parent.lookup(e.extend);if(r){var n=new oo(e.fullName,e.id,e.type,e.rule,void 0,e.options);return r.get(n.name)||(n.declaringField=e,e.extensionField=n,r.add(n)),!0}return!1}we.prototype._handleAdd=function(e){if(e instanceof oo)e.extend!==void 0&&!e.extensionField&&(Bl(this,e)||this.deferred.push(e));else if(e instanceof jl)ni.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof kh)){if(e instanceof ql)for(var r=0;r<this.deferred.length;)Bl(this,this.deferred[r])?this.deferred.splice(r,1):++r;for(var n=0;n<e.nestedArray.length;++n)this._handleAdd(e._nestedArray[n]);ni.test(e.name)&&(e.parent[e.name]=e)}};we.prototype._handleRemove=function(e){if(e instanceof oo){if(e.extend!==void 0)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var r=this.deferred.indexOf(e);r>-1&&this.deferred.splice(r,1)}}else if(e instanceof jl)ni.test(e.name)&&delete e.parent[e.name];else if(e instanceof ii){for(var n=0;n<e.nestedArray.length;++n)this._handleRemove(e._nestedArray[n]);ni.test(e.name)&&delete e.parent[e.name]}};we._configure=function(t,e,r){ql=t,so=e,tn=r}});var ae=C((py,$l)=>{"use strict";var re=$l.exports=He(),Fl=Vs(),ao,uo;re.codegen=ul();re.fetch=cl();re.path=hl();re.fs=re.inquire("fs");re.toArray=function(e){if(e){for(var r=Object.keys(e),n=new Array(r.length),i=0;i<r.length;)n[i]=e[r[i++]];return n}return[]};re.toObject=function(e){for(var r={},n=0;n<e.length;){var i=e[n++],s=e[n++];s!==void 0&&(r[i]=s)}return r};var Eh=/\\/g,Ih=/"/g;re.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)};re.safeProp=function(e){return!/^[$\w_]+$/.test(e)||re.isReserved(e)?'["'+e.replace(Eh,"\\\\").replace(Ih,'\\"')+'"]':"."+e};re.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var Th=/_([a-z])/g;re.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(Th,function(r,n){return n.toUpperCase()})};re.compareFieldsById=function(e,r){return e.id-r.id};re.decorateType=function(e,r){if(e.$type)return r&&e.$type.name!==r&&(re.decorateRoot.remove(e.$type),e.$type.name=r,re.decorateRoot.add(e.$type)),e.$type;ao||(ao=ri());var n=new ao(r||e.name);return re.decorateRoot.add(n),n.ctor=e,Object.defineProperty(e,"$type",{value:n,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:n,enumerable:!1}),n};var Ch=0;re.decorateEnum=function(e){if(e.$type)return e.$type;uo||(uo=Ve());var r=new uo("Enum"+Ch++,e);return re.decorateRoot.add(r),Object.defineProperty(e,"$type",{value:r,enumerable:!1}),r};re.setProperty=function(e,r,n){function i(s,o,a){var u=o.shift();if(u==="__proto__"||u==="prototype")return s;if(o.length>0)s[u]=i(s[u]||{},o,a);else{var l=s[u];l&&(a=[].concat(l).concat(a)),s[u]=a}return s}if(typeof e!="object")throw TypeError("dst must be an object");if(!r)throw TypeError("path must be specified");return r=r.split("."),i(e,r,n)};Object.defineProperty(re,"decorateRoot",{get:function(){return Fl.decorated||(Fl.decorated=new(si()))}})});var Mt=C((my,Hl)=>{"use strict";Hl.exports=xe;xe.className="ReflectionObject";var oi=ae(),ai;function xe(t,e){if(!oi.isString(t))throw TypeError("name must be a string");if(e&&!oi.isObject(e))throw TypeError("options must be an object");this.options=e,this.parsedOptions=null,this.name=t,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(xe.prototype,{root:{get:function(){for(var t=this;t.parent!==null;)t=t.parent;return t}},fullName:{get:function(){for(var t=[this.name],e=this.parent;e;)t.unshift(e.name),e=e.parent;return t.join(".")}}});xe.prototype.toJSON=function(){throw Error()};xe.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var r=e.root;r instanceof ai&&r._handleAdd(this)};xe.prototype.onRemove=function(e){var r=e.root;r instanceof ai&&r._handleRemove(this),this.parent=null,this.resolved=!1};xe.prototype.resolve=function(){return this.resolved?this:(this.root instanceof ai&&(this.resolved=!0),this)};xe.prototype.getOption=function(e){if(this.options)return this.options[e]};xe.prototype.setOption=function(e,r,n){return(!n||!this.options||this.options[e]===void 0)&&((this.options||(this.options={}))[e]=r),this};xe.prototype.setParsedOption=function(e,r,n){this.parsedOptions||(this.parsedOptions=[]);var i=this.parsedOptions;if(n){var s=i.find(function(u){return Object.prototype.hasOwnProperty.call(u,e)});if(s){var o=s[e];oi.setProperty(o,n,r)}else s={},s[e]=oi.setProperty({},n,r),i.push(s)}else{var a={};a[e]=r,i.push(a)}return this};xe.prototype.setOptions=function(e,r){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)this.setOption(n[i],e[n[i]],r);return this};xe.prototype.toString=function(){var e=this.constructor.className,r=this.fullName;return r.length?e+" "+r:e};xe._configure=function(t){ai=t}});var Ve=C((yy,Jl)=>{"use strict";Jl.exports=Ke;var Zl=Mt();((Ke.prototype=Object.create(Zl.prototype)).constructor=Ke).className="Enum";var Wl=_r(),ui=ae();function Ke(t,e,r,n,i,s){if(Zl.call(this,t,r),e&&typeof e!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=n,this.comments=i||{},this.valuesOptions=s,this.reserved=void 0,e)for(var o=Object.keys(e),a=0;a<o.length;++a)typeof e[o[a]]=="number"&&(this.valuesById[this.values[o[a]]=e[o[a]]]=o[a])}Ke.fromJSON=function(e,r){var n=new Ke(e,r.values,r.options,r.comment,r.comments);return n.reserved=r.reserved,n};Ke.prototype.toJSON=function(e){var r=e?!!e.keepComments:!1;return ui.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",r?this.comment:void 0,"comments",r?this.comments:void 0])};Ke.prototype.add=function(e,r,n,i){if(!ui.isString(e))throw TypeError("name must be a string");if(!ui.isInteger(r))throw TypeError("id must be an integer");if(this.values[e]!==void 0)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(r))throw Error("id "+r+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[r]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+r+" in "+this);this.values[e]=r}else this.valuesById[this.values[e]=r]=e;return i&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[e]=i||null),this.comments[e]=n||null,this};Ke.prototype.remove=function(e){if(!ui.isString(e))throw TypeError("name must be a string");var r=this.values[e];if(r==null)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[r],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this};Ke.prototype.isReservedId=function(e){return Wl.isReservedId(this.reserved,e)};Ke.prototype.isReservedName=function(e){return Wl.isReservedName(this.reserved,e)}});var io=C((gy,Xl)=>{"use strict";Xl.exports=Nh;var Ph=Ve(),lo=zt(),co=ae();function Kl(t,e,r,n){return e.resolvedType.group?t("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,n,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):t("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,n,(e.id<<3|2)>>>0)}function Nh(t){for(var e=co.codegen(["m","w"],t.name+"$encode")("if(!w)")("w=Writer.create()"),r,n,i=t.fieldsArray.slice().sort(co.compareFieldsById),r=0;r<i.length;++r){var s=i[r].resolve(),o=t._fieldsArray.indexOf(s),a=s.resolvedType instanceof Ph?"int32":s.type,u=lo.basic[a];n="m"+co.safeProp(s.name),s.map?(e("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",n,s.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",n)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(s.id<<3|2)>>>0,8|lo.mapKey[s.keyType],s.keyType),u===void 0?e("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",o,n):e(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|u,a,n),e("}")("}")):s.repeated?(e("if(%s!=null&&%s.length){",n,n),s.packed&&lo.packed[a]!==void 0?e("w.uint32(%i).fork()",(s.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",n)("w.%s(%s[i])",a,n)("w.ldelim()"):(e("for(var i=0;i<%s.length;++i)",n),u===void 0?Kl(e,s,o,n+"[i]"):e("w.uint32(%i).%s(%s[i])",(s.id<<3|u)>>>0,a,n)),e("}")):(s.optional&&e("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",n,s.name),u===void 0?Kl(e,s,o,n):e("w.uint32(%i).%s(%s)",(s.id<<3|u)>>>0,a,n))}return e("return w")}});var Gl=C((vy,Yl)=>{"use strict";var H=Yl.exports=ol();H.build="light";function Rh(t,e,r){return typeof e=="function"?(r=e,e=new H.Root):e||(e=new H.Root),e.load(t,r)}H.load=Rh;function Uh(t,e){return e||(e=new H.Root),e.loadSync(t)}H.loadSync=Uh;H.encoder=io();H.decoder=Ws();H.verifier=Xs();H.converter=Qs();H.ReflectionObject=Mt();H.Namespace=_r();H.Root=si();H.Enum=Ve();H.Type=ri();H.Field=At();H.OneOf=gr();H.MapField=Xn();H.Service=Gn();H.Method=Yn();H.Message=Qn();H.wrappers=eo();H.types=zt();H.util=ae();H.ReflectionObject._configure(H.Root);H.Namespace._configure(H.Type,H.Service,H.Enum);H.Root._configure(H.Type);H.Field._configure(H.Type)});var ho=C((by,tc)=>{"use strict";tc.exports=ec;var fo=/[\s{}=;:[\],'"()<>]/g,Dh=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,Lh=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,Vh=/^ *[*/]+ */,Bh=/^\s*\*?\/*/,jh=/\n/g,qh=/\s/,zh=/\\(.?)/g,Mh={0:"\0",r:"\r",n:`
`,t:"	"};function Ql(t){return t.replace(zh,function(e,r){switch(r){case"\\":case"":return r;default:return Mh[r]||""}})}ec.unescape=Ql;function ec(t,e){t=t.toString();var r=0,n=t.length,i=1,s=0,o={},a=[],u=null;function l(k){return Error("illegal "+k+" (line "+i+")")}function c(){var k=u==="'"?Lh:Dh;k.lastIndex=r-1;var M=k.exec(t);if(!M)throw l("string");return r=k.lastIndex,O(u),u=null,Ql(M[1])}function d(k){return t.charAt(k)}function S(k,M,E){var V={type:t.charAt(k++),lineEmpty:!1,leading:E},Z;e?Z=2:Z=3;var se=k-Z,ee;do if(--se<0||(ee=t.charAt(se))===`
`){V.lineEmpty=!0;break}while(ee===" "||ee==="	");for(var be=t.substring(k,M).split(jh),Q=0;Q<be.length;++Q)be[Q]=be[Q].replace(e?Bh:Vh,"").trim();V.text=be.join(`
`).trim(),o[i]=V,s=i}function m(k){var M=b(k),E=t.substring(k,M),V=/^\s*\/\//.test(E);return V}function b(k){for(var M=k;M<n&&d(M)!==`
`;)M++;return M}function A(){if(a.length>0)return a.shift();if(u)return c();var k,M,E,V,Z,se=r===0;do{if(r===n)return null;for(k=!1;qh.test(E=d(r));)if(E===`
`&&(se=!0,++i),++r===n)return null;if(d(r)==="/"){if(++r===n)throw l("comment");if(d(r)==="/")if(e){if(V=r,Z=!1,m(r-1)){Z=!0;do if(r=b(r),r===n||(r++,!se))break;while(m(r))}else r=Math.min(n,b(r)+1);Z&&(S(V,r,se),se=!0),i++,k=!0}else{for(Z=d(V=r+1)==="/";d(++r)!==`
`;)if(r===n)return null;++r,Z&&(S(V,r-1,se),se=!0),++i,k=!0}else if((E=d(r))==="*"){V=r+1,Z=e||d(V)==="*";do{if(E===`
`&&++i,++r===n)throw l("comment");M=E,E=d(r)}while(M!=="*"||E!=="/");++r,Z&&(S(V,r-2,se),se=!0),k=!0}else return"/"}}while(k);var ee=r;fo.lastIndex=0;var be=fo.test(d(ee++));if(!be)for(;ee<n&&!fo.test(d(ee));)++ee;var Q=t.substring(r,r=ee);return(Q==='"'||Q==="'")&&(u=Q),Q}function O(k){a.push(k)}function D(){if(!a.length){var k=A();if(k===null)return null;O(k)}return a[0]}function v(k,M){var E=D(),V=E===k;if(V)return A(),!0;if(!M)throw l("token '"+E+"', '"+k+"' expected");return!1}function X(k){var M=null,E;return k===void 0?(E=o[i-1],delete o[i-1],E&&(e||E.type==="*"||E.lineEmpty)&&(M=E.leading?E.text:null)):(s<k&&D(),E=o[k],delete o[k],E&&!E.lineEmpty&&(e||E.type==="/")&&(M=E.leading?null:E.text)),M}return Object.defineProperty({next:A,peek:D,push:O,skip:v,cmnt:X},"line",{get:function(){return i}})}});var ac=C((_y,oc)=>{"use strict";oc.exports=ot;ot.filename=null;ot.defaults={keepCase:!1};var Fh=ho(),rc=si(),nc=ri(),ic=At(),$h=Xn(),sc=gr(),Hh=Ve(),Zh=Gn(),Wh=Yn(),po=zt(),mo=ae(),Jh=/^[1-9][0-9]*$/,Kh=/^-?[1-9][0-9]*$/,Xh=/^0[x][0-9a-fA-F]+$/,Yh=/^-?0[x][0-9a-fA-F]+$/,Gh=/^0[0-7]+$/,Qh=/^-?0[0-7]+$/,ep=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,Xe=/^[a-zA-Z_][a-zA-Z_0-9]*$/,Ye=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,tp=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function ot(t,e,r){e instanceof rc||(r=e,e=new rc),r||(r=ot.defaults);var n=r.preferTrailingComment||!1,i=Fh(t,r.alternateCommentMode||!1),s=i.next,o=i.push,a=i.peek,u=i.skip,l=i.cmnt,c=!0,d,S,m,b,A=!1,O=e,D=r.keepCase?function(h){return h}:mo.camelCase;function v(h,p,g){var P=ot.filename;return g||(ot.filename=null),Error("illegal "+(p||"token")+" '"+h+"' ("+(P?P+", ":"")+"line "+i.line+")")}function X(){var h=[],p;do{if((p=s())!=='"'&&p!=="'")throw v(p);h.push(s()),u(p),p=a()}while(p==='"'||p==="'");return h.join("")}function k(h){var p=s();switch(p){case"'":case'"':return o(p),X();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return E(p,!0)}catch{if(h&&Ye.test(p))return p;throw v(p,"value")}}function M(h,p){var g,P;do p&&((g=a())==='"'||g==="'")?h.push(X()):h.push([P=V(s()),u("to",!0)?V(s()):P]);while(u(",",!0));u(";")}function E(h,p){var g=1;switch(h.charAt(0)==="-"&&(g=-1,h=h.substring(1)),h){case"inf":case"INF":case"Inf":return g*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(Jh.test(h))return g*parseInt(h,10);if(Xh.test(h))return g*parseInt(h,16);if(Gh.test(h))return g*parseInt(h,8);if(ep.test(h))return g*parseFloat(h);throw v(h,"number",p)}function V(h,p){switch(h){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!p&&h.charAt(0)==="-")throw v(h,"id");if(Kh.test(h))return parseInt(h,10);if(Yh.test(h))return parseInt(h,16);if(Qh.test(h))return parseInt(h,8);throw v(h,"id")}function Z(){if(d!==void 0)throw v("package");if(d=s(),!Ye.test(d))throw v(d,"name");O=O.define(d),u(";")}function se(){var h=a(),p;switch(h){case"weak":p=m||(m=[]),s();break;case"public":s();default:p=S||(S=[]);break}h=X(),u(";"),p.push(h)}function ee(){if(u("="),b=X(),A=b==="proto3",!A&&b!=="proto2")throw v(b,"syntax");u(";")}function be(h,p){switch(p){case"option":return Me(h,p),u(";"),!0;case"message":return ct(h,p),!0;case"enum":return Rt(h,p),!0;case"service":return zc(h,p),!0;case"extend":return Fc(h,p),!0}return!1}function Q(h,p,g){var P=i.line;if(h&&(typeof h.comment!="string"&&(h.comment=l()),h.filename=ot.filename),u("{",!0)){for(var T;(T=s())!=="}";)p(T);u(";",!0)}else g&&g(),u(";"),h&&(typeof h.comment!="string"||n)&&(h.comment=l(P)||h.comment)}function ct(h,p){if(!Xe.test(p=s()))throw v(p,"type name");var g=new nc(p);Q(g,function(T){if(!be(g,T))switch(T){case"map":nr(g,T);break;case"required":case"repeated":fe(g,T);break;case"optional":A?fe(g,"proto3_optional"):fe(g,"optional");break;case"oneof":cn(g,T);break;case"extensions":M(g.extensions||(g.extensions=[]));break;case"reserved":M(g.reserved||(g.reserved=[]),!0);break;default:if(!A||!Ye.test(T))throw v(T);o(T),fe(g,"optional");break}}),h.add(g)}function fe(h,p,g){var P=s();if(P==="group"){xi(h,p);return}for(;P.endsWith(".")||a().startsWith(".");)P+=s();if(!Ye.test(P))throw v(P,"type");var T=s();if(!Xe.test(T))throw v(T,"name");T=D(T),u("=");var z=new ic(T,V(s()),P,p,g);if(Q(z,function(_e){if(_e==="option")Me(z,_e),u(";");else throw v(_e)},function(){Oi(z)}),p==="proto3_optional"){var ue=new sc("_"+T);z.setOption("proto3_optional",!0),ue.add(z),h.add(ue)}else h.add(z);!A&&z.repeated&&(po.packed[P]!==void 0||po.basic[P]===void 0)&&z.setOption("packed",!1,!0)}function xi(h,p){var g=s();if(!Xe.test(g))throw v(g,"name");var P=mo.lcFirst(g);g===P&&(g=mo.ucFirst(g)),u("=");var T=V(s()),z=new nc(g);z.group=!0;var ue=new ic(P,T,g,p);ue.filename=ot.filename,Q(z,function(_e){switch(_e){case"option":Me(z,_e),u(";");break;case"required":case"repeated":fe(z,_e);break;case"optional":A?fe(z,"proto3_optional"):fe(z,"optional");break;case"message":ct(z,_e);break;case"enum":Rt(z,_e);break;default:throw v(_e)}}),h.add(z).add(ue)}function nr(h){u("<");var p=s();if(po.mapKey[p]===void 0)throw v(p,"type");u(",");var g=s();if(!Ye.test(g))throw v(g,"type");u(">");var P=s();if(!Xe.test(P))throw v(P,"name");u("=");var T=new $h(D(P),V(s()),p,g);Q(T,function(ue){if(ue==="option")Me(T,ue),u(";");else throw v(ue)},function(){Oi(T)}),h.add(T)}function cn(h,p){if(!Xe.test(p=s()))throw v(p,"name");var g=new sc(D(p));Q(g,function(T){T==="option"?(Me(g,T),u(";")):(o(T),fe(g,"optional"))}),h.add(g)}function Rt(h,p){if(!Xe.test(p=s()))throw v(p,"name");var g=new Hh(p);Q(g,function(T){switch(T){case"option":Me(g,T),u(";");break;case"reserved":M(g.reserved||(g.reserved=[]),!0);break;default:ir(g,T)}}),h.add(g)}function ir(h,p){if(!Xe.test(p))throw v(p,"name");u("=");var g=V(s(),!0),P={options:void 0};P.setOption=function(T,z){this.options===void 0&&(this.options={}),this.options[T]=z},Q(P,function(z){if(z==="option")Me(P,z),u(";");else throw v(z)},function(){Oi(P)}),h.add(p,g,P.comment,P.options)}function Me(h,p){var g=u("(",!0);if(!Ye.test(p=s()))throw v(p,"name");var P=p,T=P,z;g&&(u(")"),P="("+P+")",T=P,p=a(),tp.test(p)&&(z=p.slice(1),P+=p,s())),u("=");var ue=Vo(h,P);qc(h,T,ue,z)}function Vo(h,p){if(u("{",!0)){for(var g={};!u("}",!0);){if(!Xe.test(le=s()))throw v(le,"name");if(le===null)throw v(le,"end of input");var P,T=le;if(u(":",!0),a()==="{")P=Vo(h,p+"."+le);else if(a()==="["){P=[];var z;if(u("[",!0)){do z=k(!0),P.push(z);while(u(",",!0));u("]"),typeof z<"u"&&Ai(h,p+"."+le,z)}}else P=k(!0),Ai(h,p+"."+le,P);var ue=g[T];ue&&(P=[].concat(ue).concat(P)),g[T]=P,u(",",!0),u(";",!0)}return g}var dt=k(!0);return Ai(h,p,dt),dt}function Ai(h,p,g){h.setOption&&h.setOption(p,g)}function qc(h,p,g,P){h.setParsedOption&&h.setParsedOption(p,g,P)}function Oi(h){if(u("[",!0)){do Me(h,"option");while(u(",",!0));u("]")}return h}function zc(h,p){if(!Xe.test(p=s()))throw v(p,"service name");var g=new Zh(p);Q(g,function(T){if(!be(g,T))if(T==="rpc")Mc(g,T);else throw v(T)}),h.add(g)}function Mc(h,p){var g=l(),P=p;if(!Xe.test(p=s()))throw v(p,"name");var T=p,z,ue,dt,_e;if(u("("),u("stream",!0)&&(ue=!0),!Ye.test(p=s())||(z=p,u(")"),u("returns"),u("("),u("stream",!0)&&(_e=!0),!Ye.test(p=s())))throw v(p);dt=p,u(")");var dn=new Wh(T,P,z,dt,ue,_e);dn.comment=g,Q(dn,function(Si){if(Si==="option")Me(dn,Si),u(";");else throw v(Si)}),h.add(dn)}function Fc(h,p){if(!Ye.test(p=s()))throw v(p,"reference");var g=p;Q(null,function(T){switch(T){case"required":case"repeated":fe(h,T,g);break;case"optional":A?fe(h,"proto3_optional",g):fe(h,"optional",g);break;default:if(!A||!Ye.test(T))throw v(T);o(T),fe(h,"optional",g);break}})}for(var le;(le=s())!==null;)switch(le){case"package":if(!c)throw v(le);Z();break;case"import":if(!c)throw v(le);se();break;case"syntax":if(!c)throw v(le);ee();break;case"option":Me(O,le),u(";");break;default:if(be(O,le)){c=!1;continue}throw v(le)}return ot.filename=null,{package:d,imports:S,weakImports:m,syntax:b,root:e}}});var cc=C((wy,lc)=>{"use strict";lc.exports=je;var rp=/\/|\./;function je(t,e){rp.test(t)||(t="google/protobuf/"+t+".proto",e={nested:{google:{nested:{protobuf:{nested:e}}}}}),je[t]=e}je("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var uc;je("duration",{Duration:uc={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});je("timestamp",{Timestamp:uc});je("empty",{Empty:{fields:{}}});je("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});je("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});je("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});je.get=function(e){return je[e]||null}});var fc=C((xy,dc)=>{"use strict";var kt=dc.exports=Gl();kt.build="full";kt.tokenize=ho();kt.parse=ac();kt.common=cc();kt.Root._configure(kt.Type,kt.parse,kt.common)});var pc=C((Ay,hc)=>{"use strict";hc.exports=fc()});var hm={};ki(hm,{COLLECTION_SCHEMA_FAMILY:()=>Ut,SchemaTools:()=>fm});var Ut=(s=>(s.V0="V0",s.V1="V1",s.V2="V2",s.OTHER_ERC721="ERC721",s.UNKNOWN="UNKNOWN",s))(Ut||{});var us=et(Fo()),Ha=et(zr()),Cn=t=>{if(typeof t!="string")return null;try{return JSON.parse(t)}catch{return t}},hf=t=>{try{return us.Utf8.hexStringToString(t)}catch{return null}},vt=t=>{try{return JSON.parse(Ha.StringUtils.Utf8.hexStringToString(t))}catch{return null}},ls=t=>{try{return JSON.parse(t)}catch{return t}},Vt=t=>t?t.reduce((e,r)=>(e[r.key]={valueHex:r.valueHex,value:r.value||hf(r.valueHex)},e),{}):{},Za=(t,e)=>t.URI?.value||(e?.baseURI?.value||"")+(t.URISuffix?.value||"")||null,Pn=(t,e)=>{if(e.length===0)return t;let r=[...t];for(let n of e){let i=r.findIndex(s=>s.key===n.key);i===-1?r.push(n):r[i]=n}return r},cs=t=>t.map(e=>({key:e.key,valueHex:e.valueHex??us.Utf8.stringToHexString(e.value)})),Wa=(t,e)=>{let r=[...t.map(n=>({...n}))];for(let n of e){let i=r.findIndex(s=>s.address===n.address);i===-1?r.push(n):r[i]=n}return r};var Nn=class t{constructor(e){this._major=e[0],this._minor=e[1],this._patch=e[2]}get major(){return this._major}get minor(){return this._minor}get patch(){return this._patch}toString(){return`${this.major}.${this.minor}.${this.patch}`}static parseToArray(e){if(typeof e!="string")return null;let[r]=e.split("+")[0].split("-").map(o=>o.split(".")),n=parseInt(r[0]);if(isNaN(n))return null;let i=parseInt(r[1]),s=parseInt(r[2]);return[n,isNaN(i)?0:i,isNaN(s)?0:s]}static fromString(e){let r=t.parseToArray(e);if(!r)throw new Error(`Semver.fromString: wrong version string value: "${e}"`);return new t(r)}static isValid(e){return typeof e=="string"&&t.parseToArray(e)!==null}isGteThan(e){let r=t.parseToArray(e);return r?this._major>r[0]?!0:this._major<r[0]?!1:this._minor>r[1]?!0:this._minor<r[1]?!1:this._patch>=r[2]:!1}isLessThan(e){let r=t.parseToArray(e);return r?this._major<r[0]?!0:this._major>r[0]?!1:this._minor<r[1]?!0:this._minor>r[1]?!1:this._patch<r[2]:!1}isEqual(e){let r=t.parseToArray(e);return r?this._major===r[0]&&this._minor===r[1]&&this._patch===r[2]:!1}};var bo=et(Bn());var ye=class extends TypeError{constructor(e){super(e),this.name="ValidationError"}},jn="{infix}";var yo=et(pc()),go=et(zr());var mc=t=>typeof t=="string"&&t.indexOf("{id}")>=0,yc=(t,e)=>{let{imageUrlTemplate:r,dummyImageFullUrl:n}=rn(e),i=t.reduce((O,{key:D,value:v,valueHex:X})=>(O[D]=v??go.StringUtils.Utf8.hexStringToString(X),O),{}),s=i._old_offchainSchema,o=i._old_constOnChainSchema,a=i._old_schemaVersion,u=i._old_variableOnChainSchema,l=mc(s),c={schemaName:"unique",schemaVersion:"0.0.1",schemaFamily:"V0",coverPicture:{url:n,fullUrl:null},image:{urlTemplate:l?s.replace("{id}","{infix}"):r},attributesSchema:{},attributesSchemaVersion:"1.0.0"},d=null;try{d=JSON.parse(u)}catch{}if(d&&typeof d=="object"&&typeof d.collectionCover=="string")c.coverPicture.ipfsCid=d.collectionCover,delete c.coverPicture.url,c.coverPicture.fullUrl=r.replace("{infix}",d.collectionCover);else if(l){let O=s.replace("{id}","1");c.coverPicture.url=O,c.coverPicture.fullUrl=O}let S={},m={};S=yo.default.Root.fromJSON(JSON.parse(o)),m=S.lookupType("onChainMetaData.NFTMeta");let b={},A=0;for(let O of m.fieldsArray){if(O.name==="ipfsJson")continue;let D=!["string","number"].includes(O.type)&&S.lookupEnum(O.type).options||{},v=!["string","number"].includes(O.type)&&S.lookupEnum(O.type).values||{},X={};for(let[M,E]of Object.entries(D||{})){let V=v[M];if(typeof V!="number")continue;let Z=Cn(E);typeof Z!="string"&&(Z._=Z._||Z.en||Z[Object.keys(Z)[0]]||null,typeof Z._=="string"&&(X[V]=Z))}let k={type:"string",name:{_:O.name},isArray:O.repeated,optional:!O.required};Object.keys(X).length>0&&(k.enumValues=X),b[A++]=k}return c.attributesSchema=b,c.attributesSchemaVersion="1.0.0",c.oldProperties={_old_schemaVersion:a,_old_offchainSchema:s,_old_constOnChainSchema:o,_old_variableOnChainSchema:u},c},gc=(t,e,r,n)=>{let i=e.oldProperties?._old_constOnChainSchema;if(!i)throw new ye("collection doesn't contain _old_constOnChainSchema field");let s=yo.default.Root.fromJSON(JSON.parse(i)),o=s.lookupType("onChainMetaData.NFTMeta");if(!t)throw new ye("parsing token with old schema: no token properties passed");let u=Vt(t)._old_constData;if(!u)throw new ye("no _old_constData property found");let l=go.StringUtils.HexString.toU8a(u.valueHex),c={},d={},S=[];try{c=o.decode(l),d=c.toJSON(),S=Object.entries(c).map(([E,V],Z)=>({name:E,rawValue:V,toJSONValue:d[E]}))}catch(E){throw new ye(`Unable to parse token with old schema, error on decoding Protobuf: ${E.message}`)}let m={},b=0;for(let E of S){let{name:V,rawValue:Z,toJSONValue:se}=E;if(V==="ipfsJson")continue;let ee=se,be=!1,Q=!1,ct=c.$type.fields[V];if(!["string","number"].includes(ct.type)){let nr=s.lookupEnum(ct.type).options;Q=!!nr,ct.repeated&&Array.isArray(Z)&&se?(ee=se.map(Rt=>{let ir=ls(nr?.[Rt]||Rt);return typeof ir!="string"?(ir._=ir.en,ir):null}).filter(Rt=>typeof Rt?._=="string"),be=!0):(ee=ls(nr?.[se]||Z),typeof ee!="string"&&(ee._=ee.en||Object.values(ee)[0]))}ct.type==="string"&&(ee={_:ee});let fe=Object.entries(e.attributesSchema).find(([nr,cn])=>cn.name._===V),xi=fe?fe[0]:b;b+=1,m[xi]={name:{_:V},type:ct.type==="number"?"float":"string",value:ee,isArray:be,isEnum:Q,rawValue:Q?Z:{_:Z}}}let A=e.oldProperties?._old_schemaVersion,O=e.oldProperties?._old_offchainSchema,{imageUrlTemplate:D,dummyImageFullUrl:v}=rn(r),X={url:v,fullUrl:null},k=!1;if(A==="Unique")try{let E=JSON.parse(d.ipfsJson).ipfs;X={ipfsCid:E,fullUrl:D.replace("{infix}",E)},k=!0}catch{}if(!k&&mc(O)){let E=n?.tokenId?.toString();if(!E)throw new ye("Decoding token in Unique schema v0: tokenId is required to parse this token and it is not provided. Please pass it inside options param.");X={urlInfix:E,fullUrl:O.replace("{id}",E)}}return{image:X,attributes:m}};var sn=et(zr());var Et=(t,e)=>{let r={...t,fullUrl:null};if(typeof t.url=="string")return r.fullUrl=t.url,r;let n=e?.urlTemplate;return typeof n!="string"||n.indexOf(jn)<0?typeof t.ipfsCid=="string"&&(r.fullUrl=`ipfs://${t.ipfsCid}`):typeof t.urlInfix=="string"?r.fullUrl=n.replace(jn,t.urlInfix):typeof t.ipfsCid=="string"&&(r.fullUrl=n.replace(jn,t.ipfsCid)),r},ip=(t,e)=>{let r={};for(let{key:n,valueHex:i}of t){let s=n.split(e);if(s.length===1)r[n]=vt(i);else{let[a,u]=s;typeof r[a]!="object"&&(r[a]={}),r[a][u]=vt(i)}}return r},vc=t=>{let e=ip(t,".");return e.coverPicture&&(e.coverPicture=Et(e.coverPicture,e.image)),e.coverPicturePreview&&(e.coverPicturePreview=Et(e.coverPicturePreview,e.image)),e.schemaFamily="V1",e},nn=(t,e,r,n)=>{let i=[`${r}.i`,`${r}.u`,`${r}.c`,`${r}.h`];e.some(({key:c})=>i.includes(c))&&(t[n]={});let s=t[n],o=e.find(({key:c})=>c===i[0]);o&&(s.urlInfix=sn.StringUtils.Utf8.hexStringToString(o.valueHex));let a=e.find(({key:c})=>c===i[1]);a&&(s.url=sn.StringUtils.Utf8.hexStringToString(a.valueHex));let u=e.find(({key:c})=>c===i[2]);u&&(s.ipfsCid=sn.StringUtils.Utf8.hexStringToString(u.valueHex));let l=e.find(({key:c})=>c===i[3]);l&&(s.hash=sn.StringUtils.Utf8.hexStringToString(l.valueHex))},sp=(t,e)=>{let r={},n=t.find(({key:o})=>o==="n");if(n){let o=vt(n.valueHex);o&&(r.name=o)}let i=t.find(({key:o})=>o==="d");if(i){let o=vt(i.valueHex);o&&(r.description=o)}nn(r,t,"i","image"),nn(r,t,"p","imagePreview"),nn(r,t,"v","video"),nn(r,t,"au","audio"),nn(r,t,"so","spatialObject");let s=t.filter(({key:o})=>o.startsWith("a."));if(s.length){let o={};for(let a of s){let{key:u,valueHex:l}=a,c=vt(l),d=parseInt(u.split(".")[1]||"");!isNaN(d)&&e.attributesSchema?.hasOwnProperty(d)&&(o[d]=c)}r.encodedAttributes=o}return r},bc=(t,e,r)=>{let n=sp(t,e),i={attributes:op(n,e),image:Et(n.image,e.image)};return n.name&&(i.name=n.name),n.description&&(i.description=n.description),n.imagePreview&&(i.imagePreview=Et(n.imagePreview,e.imagePreview)),n.video&&(i.video=Et(n.video,e.video)),n.audio&&(i.audio=Et(n.audio,e.audio)),n.spatialObject&&(i.spatialObject=Et(n.spatialObject,e.spatialObject)),n.file&&(i.file=Et(n.file,e.file)),i},op=(t,e)=>{let r={};if(!t.encodedAttributes)return{};let n=Object.entries(t.encodedAttributes);for(let i of n){let[s,o]=i,a=e.attributesSchema?.[s];if(!a)continue;let u=o;a.enumValues&&(a.isArray&&Array.isArray(o)?u=o.map(l=>typeof l=="number"?a.enumValues?.[l]:null).filter(l=>!!l):typeof o=="number"&&(u=a.enumValues[o])),r[s]={name:a.name,value:u,isArray:a.isArray||!1,type:a.type,rawValue:o,isEnum:!!a.enumValues}}return r};var vo=et(zr()),_c=et(Bn()),up="https://ipfs.unique.network/ipfs/{infix}",lp="https://ipfs.unique.network/ipfs/QmPCqY7Lmxerm8cLKmB18kT1RxkwnpasPVksA8XLhViVT7",rn=t=>{let e=up;typeof t?.imageUrlTemplate=="string"&&(e=t.imageUrlTemplate);let r=typeof t?.dummyImageFullUrl=="string"?t.dummyImageFullUrl:lp;return{imageUrlTemplate:e,dummyImageFullUrl:r}},xr=(t,e,r)=>{if(!t||!t.length)throw new ye("Unable to parse: collection properties are empty");let n=e==="V0"?yc(t,r):e==="V1"?vc(t):null;if(!n)throw new ye(`Unknown collection schema: "${e}"`);let i=t.find(o=>o.key==="royalties")?.valueHex,s=i?_c.Royalties.uniqueV2.decode(i):[];return s.length&&(n.royalties=s),n},li=(t,e,r,n)=>{if(!e)throw new ye("unable to parse: collection schema was not provided");if(!t||!t.length)throw new ye("unable to parse: token properties are empty");let i=e.schemaFamily==="V0"?gc(t,e,n,r):e.schemaFamily==="V1"?bc(t,e,r):null;if(!i)throw new ye("Unknown token schema");let s=r?.tokenOwner;return s&&vo.Address.is.nestingAddress(s)&&(i.nestingParentToken=vo.Address.nesting.addressToIds(s)),i};var _o=(t,e,r)=>{if(r?.schemaFamily&&["V0","V1"].includes(r?.schemaFamily))return{schemaFamily:r.schemaFamily,tokenURI:null};let i=t.schemaName?.value==="unique"||e.schemaName?.value==="unique"||e.schemaName?.value==='"unique"'?t.schemaVersion?.value||e.schemaVersion?.value:null;i&&i.startsWith('"')&&(i=i.slice(1,-1));let s=Nn.fromString(i||"0.0.0"),o=Za(t,e),a=s.major===2,u=!!o&&!a;return{schemaFamily:a?"V2":s.major===1?"V1":"_old_schemaVersion"in e?"V0":u?"ERC721":"UNKNOWN",tokenURI:o}},wc=async(t,e)=>{let r=Vt(t),n=Vt(e?.collectionProperties),{schemaFamily:i,tokenURI:s}=_o(r,n,e?.collectionDecodedSchemaV1);if(["V2","ERC721"].includes(i))return await dp(r,n,s,e);if(["V0","V1"].includes(i))return await cp(t,i,e);throw new Error("Unknown token schema version - not Unique v2, v1 or v0 and not ERC721Metadata-compatible")},cp=async(t,e,r)=>{let n=r?.collectionProperties,i=r?.collectionDecodedSchemaV1;if(!i){if(!Array.isArray(n))throw new Error("Collection properties are required for decoding tokens in Unique schema for versions less than v2 and no pre-decoded schema have been provided");let v=r?.collectionDecodedSchemaV1;i=v||xr(n,e)}let s=li(t,i,r),o=Object.values(s.attributes),a=s.name?._??o.find(v=>v.name._==="name")?.value?._??null,u=s.description?._??o.find(v=>v.name._==="description")?.value?._??null,l=[];o.forEach(v=>{let X=v.name._;if(v.isArray&&Array.isArray(v.value))v.value.forEach(k=>{l.push({trait_type:X,value:k._})});else{let k=v.value?._;["string","number"].includes(typeof k)&&l.push({trait_type:v.name._,value:k})}});let c={};s.video&&s.video.fullUrl&&(c.video={type:"video",url:s.video.fullUrl}),s.audio&&s.audio.fullUrl&&(c.audio={type:"audio",url:s.audio.fullUrl}),s.spatialObject&&s.spatialObject.fullUrl&&(c.spatial={type:"spatial",url:s.spatialObject.fullUrl}),s.file&&s.file.fullUrl&&(c.file={type:"document",url:s.file.fullUrl});let d=t.find(v=>v.key==="royalties")?.valueHex,S=d?bo.Royalties.uniqueV2.decode(d):[],m=n?.find(v=>v.key==="royalties")?.valueHex,b=i.royalties?i.royalties:m?bo.Royalties.uniqueV2.decode(m):[],A=Wa(b,S),D={schemaName:"unique",schemaVersion:"2.0.0",originalSchemaVersion:e==="V0"?"0.0.1":i.schemaVersion||"1.0.0"};return s.image&&s.image.fullUrl&&(D.image=s.image.fullUrl),a&&(D.name=a),u&&(D.description=u),l.length>0&&(D.attributes=l),Object.keys(c).length>0&&(D.media=c),A.length>0&&(D.royalties=A),D},dp=async(t,e,r,n)=>{let i=t.tokenData?.value||null;!i&&n?.tryRequestForTokenURI&&r&&(i=await fetch(r).then(u=>u.text()));let s=Cn(i);if(typeof s=="string"||s===null)throw new Error("Unable to parse tokenData JSON");let o=t.royalties?.valueHex,a=e?.royalties?.valueHex;return s};var xc=async(t,e)=>{let r=Vt(t),{schemaFamily:n}=_o(r,r),i=n==="V2",s=n==="V0";if(i)return{...vt(r.collectionInfo?.valueHex)};let o=xr(t,n),a={schemaName:"unique",schemaVersion:i&&o.schemaVersion||"2.0.0",originalSchemaVersion:s?"0.0.1":o.schemaVersion||"1.0.0"},{royalties:u}=o;return Array.isArray(u)&&u.length&&(a.royalties=u),o.attributesSchema&&(a.potential_attributes=Object.values(o.attributesSchema).map(l=>{let c={trait_type:l.name._,display_type:l.type};return l.enumValues&&(c.values=Object.values(l.enumValues).map(d=>d._)),c})),o.coverPicture.fullUrl&&(a.cover_image={url:o.coverPicture.fullUrl},e?.tryRequestForMediaDetails),a};var wo={REWRITEABLE_FOR_BOTH:{mutable:!0,collectionAdmin:!0,tokenOwner:!0},REWRITEABLE_FOR_COLLECTION_ADMIN:{mutable:!0,collectionAdmin:!0,tokenOwner:!1},REWRITEABLE_FOR_TOKEN_OWNER:{mutable:!0,collectionAdmin:!1,tokenOwner:!0},WRITABLE_ONCE_FOR_BOTH:{mutable:!1,collectionAdmin:!0,tokenOwner:!0},WRITABLE_ONCE_FOR_COLLECTION_ADMIN:{mutable:!1,collectionAdmin:!0,tokenOwner:!1},WRITABLE_ONCE_FOR_TOKEN_OWNER:{mutable:!1,collectionAdmin:!1,tokenOwner:!0}},ci=wo.REWRITEABLE_FOR_COLLECTION_ADMIN,Ge="unique",It="2.0.0",Ac=64;var Lo={};ki(Lo,{zAttribute:()=>Uc,zCollectionIdOrAddress:()=>Io,zCollectionSchema:()=>Do,zCustomizing:()=>Dc,zCustomizingFileInfo:()=>Ro,zCustomizingImageOverlaySpecs:()=>_i,zCustomizingMutatorReaction:()=>No,zCustomizingOverrides:()=>Lc,zCustomizingSlot:()=>wi,zImageDetails:()=>Pr,zImageWithDetails:()=>Nr,zImageWithDetailsAndThumbnail:()=>Eo,zMedia:()=>Rc,zMediaDetails:()=>Co,zMediaType:()=>ln,zRoyalty:()=>Po,zSemverString:()=>bi,zSemverString2xx:()=>To,zTokenSchema:()=>Uo});var K;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{let s={};for(let o of i)s[o]=o;return s},t.getValidEnumValues=i=>{let s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(let a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let s=[];for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(let o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(K||(K={}));var Ao;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Ao||(Ao={}));var w=K.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Tt=t=>{switch(typeof t){case"undefined":return w.undefined;case"string":return w.string;case"number":return isNaN(t)?w.nan:w.number;case"boolean":return w.boolean;case"function":return w.function;case"bigint":return w.bigint;case"symbol":return w.symbol;case"object":return Array.isArray(t)?w.array:t===null?w.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?w.promise:typeof Map<"u"&&t instanceof Map?w.map:typeof Set<"u"&&t instanceof Set?w.set:typeof Date<"u"&&t instanceof Date?w.date:w.object;default:return w.unknown}},y=K.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),fp=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),Ae=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(let o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,u=0;for(;u<o.path.length;){let l=o.path[u];u===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(r(o))):a[l]=a[l]||{_errors:[]},a=a[l],u++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,K.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Ae.create=t=>new Ae(t);var on=(t,e)=>{let r;switch(t.code){case y.invalid_type:t.received===w.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case y.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,K.jsonStringifyReplacer)}`;break;case y.unrecognized_keys:r=`Unrecognized key(s) in object: ${K.joinValues(t.keys,", ")}`;break;case y.invalid_union:r="Invalid input";break;case y.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${K.joinValues(t.options)}`;break;case y.invalid_enum_value:r=`Invalid enum value. Expected ${K.joinValues(t.options)}, received '${t.received}'`;break;case y.invalid_arguments:r="Invalid function arguments";break;case y.invalid_return_type:r="Invalid function return type";break;case y.invalid_date:r="Invalid date";break;case y.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:K.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case y.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case y.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case y.custom:r="Invalid input";break;case y.invalid_intersection_types:r="Intersection results could not be merged";break;case y.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case y.not_finite:r="Number must be finite";break;default:r=e.defaultError,K.assertNever(t)}return{message:r}},kc=on;function hp(t){kc=t}function fi(){return kc}var hi=t=>{let{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s},a="",u=n.filter(l=>!!l).slice().reverse();for(let l of u)a=l(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},pp=[];function x(t,e){let r=hi({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,fi(),on].filter(n=>!!n)});t.common.issues.push(r)}var de=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let i of r){if(i.status==="aborted")return L;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let i of r)n.push({key:await i.key,value:await i.value});return t.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let i of r){let{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return L;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}},L=Object.freeze({status:"aborted"}),Ec=t=>({status:"dirty",value:t}),me=t=>({status:"valid",value:t}),Oo=t=>t.status==="aborted",So=t=>t.status==="dirty",an=t=>t.status==="valid",pi=t=>typeof Promise<"u"&&t instanceof Promise,N;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(N||(N={}));var Pe=class{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Oc=(t,e)=>{if(an(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Ae(t.common.issues);return this._error=r,this._error}}};function B(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:i}}var j=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Tt(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Tt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new de,ctx:{common:e.parent.common,data:e.data,parsedType:Tt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(pi(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;let i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Tt(e)},s=this._parseSync({data:e,path:i.path,parent:i});return Oc(i,s)}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Tt(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(pi(i)?i:Promise.resolve(i));return Oc(n,s)}refine(e,r){let n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{let o=e(i),a=()=>s.addIssue({code:y.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Oe({schema:this,typeName:R.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return qe.create(this,this._def)}nullable(){return lt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ut.create(this,this._def)}promise(){return Nt.create(this,this._def)}or(e){return Xt.create([this,e],this._def)}and(e){return Yt.create(this,e,this._def)}transform(e){return new Oe({...B(this._def),schema:this,typeName:R.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new rr({...B(this._def),innerType:this,defaultValue:r,typeName:R.ZodDefault})}brand(){return new vi({typeName:R.ZodBranded,type:this,...B(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new Ir({...B(this._def),innerType:this,catchValue:r,typeName:R.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return un.create(this,e)}readonly(){return Cr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},mp=/^c[^\s-]{8,}$/i,yp=/^[a-z][a-z0-9]*$/,gp=/^[0-9A-HJKMNP-TV-Z]{26}$/,vp=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,bp=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_p="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",xo,wp=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,xp=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Ap=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Op(t,e){return!!((e==="v4"||!e)&&wp.test(t)||(e==="v6"||!e)&&xp.test(t))}var Ct=class t extends j{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==w.string){let s=this._getOrReturnCtx(e);return x(s,{code:y.invalid_type,expected:w.string,received:s.parsedType}),L}let n=new de,i;for(let s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),x(i,{code:y.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),x(i,{code:y.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){let o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?x(i,{code:y.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&x(i,{code:y.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")bp.test(e.data)||(i=this._getOrReturnCtx(e,i),x(i,{validation:"email",code:y.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")xo||(xo=new RegExp(_p,"u")),xo.test(e.data)||(i=this._getOrReturnCtx(e,i),x(i,{validation:"emoji",code:y.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")vp.test(e.data)||(i=this._getOrReturnCtx(e,i),x(i,{validation:"uuid",code:y.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")mp.test(e.data)||(i=this._getOrReturnCtx(e,i),x(i,{validation:"cuid",code:y.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")yp.test(e.data)||(i=this._getOrReturnCtx(e,i),x(i,{validation:"cuid2",code:y.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")gp.test(e.data)||(i=this._getOrReturnCtx(e,i),x(i,{validation:"ulid",code:y.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),x(i,{validation:"url",code:y.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),x(i,{validation:"regex",code:y.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),x(i,{code:y.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),x(i,{code:y.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),x(i,{code:y.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?Ap(s).test(e.data)||(i=this._getOrReturnCtx(e,i),x(i,{code:y.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?Op(e.data,s.version)||(i=this._getOrReturnCtx(e,i),x(i,{validation:"ip",code:y.invalid_string,message:s.message}),n.dirty()):K.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:y.invalid_string,...N.errToObj(n)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...N.errToObj(e)})}url(e){return this._addCheck({kind:"url",...N.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...N.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...N.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...N.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...N.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...N.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...N.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,...N.errToObj(e?.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...N.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...N.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...N.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...N.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...N.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...N.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...N.errToObj(r)})}nonempty(e){return this.min(1,N.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Ct.create=t=>{var e;return new Ct({checks:[],typeName:R.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...B(t)})};function Sp(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}var $t=class t extends j{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==w.number){let s=this._getOrReturnCtx(e);return x(s,{code:y.invalid_type,expected:w.number,received:s.parsedType}),L}let n,i=new de;for(let s of this._def.checks)s.kind==="int"?K.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),x(n,{code:y.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),x(n,{code:y.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),x(n,{code:y.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Sp(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),x(n,{code:y.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),x(n,{code:y.not_finite,message:s.message}),i.dirty()):K.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,N.toString(r))}gt(e,r){return this.setLimit("min",e,!1,N.toString(r))}lte(e,r){return this.setLimit("max",e,!0,N.toString(r))}lt(e,r){return this.setLimit("max",e,!1,N.toString(r))}setLimit(e,r,n,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:N.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:N.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:N.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:N.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:N.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:N.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:N.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:N.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:N.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:N.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&K.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};$t.create=t=>new $t({checks:[],typeName:R.ZodNumber,coerce:t?.coerce||!1,...B(t)});var Ht=class t extends j{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==w.bigint){let s=this._getOrReturnCtx(e);return x(s,{code:y.invalid_type,expected:w.bigint,received:s.parsedType}),L}let n,i=new de;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),x(n,{code:y.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),x(n,{code:y.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),x(n,{code:y.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):K.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,N.toString(r))}gt(e,r){return this.setLimit("min",e,!1,N.toString(r))}lte(e,r){return this.setLimit("max",e,!0,N.toString(r))}lt(e,r){return this.setLimit("max",e,!1,N.toString(r))}setLimit(e,r,n,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:N.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:N.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:N.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:N.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:N.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:N.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Ht.create=t=>{var e;return new Ht({checks:[],typeName:R.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...B(t)})};var Zt=class extends j{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==w.boolean){let n=this._getOrReturnCtx(e);return x(n,{code:y.invalid_type,expected:w.boolean,received:n.parsedType}),L}return me(e.data)}};Zt.create=t=>new Zt({typeName:R.ZodBoolean,coerce:t?.coerce||!1,...B(t)});var Wt=class t extends j{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==w.date){let s=this._getOrReturnCtx(e);return x(s,{code:y.invalid_type,expected:w.date,received:s.parsedType}),L}if(isNaN(e.data.getTime())){let s=this._getOrReturnCtx(e);return x(s,{code:y.invalid_date}),L}let n=new de,i;for(let s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),x(i,{code:y.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),x(i,{code:y.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):K.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:N.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:N.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};Wt.create=t=>new Wt({checks:[],coerce:t?.coerce||!1,typeName:R.ZodDate,...B(t)});var Or=class extends j{_parse(e){if(this._getType(e)!==w.symbol){let n=this._getOrReturnCtx(e);return x(n,{code:y.invalid_type,expected:w.symbol,received:n.parsedType}),L}return me(e.data)}};Or.create=t=>new Or({typeName:R.ZodSymbol,...B(t)});var Jt=class extends j{_parse(e){if(this._getType(e)!==w.undefined){let n=this._getOrReturnCtx(e);return x(n,{code:y.invalid_type,expected:w.undefined,received:n.parsedType}),L}return me(e.data)}};Jt.create=t=>new Jt({typeName:R.ZodUndefined,...B(t)});var Kt=class extends j{_parse(e){if(this._getType(e)!==w.null){let n=this._getOrReturnCtx(e);return x(n,{code:y.invalid_type,expected:w.null,received:n.parsedType}),L}return me(e.data)}};Kt.create=t=>new Kt({typeName:R.ZodNull,...B(t)});var Pt=class extends j{constructor(){super(...arguments),this._any=!0}_parse(e){return me(e.data)}};Pt.create=t=>new Pt({typeName:R.ZodAny,...B(t)});var at=class extends j{constructor(){super(...arguments),this._unknown=!0}_parse(e){return me(e.data)}};at.create=t=>new at({typeName:R.ZodUnknown,...B(t)});var ze=class extends j{_parse(e){let r=this._getOrReturnCtx(e);return x(r,{code:y.invalid_type,expected:w.never,received:r.parsedType}),L}};ze.create=t=>new ze({typeName:R.ZodNever,...B(t)});var Sr=class extends j{_parse(e){if(this._getType(e)!==w.undefined){let n=this._getOrReturnCtx(e);return x(n,{code:y.invalid_type,expected:w.void,received:n.parsedType}),L}return me(e.data)}};Sr.create=t=>new Sr({typeName:R.ZodVoid,...B(t)});var ut=class t extends j{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==w.array)return x(r,{code:y.invalid_type,expected:w.array,received:r.parsedType}),L;if(i.exactLength!==null){let o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(x(r,{code:o?y.too_big:y.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(x(r,{code:y.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(x(r,{code:y.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new Pe(r,o,r.path,a)))).then(o=>de.mergeArray(n,o));let s=[...r.data].map((o,a)=>i.type._parseSync(new Pe(r,o,r.path,a)));return de.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:N.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:N.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:N.toString(r)}})}nonempty(e){return this.min(1,e)}};ut.create=(t,e)=>new ut({type:t,minLength:null,maxLength:null,exactLength:null,typeName:R.ZodArray,...B(e)});function Ar(t){if(t instanceof ve){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=qe.create(Ar(n))}return new ve({...t._def,shape:()=>e})}else return t instanceof ut?new ut({...t._def,type:Ar(t.element)}):t instanceof qe?qe.create(Ar(t.unwrap())):t instanceof lt?lt.create(Ar(t.unwrap())):t instanceof Qe?Qe.create(t.items.map(e=>Ar(e))):t}var ve=class t extends j{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=K.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==w.object){let l=this._getOrReturnCtx(e);return x(l,{code:y.invalid_type,expected:w.object,received:l.parsedType}),L}let{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ze&&this._def.unknownKeys==="strip"))for(let l in i.data)o.includes(l)||a.push(l);let u=[];for(let l of o){let c=s[l],d=i.data[l];u.push({key:{status:"valid",value:l},value:c._parse(new Pe(i,d,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof ze){let l=this._def.unknownKeys;if(l==="passthrough")for(let c of a)u.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(l==="strict")a.length>0&&(x(i,{code:y.unrecognized_keys,keys:a}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let l=this._def.catchall;for(let c of a){let d=i.data[c];u.push({key:{status:"valid",value:c},value:l._parse(new Pe(i,d,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let l=[];for(let c of u){let d=await c.key;l.push({key:d,value:await c.value,alwaysSet:c.alwaysSet})}return l}).then(l=>de.mergeObjectSync(n,l)):de.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return N.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,o,a;let u=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=N.errToObj(e).message)!==null&&a!==void 0?a:u}:{message:u}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:R.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};return K.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new t({...this._def,shape:()=>r})}omit(e){let r={};return K.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new t({...this._def,shape:()=>r})}deepPartial(){return Ar(this)}partial(e){let r={};return K.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new t({...this._def,shape:()=>r})}required(e){let r={};return K.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof qe;)s=s._def.innerType;r[n]=s}}),new t({...this._def,shape:()=>r})}keyof(){return Ic(K.objectKeys(this.shape))}};ve.create=(t,e)=>new ve({shape:()=>t,unknownKeys:"strip",catchall:ze.create(),typeName:R.ZodObject,...B(e)});ve.strictCreate=(t,e)=>new ve({shape:()=>t,unknownKeys:"strict",catchall:ze.create(),typeName:R.ZodObject,...B(e)});ve.lazycreate=(t,e)=>new ve({shape:t,unknownKeys:"strip",catchall:ze.create(),typeName:R.ZodObject,...B(e)});var Xt=class extends j{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(let a of s)if(a.result.status==="valid")return a.result;for(let a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let o=s.map(a=>new Ae(a.ctx.common.issues));return x(r,{code:y.invalid_union,unionErrors:o}),L}if(r.common.async)return Promise.all(n.map(async s=>{let o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s,o=[];for(let u of n){let l={...r,common:{...r.common,issues:[]},parent:null},c=u._parseSync({data:r.data,path:r.path,parent:l});if(c.status==="valid")return c;c.status==="dirty"&&!s&&(s={result:c,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;let a=o.map(u=>new Ae(u));return x(r,{code:y.invalid_union,unionErrors:a}),L}}get options(){return this._def.options}};Xt.create=(t,e)=>new Xt({options:t,typeName:R.ZodUnion,...B(e)});var di=t=>t instanceof Gt?di(t.schema):t instanceof Oe?di(t.innerType()):t instanceof Qt?[t.value]:t instanceof er?t.options:t instanceof tr?Object.keys(t.enum):t instanceof rr?di(t._def.innerType):t instanceof Jt?[void 0]:t instanceof Kt?[null]:null,mi=class t extends j{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==w.object)return x(r,{code:y.invalid_type,expected:w.object,received:r.parsedType}),L;let n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(x(r,{code:y.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),L)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let i=new Map;for(let s of r){let o=di(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new t({typeName:R.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...B(n)})}};function ko(t,e){let r=Tt(t),n=Tt(e);if(t===e)return{valid:!0,data:t};if(r===w.object&&n===w.object){let i=K.objectKeys(e),s=K.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(let a of s){let u=ko(t[a],e[a]);if(!u.valid)return{valid:!1};o[a]=u.data}return{valid:!0,data:o}}else if(r===w.array&&n===w.array){if(t.length!==e.length)return{valid:!1};let i=[];for(let s=0;s<t.length;s++){let o=t[s],a=e[s],u=ko(o,a);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===w.date&&n===w.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var Yt=class extends j{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(Oo(s)||Oo(o))return L;let a=ko(s.value,o.value);return a.valid?((So(s)||So(o))&&r.dirty(),{status:r.value,value:a.data}):(x(n,{code:y.invalid_intersection_types}),L)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Yt.create=(t,e,r)=>new Yt({left:t,right:e,typeName:R.ZodIntersection,...B(r)});var Qe=class t extends j{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==w.array)return x(n,{code:y.invalid_type,expected:w.array,received:n.parsedType}),L;if(n.data.length<this._def.items.length)return x(n,{code:y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),L;!this._def.rest&&n.data.length>this._def.items.length&&(x(n,{code:y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let s=[...n.data].map((o,a)=>{let u=this._def.items[a]||this._def.rest;return u?u._parse(new Pe(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>de.mergeArray(r,o)):de.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};Qe.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qe({items:t,typeName:R.ZodTuple,rest:null,...B(e)})};var yi=class t extends j{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==w.object)return x(n,{code:y.invalid_type,expected:w.object,received:n.parsedType}),L;let i=[],s=this._def.keyType,o=this._def.valueType;for(let a in n.data)i.push({key:s._parse(new Pe(n,a,n.path,a)),value:o._parse(new Pe(n,n.data[a],n.path,a))});return n.common.async?de.mergeObjectAsync(r,i):de.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof j?new t({keyType:e,valueType:r,typeName:R.ZodRecord,...B(n)}):new t({keyType:Ct.create(),valueType:e,typeName:R.ZodRecord,...B(r)})}},kr=class extends j{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==w.map)return x(n,{code:y.invalid_type,expected:w.map,received:n.parsedType}),L;let i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,u],l)=>({key:i._parse(new Pe(n,a,n.path,[l,"key"])),value:s._parse(new Pe(n,u,n.path,[l,"value"]))}));if(n.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let u of o){let l=await u.key,c=await u.value;if(l.status==="aborted"||c.status==="aborted")return L;(l.status==="dirty"||c.status==="dirty")&&r.dirty(),a.set(l.value,c.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let u of o){let l=u.key,c=u.value;if(l.status==="aborted"||c.status==="aborted")return L;(l.status==="dirty"||c.status==="dirty")&&r.dirty(),a.set(l.value,c.value)}return{status:r.value,value:a}}}};kr.create=(t,e,r)=>new kr({valueType:e,keyType:t,typeName:R.ZodMap,...B(r)});var Er=class t extends j{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==w.set)return x(n,{code:y.invalid_type,expected:w.set,received:n.parsedType}),L;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(x(n,{code:y.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(x(n,{code:y.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let s=this._def.valueType;function o(u){let l=new Set;for(let c of u){if(c.status==="aborted")return L;c.status==="dirty"&&r.dirty(),l.add(c.value)}return{status:r.value,value:l}}let a=[...n.data.values()].map((u,l)=>s._parse(new Pe(n,u,n.path,l)));return n.common.async?Promise.all(a).then(u=>o(u)):o(a)}min(e,r){return new t({...this._def,minSize:{value:e,message:N.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:N.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};Er.create=(t,e)=>new Er({valueType:t,minSize:null,maxSize:null,typeName:R.ZodSet,...B(e)});var gi=class t extends j{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==w.function)return x(r,{code:y.invalid_type,expected:w.function,received:r.parsedType}),L;function n(a,u){return hi({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,fi(),on].filter(l=>!!l),issueData:{code:y.invalid_arguments,argumentsError:u}})}function i(a,u){return hi({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,fi(),on].filter(l=>!!l),issueData:{code:y.invalid_return_type,returnTypeError:u}})}let s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Nt){let a=this;return me(async function(...u){let l=new Ae([]),c=await a._def.args.parseAsync(u,s).catch(m=>{throw l.addIssue(n(u,m)),l}),d=await Reflect.apply(o,this,c);return await a._def.returns._def.type.parseAsync(d,s).catch(m=>{throw l.addIssue(i(d,m)),l})})}else{let a=this;return me(function(...u){let l=a._def.args.safeParse(u,s);if(!l.success)throw new Ae([n(u,l.error)]);let c=Reflect.apply(o,this,l.data),d=a._def.returns.safeParse(c,s);if(!d.success)throw new Ae([i(c,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:Qe.create(e).rest(at.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new t({args:e||Qe.create([]).rest(at.create()),returns:r||at.create(),typeName:R.ZodFunction,...B(n)})}},Gt=class extends j{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Gt.create=(t,e)=>new Gt({getter:t,typeName:R.ZodLazy,...B(e)});var Qt=class extends j{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return x(r,{received:r.data,code:y.invalid_literal,expected:this._def.value}),L}return{status:"valid",value:e.data}}get value(){return this._def.value}};Qt.create=(t,e)=>new Qt({value:t,typeName:R.ZodLiteral,...B(e)});function Ic(t,e){return new er({values:t,typeName:R.ZodEnum,...B(e)})}var er=class t extends j{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return x(r,{expected:K.joinValues(n),received:r.parsedType,code:y.invalid_type}),L}if(this._def.values.indexOf(e.data)===-1){let r=this._getOrReturnCtx(e),n=this._def.values;return x(r,{received:r.data,code:y.invalid_enum_value,options:n}),L}return me(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e){return t.create(e)}exclude(e){return t.create(this.options.filter(r=>!e.includes(r)))}};er.create=Ic;var tr=class extends j{_parse(e){let r=K.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==w.string&&n.parsedType!==w.number){let i=K.objectValues(r);return x(n,{expected:K.joinValues(i),received:n.parsedType,code:y.invalid_type}),L}if(r.indexOf(e.data)===-1){let i=K.objectValues(r);return x(n,{received:n.data,code:y.invalid_enum_value,options:i}),L}return me(e.data)}get enum(){return this._def.values}};tr.create=(t,e)=>new tr({values:t,typeName:R.ZodNativeEnum,...B(e)});var Nt=class extends j{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==w.promise&&r.common.async===!1)return x(r,{code:y.invalid_type,expected:w.promise,received:r.parsedType}),L;let n=r.parsedType===w.promise?r.data:Promise.resolve(r.data);return me(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Nt.create=(t,e)=>new Nt({type:t,typeName:R.ZodPromise,...B(e)});var Oe=class extends j{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===R.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{x(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){let o=i.transform(n.data,s);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(i.type==="refinement"){let o=a=>{let u=i.refinement(a,s);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?L:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?L:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!an(o))return o;let a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>an(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):o);K.assertNever(i)}};Oe.create=(t,e,r)=>new Oe({schema:t,typeName:R.ZodEffects,effect:e,...B(r)});Oe.createWithPreprocess=(t,e,r)=>new Oe({schema:e,effect:{type:"preprocess",transform:t},typeName:R.ZodEffects,...B(r)});var qe=class extends j{_parse(e){return this._getType(e)===w.undefined?me(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};qe.create=(t,e)=>new qe({innerType:t,typeName:R.ZodOptional,...B(e)});var lt=class extends j{_parse(e){return this._getType(e)===w.null?me(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};lt.create=(t,e)=>new lt({innerType:t,typeName:R.ZodNullable,...B(e)});var rr=class extends j{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===w.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};rr.create=(t,e)=>new rr({innerType:t,typeName:R.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...B(e)});var Ir=class extends j{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return pi(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ae(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ae(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Ir.create=(t,e)=>new Ir({innerType:t,typeName:R.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...B(e)});var Tr=class extends j{_parse(e){if(this._getType(e)!==w.nan){let n=this._getOrReturnCtx(e);return x(n,{code:y.invalid_type,expected:w.nan,received:n.parsedType}),L}return{status:"valid",value:e.data}}};Tr.create=t=>new Tr({typeName:R.ZodNaN,...B(t)});var kp=Symbol("zod_brand"),vi=class extends j{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},un=class t extends j{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?L:s.status==="dirty"?(r.dirty(),Ec(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?L:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new t({in:e,out:r,typeName:R.ZodPipeline})}},Cr=class extends j{_parse(e){let r=this._def.innerType._parse(e);return an(r)&&(r.value=Object.freeze(r.value)),r}};Cr.create=(t,e)=>new Cr({innerType:t,typeName:R.ZodReadonly,...B(e)});var Tc=(t,e={},r)=>t?Pt.create().superRefine((n,i)=>{var s,o;if(!t(n)){let a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,u=(o=(s=a.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...l,fatal:u})}}):Pt.create(),Ep={object:ve.lazycreate},R;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(R||(R={}));var Ip=(t,e={message:`Input not instance of ${t.name}`})=>Tc(r=>r instanceof t,e),Cc=Ct.create,Pc=$t.create,Tp=Tr.create,Cp=Ht.create,Nc=Zt.create,Pp=Wt.create,Np=Or.create,Rp=Jt.create,Up=Kt.create,Dp=Pt.create,Lp=at.create,Vp=ze.create,Bp=Sr.create,jp=ut.create,qp=ve.create,zp=ve.strictCreate,Mp=Xt.create,Fp=mi.create,$p=Yt.create,Hp=Qe.create,Zp=yi.create,Wp=kr.create,Jp=Er.create,Kp=gi.create,Xp=Gt.create,Yp=Qt.create,Gp=er.create,Qp=tr.create,em=Nt.create,Sc=Oe.create,tm=qe.create,rm=lt.create,nm=Oe.createWithPreprocess,im=un.create,sm=()=>Cc().optional(),om=()=>Pc().optional(),am=()=>Nc().optional(),um={string:t=>Ct.create({...t,coerce:!0}),number:t=>$t.create({...t,coerce:!0}),boolean:t=>Zt.create({...t,coerce:!0}),bigint:t=>Ht.create({...t,coerce:!0}),date:t=>Wt.create({...t,coerce:!0})},lm=L,f=Object.freeze({__proto__:null,defaultErrorMap:on,setErrorMap:hp,getErrorMap:fi,makeIssue:hi,EMPTY_PATH:pp,addIssueToContext:x,ParseStatus:de,INVALID:L,DIRTY:Ec,OK:me,isAborted:Oo,isDirty:So,isValid:an,isAsync:pi,get util(){return K},get objectUtil(){return Ao},ZodParsedType:w,getParsedType:Tt,ZodType:j,ZodString:Ct,ZodNumber:$t,ZodBigInt:Ht,ZodBoolean:Zt,ZodDate:Wt,ZodSymbol:Or,ZodUndefined:Jt,ZodNull:Kt,ZodAny:Pt,ZodUnknown:at,ZodNever:ze,ZodVoid:Sr,ZodArray:ut,ZodObject:ve,ZodUnion:Xt,ZodDiscriminatedUnion:mi,ZodIntersection:Yt,ZodTuple:Qe,ZodRecord:yi,ZodMap:kr,ZodSet:Er,ZodFunction:gi,ZodLazy:Gt,ZodLiteral:Qt,ZodEnum:er,ZodNativeEnum:tr,ZodPromise:Nt,ZodEffects:Oe,ZodTransformer:Oe,ZodOptional:qe,ZodNullable:lt,ZodDefault:rr,ZodCatch:Ir,ZodNaN:Tr,BRAND:kp,ZodBranded:vi,ZodPipeline:un,ZodReadonly:Cr,custom:Tc,Schema:j,ZodSchema:j,late:Ep,get ZodFirstPartyTypeKind(){return R},coerce:um,any:Dp,array:jp,bigint:Cp,boolean:Nc,date:Pp,discriminatedUnion:Fp,effect:Sc,enum:Gp,function:Kp,instanceof:Ip,intersection:$p,lazy:Xp,literal:Yp,map:Wp,nan:Tp,nativeEnum:Qp,never:Vp,null:Up,nullable:rm,number:Pc,object:qp,oboolean:am,onumber:om,optional:tm,ostring:sm,pipeline:im,preprocess:nm,promise:em,record:Zp,set:Jp,strictObject:zp,string:Cc,symbol:Np,transformer:Sc,tuple:Hp,undefined:Rp,union:Mp,unknown:Lp,void:Bp,NEVER:lm,ZodIssueCode:y,quotelessJson:fp,ZodError:Ae});function cm(t){if(typeof t.ZodType.prototype.openapi<"u")return;t.ZodType.prototype.openapi=function(i){return new this.constructor({...this._def,openapi:i})};let e=t.ZodObject.prototype.extend;t.ZodObject.prototype.extend=function(...i){let s=e.apply(this,i);return s._def.extendMetadata={extends:this},delete s._def.openapi,s};let r=t.ZodObject.prototype.omit;t.ZodObject.prototype.omit=function(...i){let s=r.apply(this,i);return delete s._def.extendMetadata,delete s._def.openapi,s};let n=t.ZodObject.prototype.pick;t.ZodObject.prototype.pick=function(...i){let s=n.apply(this,i);return delete s._def.extendMetadata,delete s._def.openapi,s}}cm(f);var Io=f.union([f.number().min(1).max(2**32-1),f.string().regex(/^0x[a-fA-F0-9]{40}$/)]),bi=f.string().regex(/^\d+\.\d+\.\d+$/),ln=f.enum(["image","animation","video","audio","spatial","pdf","document","other"]),To=bi.refine(t=>{if(typeof t=="string"){let[e,r,n]=t.split(".").map(Number);if(e!==2||r<0||n<0)return!1}return!0},"version must be in semver format: 2.x.x"),Pr=f.object({name:f.string().optional(),type:ln.optional(),bytes:f.number().optional(),format:f.string().optional(),sha256:f.string().optional(),width:f.number().optional(),height:f.number().optional(),order:f.number().optional()}),Nr=f.object({url:f.string(),details:Pr.optional()}),Eo=Nr.extend({thumbnail:Nr.optional()}),Co=Pr.extend({duration:f.number().optional(),codecs:f.array(f.string()).optional(),loop:f.boolean().optional()}),Rc=f.object({type:ln,url:f.string(),name:f.string().optional(),details:Co.optional(),thumbnail:Nr.optional(),poster:Nr.optional()}),Uc=f.object({trait_type:f.string(),value:f.union([f.string(),f.number()]),display_type:f.string().optional()}),Po=f.object({address:f.string(),percent:f.number().min(0).max(100),isPrimaryOnly:f.boolean().optional()}),_i=f.object({layer:f.number(),order_in_layer:f.number(),offset:f.object({x:f.number(),y:f.number()}).partial(),opacity:f.number(),rotation:f.number(),scale:f.object({x:f.number().optional(),y:f.number().optional(),unit:f.enum(["px","%"]).default("%").optional()}),anchor_point:f.object({x:f.number(),y:f.number()}),parent_anchor_point:f.object({x:f.number(),y:f.number()})}).partial(),No=_i.extend({url:f.string(),details:Pr}).partial(),Ro=f.object({type:ln,url:f.string(),name:f.string().optional(),details:Co.optional(),image_overlay_specs:_i.optional(),placeholder:Nr.optional()}),wi=f.object({type:ln,collections:Io.array().optional(),name:f.string().optional(),image_overlay_specs:_i.optional()}),Dc=f.object({self:Ro.extend({tag:f.string()}),slots:f.record(wi).optional(),mutator_reactions:f.record(No).optional(),mutators:f.array(f.string()).optional()}),Lc=f.object({self:Ro.extend({tag:f.string()}).partial().optional(),slots:f.record(wi.partial()).optional(),mutator_reactions:f.record(No.partial()).optional(),mutators:f.array(f.string()).optional()}),Uo=f.object({schemaName:f.string().optional().default(Ge),schemaVersion:To.optional().default(It),originalSchemaVersion:bi.optional(),name:f.string().optional(),description:f.string().optional(),image:f.string().optional(),image_details:Pr.optional(),attributes:f.array(Uc).optional(),media:f.record(Rc).optional(),royalties:f.array(Po).optional(),customizing:Dc.optional(),customizing_overrides:Lc.optional(),animation_url:f.string().optional(),animation_details:Pr.optional(),youtube_url:f.string().optional(),created_by:f.string().optional(),background_color:f.string().optional(),external_url:f.string().optional(),locale:f.string().optional()}),dm=f.array(f.object({trait_type:f.string(),display_type:f.string().optional(),values:f.array(f.union([f.string(),f.number()])).optional()})),Do=f.object({schemaName:f.string().optional().refine(t=>t===Ge,{message:`schemaName must be "${Ge}"`}).default(Ge),schemaVersion:To.optional().default(It),originalSchemaVersion:bi.optional(),cover_image:Eo.optional(),default_token_image:Eo.optional(),potential_attributes:dm.optional(),customizing:f.object({slots:f.record(wi).optional(),customizes:Io.array().optional()}).optional(),royalties:f.array(Po).optional()});var Vc=et(Bn());var Bc=(t,e)=>{let r=Do.parse(t),n=e?.defaultPermission??{...ci},i=[{key:"schemaName",value:r.schemaName||Ge},{key:"schemaVersion",value:r.schemaVersion||It},{key:"collectionInfo",value:JSON.stringify(r)}];if(r.royalties)throw new Error("Royalties are not supported in collections in v2, please use the token level royalties");let s=["schemaName","schemaVersion","tokenData","URI","URISuffix","overrides","customizing_overrides","royalties"].map(o=>({key:o,permission:n}));return{collectionProperties:cs(Pn(i,e?.overwriteProperties??[])),tokenPropertyPermissions:Pn(s,e?.overwriteTPPs??[]),flags:Ac}},jc=(t,e)=>{let r=Uo.parse(t),n=[{key:"schemaName",value:r.schemaName||Ge},{key:"schemaVersion",value:r.schemaVersion||It},{key:"tokenData",value:JSON.stringify(r)}];return r.royalties&&n.push({key:"royalties",valueHex:Vc.Royalties.uniqueV2.encode(r.royalties)}),e?.URI&&n.push({key:"URI",value:e.URI}),{tokenProperties:cs(Pn(n,e?.overwriteProperties??[]))}};var fm={decode:{collection:xc,token:wc},encode:{collection:Bc,token:jc},tools:{schemas:Lo,decodeOld:{collection:xr,token:li,utils:{parseImageLinkOptions:rn}},constants:{DEFAULT_SCHEMA_NAME:Ge,DEFAULT_SCHEMA_VERSION:It,DEFAULT_PERMISSION:ci,PERMISSIONS:wo}}};return Ei(hm);})();
/*! Bundled license information:

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=unique_schemas.min.js.map