{"version":3,"sources":["../src/nftsPallet.ts","../src/_base.ts","../src/errors.ts","../src/types.ts","../../substrate-http-proxy/src/routes/balances.ts","../../validation-schemas/extrinsics.ts","../../validation-schemas/shared.ts","../../validation-schemas/xcmUtils.ts","../../substrate-http-proxy/src/routes/_types.ts","../../substrate-http-proxy/src/schemas/events.ts","../../../node_modules/src/coin.ts","../../substrate-http-proxy/src/schemas/errors.ts","../../substrate-http-proxy/src/schemas/common.ts","../../substrate-http-proxy/src/schemas/collection.ts","../../substrate-http-proxy/src/schemas/input.ts","../../validation-schemas/xcmSchemas.ts","../../substrate-http-proxy/src/routes/collection.ts","../../substrate-http-proxy/src/routes/token.ts","../../substrate-http-proxy/src/schemas/token.ts","../../substrate-http-proxy/src/routes/fungible.ts","../../substrate-http-proxy/src/schemas/fungible.ts","../../substrate-http-proxy/src/routes/evm/deploy.ts","../../substrate-http-proxy/src/routes/evm/constants.ts","../../substrate-http-proxy/src/routes/evm/call.ts","../../substrate-http-proxy/src/schemas/evm/abi.ts","../../substrate-http-proxy/src/routes/evm/send.ts","../../substrate-http-proxy/src/routes/evm/parseLogs.ts","../../substrate-http-proxy/src/utils/evm/evmUtils.ts","../../substrate-http-proxy/src/routes/batch.ts","../../substrate-http-proxy/src/routes/system.ts","../../substrate-http-proxy/src/schemas/refungible.ts","../../substrate-http-proxy/src/routes/refungible.ts","../../substrate-http-proxy/src/routes/utils.ts","../../substrate-http-proxy/src/routes/palletNfts/collection.ts","../../substrate-http-proxy/src/schemas/palletNfts/collection.ts","../../substrate-http-proxy/src/schemas/palletNfts/attributes.ts","../../substrate-http-proxy/src/schemas/palletNfts/item.ts","../../substrate-http-proxy/src/routes/palletNfts/items.ts","../../substrate-http-proxy/src/routes/palletNfts/attributes.ts","../../substrate-http-proxy/src/routes/palletNfts/account.ts","../../substrate-http-proxy/src/routes/palletNfts/common.ts","../../substrate-http-proxy/src/routes/palletNfts/trades.ts","../../substrate-http-proxy/src/routes/palletNfts/utils.ts","../../substrate-http-proxy/src/schemas/palletUniques/item.ts","../../substrate-http-proxy/src/schemas/palletUniques/attributes.ts","../../substrate-http-proxy/src/schemas/palletUniques/collection.ts","../../substrate-http-proxy/src/routes/palletUniques/collection.ts","../../substrate-http-proxy/src/routes/palletUniques/item.ts","../../substrate-http-proxy/src/schemas/palletUniques/account.ts","../../substrate-http-proxy/src/routes/palletUniques/account.ts","../../substrate-http-proxy/src/routes/palletUniques/attributes.ts","../../substrate-http-proxy/src/routes/palletUniques/utils.ts","../../substrate-http-proxy/src/schemas/palletAssets/index.ts","../../substrate-http-proxy/src/routes/palletAssets/asset.ts","../../substrate-http-proxy/src/routes/palletForeignUniques/foreignUniquesAssetHub.ts","../../substrate-http-proxy/src/routes/palletForeignUniques/derivativeCollections.ts","../../substrate-http-proxy/src/routes/palletForeignUniques/foreignAssetsAssetHub.ts","../../substrate-client/registry/registry.ts","../../substrate-http-proxy/src/routes/palletAssets/_queries.ts"],"sourcesContent":["import {UNIQUE_CHAIN_PARAMS} from './types.js'\nimport {prepareBase} from './_base.js'\nimport {\n  PalletNftsCollectionRoutesConfig,\n  PalletNftsItemRoutesConfig,\n  PalletNftsAttributesRoutesConfig,\n  PalletNftsAccountRoutesConfig,\n  PalletNftsTradesRoutesConfig,\n  PalletNftsUtilsRoutesConfig,\n  SystemRoutesConfig,\n} from 'substrate-http-proxy/src/routes/index.js'\n\nexport const NftsPalletRoutes = (options: UNIQUE_CHAIN_PARAMS) => {\n  const {makeExtrinsicFn, makeQueryFn} = prepareBase(options)\n\n  return {\n    utility: {\n      getParsedTokenMetadata: makeQueryFn(PalletNftsUtilsRoutesConfig.queries.getTokenParsedMetadata),\n    },\n    collection: {\n      get: makeQueryFn(PalletNftsCollectionRoutesConfig.queries.getCollection),\n      list: makeQueryFn(PalletNftsCollectionRoutesConfig.queries.getCollectionsPaginated),\n      nextId: makeQueryFn(PalletNftsCollectionRoutesConfig.queries.getNextCollectionId),\n      create: makeExtrinsicFn(PalletNftsCollectionRoutesConfig.extrinsics.createCollection),\n      destroy: makeExtrinsicFn(PalletNftsCollectionRoutesConfig.extrinsics.destroyCollection),\n      lock: makeExtrinsicFn(PalletNftsCollectionRoutesConfig.extrinsics.lockNftsCollection),\n      acceptOwnership: makeExtrinsicFn(PalletNftsCollectionRoutesConfig.extrinsics.acceptCollectionOwnership),\n      transferOwnership: makeExtrinsicFn(PalletNftsCollectionRoutesConfig.extrinsics.transferCollectionOwnership),\n      updateMintSettings: makeExtrinsicFn(PalletNftsCollectionRoutesConfig.extrinsics.updateMintSettings),\n      setMaxSupply: makeExtrinsicFn(PalletNftsCollectionRoutesConfig.extrinsics.setMaxSupply),\n      setTeam: makeExtrinsicFn(PalletNftsCollectionRoutesConfig.extrinsics.setCollectionTeam),\n      setMetadata: makeExtrinsicFn(PalletNftsCollectionRoutesConfig.extrinsics.setCollectionMetadata),\n      clearMetadata: makeExtrinsicFn(PalletNftsCollectionRoutesConfig.extrinsics.clearCollectionMetadata),\n      setAttribute: makeExtrinsicFn(PalletNftsCollectionRoutesConfig.extrinsics.setCollectionAttribute),\n      clearAttribute: makeExtrinsicFn(PalletNftsCollectionRoutesConfig.extrinsics.clearCollectionAttribute),\n    },\n    item: {\n      get: makeQueryFn(PalletNftsItemRoutesConfig.queries.getItem),\n      mint: makeExtrinsicFn(PalletNftsItemRoutesConfig.extrinsics.mintItem),\n      burn: makeExtrinsicFn(PalletNftsItemRoutesConfig.extrinsics.burnItem),\n      approveAttributes: makeExtrinsicFn(PalletNftsItemRoutesConfig.extrinsics.approveItemAttributes),\n      approveTransfer: makeExtrinsicFn(PalletNftsItemRoutesConfig.extrinsics.approveItemTransfer),\n      cancelTransferApproval: makeExtrinsicFn(PalletNftsItemRoutesConfig.extrinsics.cancelItemTransferApproval),\n      clearAllTransferApprovals: makeExtrinsicFn(PalletNftsItemRoutesConfig.extrinsics.clearAllTransferApprovals),\n      cancelAttributesApproval: makeExtrinsicFn(PalletNftsItemRoutesConfig.extrinsics.cancelItemAttributesApproval),\n      lockProperties: makeExtrinsicFn(PalletNftsItemRoutesConfig.extrinsics.lockItemProperties),\n      transfer: makeExtrinsicFn(PalletNftsItemRoutesConfig.extrinsics.transferItem),\n      lockTransfer: makeExtrinsicFn(PalletNftsItemRoutesConfig.extrinsics.lockItemTransfer),\n      unlockTransfer: makeExtrinsicFn(PalletNftsItemRoutesConfig.extrinsics.unlockItemTransfer),\n      setMetadata: makeExtrinsicFn(PalletNftsItemRoutesConfig.extrinsics.setItemMetadata),\n      clearMetadata: makeExtrinsicFn(PalletNftsItemRoutesConfig.extrinsics.clearItemMetadata),\n    },\n    attributes: {\n      get: makeQueryFn(PalletNftsAttributesRoutesConfig.queries.getAttribute),\n      getAll: makeQueryFn(PalletNftsAttributesRoutesConfig.queries.getAttributes),\n      set: makeExtrinsicFn(PalletNftsAttributesRoutesConfig.extrinsics.setAttribute),\n      clear: makeExtrinsicFn(PalletNftsAttributesRoutesConfig.extrinsics.clearAttribute),\n    },\n    account: {\n      getCollections: makeQueryFn(PalletNftsAccountRoutesConfig.queries.getAccountCollections),\n      getItems: makeQueryFn(PalletNftsAccountRoutesConfig.queries.getAccountItems),\n      getRole: makeQueryFn(PalletNftsAccountRoutesConfig.queries.getCollectionRole),\n      getOwnershipAcceptance: makeQueryFn(PalletNftsAccountRoutesConfig.queries.getCollectionOwnershipAcceptance),\n      nextIndex: makeQueryFn(SystemRoutesConfig.queries.getAccountNextIndex),\n    },\n    trade: {\n      setPrice: makeExtrinsicFn(PalletNftsTradesRoutesConfig.extrinsics.setPrice),\n      buy: makeExtrinsicFn(PalletNftsTradesRoutesConfig.extrinsics.buyItem),\n    },\n  }\n}\n","import Axios, {AxiosError, AxiosInstance, AxiosResponse} from 'axios'\nimport {z} from 'zod'\nimport qs from 'qs'\n\nimport {ApiError} from './errors.js'\nimport {\n  CompactExtrinsicPayload,\n  ConditionalEncodeParams,\n  ConditionalParams,\n  ExtrinsicFeesPayload,\n  ExtrinsicFn,\n  IAccount,\n  IGetExtrinsicStatusOptions,\n  IGetExtrinsicStatusOutput,\n  SignerPayloadJSON,\n  UNIQUE_CHAIN_PARAMS,\n  UniqueBuildExtrinsicOptions,\n  UnsignedExtrinsicPayload,\n  UnsignedExtrinsicPayloadWithCompactExtrinsic,\n  zUniqueBuildExtrinsicOptions,\n} from './types.js'\n\n// @ts-ignore\nz.ZodType.prototype.openapi = function () {\n  return this\n}\n\nconst DEFAULT_TIMES_TO_RETRY = 15\nconst DEFAULT_TIMEOUT = 3000\n\nconst getStatusOptions = (instanceStatusOptions?: IGetExtrinsicStatusOptions, requestStatusOptions?: IGetExtrinsicStatusOptions) => {\n  const timeout = requestStatusOptions?.timeout || instanceStatusOptions?.timeout\n  const retries = requestStatusOptions?.retries || instanceStatusOptions?.retries\n\n  const TIMEOUT = timeout || DEFAULT_TIMEOUT\n  const TIMES_TO_RETRY = retries || DEFAULT_TIMES_TO_RETRY\n  const IS_FINALIZED = requestStatusOptions?.isFinalized || instanceStatusOptions?.isFinalized\n\n  return {TIMEOUT, TIMES_TO_RETRY, IS_FINALIZED}\n}\n\nconst serializeObjectWithBigInt = (obj: unknown) => {\n  return JSON.parse(\n    JSON.stringify(obj, (key, value) => {\n      if (typeof value === 'bigint') return value.toString()\n      return value\n    }),\n  )\n}\n\nconst getBuildExtrinsic =\n  (client: AxiosInstance, chainParams: UNIQUE_CHAIN_PARAMS) =>\n  async <P>(\n    endpointPart: string,\n    paramsValidator: z.ZodSchema<P>,\n    _params: P,\n    _buildOptions?: UniqueBuildExtrinsicOptions,\n  ): Promise<UnsignedExtrinsicPayloadWithCompactExtrinsic> => {\n    let buildOptions = {} as UniqueBuildExtrinsicOptions\n\n    if (_buildOptions) {\n      const buildOptionsResult = zUniqueBuildExtrinsicOptions.safeParse(_buildOptions)\n      if (!buildOptionsResult.success) {\n        throw buildOptionsResult.error.format()\n      }\n      buildOptions = buildOptionsResult.data\n    }\n\n    buildOptions.signerAddress = buildOptions?.signerAddress || chainParams.account?.address || ''\n    if (!buildOptions.signerAddress) {\n      throw new Error('No signer address provided')\n    }\n\n    const paramsParseResult = await paramsValidator.safeParseAsync(_params)\n    if (!paramsParseResult.success) {\n      throw paramsParseResult.error.format()\n    }\n    const params = paramsParseResult.data\n\n    try {\n      const {data: builtExtrinsic} = (await client.post(endpointPart + '/build', {\n        args: serializeObjectWithBigInt(params),\n        options: buildOptions,\n      })) as AxiosResponse<UnsignedExtrinsicPayloadWithCompactExtrinsic>\n\n      return builtExtrinsic\n    } catch (e: any) {\n      throw new ApiError(e)\n    }\n  }\n\nconst getEncodeExtrinsic =\n  (client: AxiosInstance) =>\n  async <P>(endpointPart: string, paramsValidator: z.ZodSchema<P>, _params: P): Promise<CompactExtrinsicPayload> => {\n    const paramsParseResult = await paramsValidator.safeParseAsync(_params)\n    if (!paramsParseResult.success) {\n      throw paramsParseResult.error.format()\n    }\n    const params = paramsParseResult.data\n\n    try {\n      const {data: encodeExtrinsic} = (await client.post(endpointPart + '/encode', {\n        args: serializeObjectWithBigInt(params),\n      })) as AxiosResponse<CompactExtrinsicPayload>\n\n      return encodeExtrinsic\n    } catch (e: any) {\n      throw new ApiError(e)\n    }\n  }\n\nconst getExtrinsicFee =\n  (client: AxiosInstance, chainParams: UNIQUE_CHAIN_PARAMS) =>\n  async <P>(endpointPart: string, paramsValidator: z.ZodSchema<P>, _params: P, _buildOptions?: UniqueBuildExtrinsicOptions): Promise<ExtrinsicFeesPayload> => {\n    let buildOptions = {} as UniqueBuildExtrinsicOptions\n\n    if (_buildOptions) {\n      const buildOptionsResult = zUniqueBuildExtrinsicOptions.safeParse(_buildOptions)\n      if (!buildOptionsResult.success) {\n        throw buildOptionsResult.error.format()\n      }\n      buildOptions = buildOptionsResult.data\n    }\n\n    buildOptions.signerAddress = buildOptions?.signerAddress || chainParams.account?.address || ''\n    if (!buildOptions.signerAddress) {\n      throw new Error('No signer address provided')\n    }\n\n    const paramsParseResult = await paramsValidator.safeParseAsync(_params)\n    if (!paramsParseResult.success) {\n      throw paramsParseResult.error.format()\n    }\n    const params = paramsParseResult.data\n    try {\n      const {data: extrinsicFees} = (await client.post(endpointPart + '/fee', {\n        args: serializeObjectWithBigInt(params),\n        options: buildOptions,\n      })) as AxiosResponse<ExtrinsicFeesPayload>\n\n      return extrinsicFees\n    } catch (e: any) {\n      throw new ApiError(e)\n    }\n  }\n\nconst getSignExtrinsic =\n  (client: AxiosInstance, chainParams: UNIQUE_CHAIN_PARAMS) =>\n  async (payload: UnsignedExtrinsicPayload, account?: IAccount): Promise<string> => {\n    const signer = account?.signer || chainParams.account?.signer\n\n    if (!signer) throw new Error('No signer provided')\n\n    return (await signer.sign(payload)).signature\n  }\n\nconst getSubmitExtrinsic =\n  (client: AxiosInstance) =>\n  async (extrinsicOrPayload: UnsignedExtrinsicPayload | SignerPayloadJSON, signature: string): Promise<string> => {\n    try {\n      const {data: sentExtrinsic} = (await client.post('/extrinsics/submit', {\n        signerPayloadJSON: 'signerPayloadJSON' in extrinsicOrPayload ? extrinsicOrPayload.signerPayloadJSON : extrinsicOrPayload,\n        signature,\n      })) as AxiosResponse<{hash: string}>\n      return sentExtrinsic.hash\n    } catch (e: any) {\n      throw new ApiError(e)\n    }\n  }\n\nconst getExtrinsicStatusCheck =\n  (client: AxiosInstance, chainParams: UNIQUE_CHAIN_PARAMS) =>\n  async <R>(\n    endpointPart: string,\n    extrinsicHash: string,\n    options?: IGetExtrinsicStatusOptions,\n  ): Promise<{result: R; extrinsicOutput: IGetExtrinsicStatusOutput}> => {\n    let extrinsicStatusResponse: AxiosResponse<{result: R; extrinsic: IGetExtrinsicStatusOutput}> | undefined\n\n    const {TIMEOUT, TIMES_TO_RETRY, IS_FINALIZED} = getStatusOptions(chainParams.statusOptions, options)\n\n    const sleep = (ms: number) => new Promise((resolve) => setTimeout(resolve, ms))\n\n    let counter = 0\n    do {\n      try {\n        let url = endpointPart + '/status/' + extrinsicHash\n        if (IS_FINALIZED) url+= '?isFinalized=true'\n        extrinsicStatusResponse = await client.get(url)\n      } catch (_err) {\n        if (!Axios.isAxiosError(_err)) {\n          throw _err\n        }\n        const err = _err as AxiosError\n\n        // console.error(err.response?.status, err.response?.statusText, err.response?.data)\n        if (err.response?.status === 404) {\n          counter += 1\n          if (counter > TIMES_TO_RETRY) {\n            throw new Error(`Extrinsic not found in ${((TIMES_TO_RETRY * TIMEOUT) / 1000).toFixed(2)}s`)\n          }\n          await sleep(TIMEOUT)\n        } else {\n          throw new ApiError(_err)\n        }\n      }\n    } while (!extrinsicStatusResponse || extrinsicStatusResponse.status !== 200)\n\n    const {data: extrinsicResult} = extrinsicStatusResponse\n\n    return {\n      result: extrinsicResult.result,\n      extrinsicOutput: extrinsicResult.extrinsic,\n    }\n  }\n\nexport const getExtrinsicOperations = (client: AxiosInstance, chainParams: UNIQUE_CHAIN_PARAMS) => {\n  const buildExtrinsic = getBuildExtrinsic(client, chainParams)\n  const encodeExtrinsic = getEncodeExtrinsic(client)\n  const extrinsicFee = getExtrinsicFee(client, chainParams)\n  const signExtrinsic = getSignExtrinsic(client, chainParams)\n  const submitExtrinsic = getSubmitExtrinsic(client)\n  const getExtrinsicStatus = getExtrinsicStatusCheck(client, chainParams)\n\n  const buildAndSubmitExtrinsic = async <P, R>(\n    endpointPart: string,\n    paramsValidator: z.ZodSchema<P>,\n    params: P,\n    buildOptions?: UniqueBuildExtrinsicOptions,\n    account?: IAccount,\n    getStatusOptions?: IGetExtrinsicStatusOptions,\n  ): Promise<{result: R; extrinsicOutput: IGetExtrinsicStatusOutput}> => {\n    const builtExtrinsic = await buildExtrinsic(endpointPart, paramsValidator, params, buildOptions)\n    const signature = await signExtrinsic(builtExtrinsic, account)\n    const extrinsicHash = await submitExtrinsic(builtExtrinsic, signature)\n\n    return getExtrinsicStatus<R>(endpointPart, extrinsicHash, getStatusOptions)\n  }\n\n  const extrinsic = {\n    build: buildExtrinsic,\n    encode: encodeExtrinsic,\n    fee: extrinsicFee,\n    sign: signExtrinsic,\n    submit: submitExtrinsic,\n    getStatus: getExtrinsicStatus,\n    invoke: buildAndSubmitExtrinsic,\n  }\n\n  const makeExtrinsicFn = <P, K, R>(extrinsicSettings: {\n    route: string\n    schemaIn: z.ZodType<any, z.ZodTypeDef, P>\n    encodeSchemaIn: z.ZodType<any, z.ZodTypeDef, K>\n    schemaOut: z.ZodType<R, z.ZodTypeDef, any>\n  }): ExtrinsicFn<P, K, R> => {\n    const {route, schemaIn, schemaOut} = extrinsicSettings\n\n    const fn = async (...args: ConditionalParams<P>) => {\n      const [params, buildOptions, account, options] = args\n      return buildAndSubmitExtrinsic<P, R>(route, schemaIn, params as P, buildOptions, account, options)\n    }\n\n    fn.buildAndSubmit = async (...args: ConditionalParams<P>) => {\n      const [params, buildOptions, account, options] = args\n      return buildAndSubmitExtrinsic<P, R>(route, schemaIn, params as P, buildOptions, account, options)\n    }\n\n    fn.route = route\n    fn.schemaIn = schemaIn\n    fn.schemaOut = schemaOut\n\n    fn.build = async (...args: ConditionalParams<P>) => {\n      const [params, buildOptions] = args\n      return buildExtrinsic(route, schemaIn, params, buildOptions)\n    }\n\n    fn.encode = async (...args: ConditionalEncodeParams<K>) => {\n      const [params] = args\n      return encodeExtrinsic(route, schemaIn, params)\n    }\n\n    fn.fee = async (...args: ConditionalParams<P>) => {\n      const [params, buildOptions] = args\n      return extrinsicFee(route, schemaIn, params, buildOptions)\n    }\n\n    fn.getStatus = getExtrinsicStatus<R>\n\n    fn.sign = signExtrinsic\n    fn.submit = submitExtrinsic\n\n    return fn\n  }\n\n  return {extrinsic, makeExtrinsicFn}\n}\n\nexport const getQueryFn =\n  (client: AxiosInstance) =>\n  <P, R>(settings: {route: string; method?: 'GET' | 'POST'; schemaIn: z.ZodSchema<P>; schemaOut: z.ZodSchema<R>}) => {\n    const {route, schemaIn, schemaOut, method = 'GET'} = settings\n\n    const fn = async (params: P): Promise<R> => {\n      const paramsParseResult = schemaIn.safeParse(params)\n      if (!paramsParseResult.success) throw paramsParseResult.error.format()\n      const parsedParams = paramsParseResult.data\n\n      try {\n        const response = method === 'GET' ? await client.get(route, {params: parsedParams}) : await client.post(route, serializeObjectWithBigInt(parsedParams))\n\n        return response.data\n      } catch (e: any) {\n        throw new ApiError(e)\n      }\n    }\n\n    fn.route = route\n    fn.schemaIn = schemaIn\n    fn.schemaOut = schemaOut\n\n    return fn\n  }\n\nconst createAxiosClient = (chainParams: UNIQUE_CHAIN_PARAMS) =>\n  Axios.create({\n    ...chainParams.axiosConfig,\n    baseURL: chainParams.baseUrl,\n    paramsSerializer: (params) => qs.stringify(params, {arrayFormat: 'repeat'}),\n  })\n\nexport const prepareBase = (options: UNIQUE_CHAIN_PARAMS) => {\n  const client = createAxiosClient(options)\n\n  const makeQueryFn = getQueryFn(client)\n  const {extrinsic, makeExtrinsicFn} = getExtrinsicOperations(client, options)\n\n  return {client, makeQueryFn, extrinsic, makeExtrinsicFn}\n}\n\nexport const zAlternativeBatchArgs = z\n  .array(\n    z.promise(\n      z.object({\n        compactExtrinsic: z.string(),\n      }),\n    ),\n  )\n  .transform(async (promises) => {\n    const calls = await Promise.all(promises.map((call) => call.then((c: any) => c.compactExtrinsic)))\n\n    return {calls}\n  })\n","import {z} from 'zod'\nimport Axios from 'axios'\n\nexport class ApiError<T = any> extends Error {\n  public readonly isApiError = true\n\n  public readonly data: T\n  public readonly zodError: z.ZodError | null\n\n  constructor(axiosError: Error) {\n    if (!Axios.isAxiosError(axiosError) || !axiosError.response) {\n      const isEconnRefused = (axiosError as any)?.code === 'ECONNREFUSED' || axiosError?.message.includes('ECONNREFUSED')\n      if (isEconnRefused) {\n        throw new Error('Connection to the server refused, please check the server URL')\n      }\n      throw new Error(axiosError.message)\n    }\n\n    const resp = axiosError.response\n\n    const message =\n      `Server responded with Error ${resp.status} - ${resp.statusText}: ` + (typeof resp.data === 'string' ? resp.data : JSON.stringify(resp.data))\n\n    super(message)\n    this.data = resp.data\n    this.zodError = resp.data.zodError ? new z.ZodError(resp.data.zodError.issues) : null\n  }\n\n  static isApiError(err: any): err is ApiError {\n    return err.apiErrorFlag\n  }\n}\n","import {z} from 'zod'\nimport {Address} from '@unique-nft/utils/address'\nimport {IUniqueSdkSigner} from '@unique-nft/sr25519'\nimport type {AxiosRequestConfig} from 'axios'\n\n// @ts-ignore\nz.ZodType.prototype.openapi = function () {\n  return this\n}\n\nexport type IGetExtrinsicStatusOptions = {\n  /**\n   * @description Number of retries to get the extrinsic status\n   */\n  retries?: number\n\n  /**\n   * @description Timeout between retries in milliseconds\n   */\n  timeout?: number\n\n  /**\n   * @description Wait for the extrinsic to be included in the finalized block\n   * @default false\n   */\n  isFinalized?: boolean\n}\n\nexport type UNIQUE_CHAIN_PARAMS = {\n  baseUrl: string\n  account?: IAccount\n  axiosConfig?: AxiosRequestConfig\n  statusOptions?: IGetExtrinsicStatusOptions\n}\n\nexport type IAccount = {signer: IUniqueSdkSigner; address: string}\n\n// todo - moved some schemas and types here. They should be moved to validation-schemas package\n// but for now I don't know how to build and bundle it into the thin-client package\n\nexport type HexString = `0x${string}`\n\nexport interface SignerPayloadJSON {\n  /**\n   * @description The ss-58 encoded address\n   */\n  address: string\n  /**\n   * @description The checkpoint hash of the block, in hex\n   */\n  blockHash: HexString\n  /**\n   * @description The checkpoint block number, in hex\n   */\n  blockNumber: HexString\n  /**\n   * @description The era for this transaction, in hex\n   */\n  era: HexString\n  /**\n   * @description The genesis hash of the chain, in hex\n   */\n  genesisHash: HexString\n  /**\n   * @description The encoded method (with arguments) in hex\n   */\n  method: string\n  /**\n   * @description The nonce for this transaction, in hex\n   */\n  nonce: HexString\n  /**\n   * @description The current spec version for the runtime\n   */\n  specVersion: HexString\n  /**\n   * @description The tip for this transaction, in hex\n   */\n  tip: HexString\n  /**\n   * @description The current transaction version for the runtime\n   */\n  transactionVersion: HexString\n  /**\n   * @description The applicable signed extensions for this runtime\n   */\n  signedExtensions: string[]\n  /**\n   * @description The version of the extrinsic we are dealing with\n   */\n  version: number\n}\n\nexport interface SignerPayloadRawBase {\n  /**\n   * @description The hex-encoded data for this request\n   */\n  data: string\n  /**\n   * @description The type of the contained data\n   */\n  type?: 'bytes' | 'payload'\n}\n\nexport interface SignerPayloadRaw extends SignerPayloadRawBase {\n  /**\n   * @description The ss-58 encoded address\n   */\n  address: string\n  /**\n   * @description The type of the contained data\n   */\n  type: 'bytes' | 'payload'\n}\n\nexport interface UnsignedExtrinsicPayload {\n  signerPayloadJSON: SignerPayloadJSON\n  signerPayloadRaw: SignerPayloadRaw\n  signerPayloadHex: string\n}\n\nexport interface CompactExtrinsicPayload {\n  compactExtrinsic: string\n}\n\nexport interface ExtrinsicFeesPayload {\n  baseFee: string\n  lenFee: string\n  adjustedWeightFee: string\n  totalFee: string\n  xcmFee: string\n}\n\nexport interface UnsignedExtrinsicPayloadWithCompactExtrinsic extends UnsignedExtrinsicPayload, CompactExtrinsicPayload {}\n\nexport type IGetExtrinsicStatusOutput = {\n  hash: string\n  signer: string\n  section: string\n  method: string\n  args: Record<string, any>\n  events: Array<{section: string; method: string; data: Record<string, any>}>\n  groupedEvents: Record<string, Record<string, Array<Record<string, any>>>>\n  blockHash: string\n  blockNumber: string\n}\n\nexport const zUniqueBuildExtrinsicOptions = z.object({\n  signerAddress: z.string().refine((address) => Address.is.substrateAddress(address)),\n  nonce: z.number().optional(),\n  mortalLength: z.number().optional(),\n})\n\nexport type UniqueBuildExtrinsicOptions = z.infer<typeof zUniqueBuildExtrinsicOptions>\n\nexport type ConditionalParams<P> = undefined extends P\n  ? [params?: P, buildOptions?: UniqueBuildExtrinsicOptions, account?: IAccount, options?: IGetExtrinsicStatusOptions]\n  : [params: P, buildOptions?: UniqueBuildExtrinsicOptions, account?: IAccount, options?: IGetExtrinsicStatusOptions]\n\nexport type ConditionalEncodeParams<P> = undefined extends P ? [params?: P] : [params: P]\nexport type ExtrinsicFn<P, K, R> = ((...args: ConditionalParams<P>) => Promise<{\n  result: R\n  extrinsicOutput: IGetExtrinsicStatusOutput\n}>) & {\n  route: string\n  schemaIn: z.ZodType<any, z.ZodTypeDef, P>\n  schemaOut: z.ZodType<R, z.ZodTypeDef, any>\n  buildAndSubmit: (...args: ConditionalParams<P>) => Promise<{result: R; extrinsicOutput: IGetExtrinsicStatusOutput}>\n  build: (...args: ConditionalParams<P>) => Promise<UnsignedExtrinsicPayloadWithCompactExtrinsic>\n  encode: (...args: ConditionalEncodeParams<K>) => Promise<CompactExtrinsicPayload>\n  fee: (...args: ConditionalParams<P>) => Promise<ExtrinsicFeesPayload>\n  getStatus: (\n    endpointPart: string,\n    extrinsicHash: string,\n    options?: IGetExtrinsicStatusOptions,\n  ) => Promise<{result: R; extrinsicOutput: IGetExtrinsicStatusOutput}>\n  sign: (payload: UnsignedExtrinsicPayload, account?: IAccount) => Promise<string>\n  submit: (payload: UnsignedExtrinsicPayload, signature: string) => Promise<string>\n}\n","import { z } from 'zod';\nimport 'zod-openapi/extend';\nimport { coinToWei } from 'coin-format';\nimport { Address } from '@unique-nft/utils/address';\nimport * as ReusableQueries from 'reusable-queries';\nimport { zAddressString } from 'validation-schemas';\nimport { ExtrinsicEndpointsConfig, QueryEndpointConfig, SectionRoutesConfig } from './_types';\nimport { BalancesEvents } from '../schemas/events';\nimport { zAtBlockHash, zVestedItem } from '../schemas/common';\n\nconst transferBalances = new ExtrinsicEndpointsConfig({\n  route: '/balances/transfer',\n\n\n\n  schemaIn: z.object({\n    to: zAddressString,\n    amount: z.coerce.string().openapi({ description: 'The amount of the transfer in coins or wei (default)', example: '150000' }),\n    isAmountInCoins: z.boolean().optional().openapi({\n      description: 'If true, the value is in coins, otherwise in wei. Default is false',\n      example: false\n    })\n  }),\n\n\n\n\n\n\n\n\n  schemaOut: BalancesEvents.Transfer.schema\n\n});\n\nconst getBalances = new QueryEndpointConfig({\n  route: '/balances/get',\n\n\n  schemaIn: z.\n  object({\n    address: zAddressString\n  }).\n  merge(zAtBlockHash),\n\n  schemaOut: z.object({\n    available: z.string().openapi({\n      description: 'The amount of the available balance in coins',\n      example: '1.5'\n    }),\n    locked: z.string().openapi({ description: 'The amount of the locked balance in wei', example: '1000000000' }),\n    free: z.string().openapi({ description: 'The amount of the free balance in wei', example: '1000000000' }),\n    total: z.string().openapi({ description: 'The amount of the total balance in wei', example: '1000000000' }),\n    reserved: z.string().openapi({ description: 'The amount of the reserved balance in wei', example: '1000000000' }),\n    staked: z.string().openapi({ description: 'The amount of the staked balance in wei', example: '1000000000' }),\n    unstaked: z.string().openapi({ description: 'The amount of the unstaked balance in wei', example: '1000000000' }),\n    canstake: z.string().openapi({ description: 'The amount of the canstake balance in wei', example: '1000000000' }),\n    vested: z.\n    array(zVestedItem).\n    optional().\n    openapi({\n      description: 'The list of the vested balances',\n      example: [{ start: '123456', period: '1', periodCount: '1', perPeriod: '1000000000' }]\n    }),\n    decimals: z.number().openapi({ description: 'The number of decimals of the token', example: 18 }),\n    tokenSymbol: z.string().openapi({ description: 'The token symbol', example: 'UNQ' })\n  })\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nexport const BalancesRoutesConfig = {\n  extrinsics: {\n    transferBalances\n  },\n  queries: {\n    getBalances\n  }\n} satisfies SectionRoutesConfig;","import {z} from 'zod'\nimport 'zod-openapi/extend'\n\nimport {zSignerPayloadHex, zSignerPayloadJSON, zSignerPayloadRaw, zSubstrateAddress} from './shared'\n\n// todo - duplicate with schema from substrate-http-proxy/src/schemas/common.ts\nexport const zQueryBoolean = z\n  .union([z.string(), z.boolean(), z.number()])\n  .transform((val) => {\n    if (typeof val === 'string') return val.toLowerCase() === 'true'\n    if (typeof val === 'boolean') return val\n\n    return val !== 0\n  })\n  .openapi({description: 'Boolean query parameter', type: 'boolean'})\n\nconst zArgsArray = z.array(z.any()).openapi({\n  description: 'The arguments to pass to the method',\n  example: ['5GEuzsNk8HkjSDJi1EK91omheS476JAW2PhqrZJSiBrEVeLL', 777],\n})\n\nconst zArgsObject = z\n  .object({})\n  .catchall(z.any())\n  .openapi({\n    description: 'The arguments to pass to the method',\n    example: {\n      to: '5GEuzsNk8HkjSDJi1EK91omheS476JAW2PhqrZJSiBrEVeLL',\n      value: 777,\n    },\n  })\n\nexport const zBuildExtrinsic = z.object({\n  signerAddress: zSubstrateAddress,\n  section: z.string().openapi({\n    description: 'The section of the method to call',\n    example: 'balances',\n  }),\n  method: z.string().openapi({\n    description: 'The method to call',\n    example: 'transferKeepAlive',\n  }),\n  args: z.union([zArgsArray, zArgsObject]),\n  mortalLength: z.number().optional(),\n  nonce: z.number().optional(),\n})\n\nexport type BuildExtrinsic = z.infer<typeof zBuildExtrinsic>\n\nexport const zEncodeExtrinsic = zBuildExtrinsic.omit({\n  signerAddress: true,\n  mortalLength: true,\n  nonce: true,\n})\n\nexport type EncodeMethodParams = Pick<BuildExtrinsic, 'section' | 'method' | 'args'>\n\nexport type EncodeExtrinsic = z.infer<typeof zEncodeExtrinsic>\n\nexport const zCompactExtrinsic = z.object({\n  compactExtrinsic: z.string().openapi({\n    description: 'The encoded compact extrinsic, same as call, but with version and length',\n    example: '0x1e03008ea22863f6d84b1f76e4377c1ba1f6c8bd75b0d3bb5d11c36c0436bdd3110867e5c0',\n  }),\n})\n\nexport const zSignerPayload = z.object({\n  signerPayloadJSON: zSignerPayloadJSON,\n  signerPayloadRaw: zSignerPayloadRaw,\n  signerPayloadHex: zSignerPayloadHex,\n})\n\nexport const zSignerPayloadWithCompactExtrinsic = zSignerPayload.extend({\n  compactExtrinsic: z.string().openapi({\n    description: 'The encoded compact extrinsic, same as call, but with version and length',\n    example: '0x1e03008ea22863f6d84b1f76e4377c1ba1f6c8bd75b0d3bb5d11c36c0436bdd3110867e5c0',\n  }),\n})\n\nexport type SignerPayload = z.infer<typeof zSignerPayload>\n\nconst zSubmitExtrinsic = z.object({\n  signerPayloadJSON: zSignerPayloadJSON,\n  signature: z.string(),\n})\n\nconst zSubmittedExtrinsic = z.object({\n  hash: z.string(),\n})\n\nexport const buildExtrinsic = {\n  input: zBuildExtrinsic,\n  output: zSignerPayload,\n}\n\nexport const encodeExtrinsic = {\n  input: zEncodeExtrinsic,\n  output: zCompactExtrinsic,\n}\n\nexport const submitExtrinsic = {\n  input: zSubmitExtrinsic,\n  output: zSubmittedExtrinsic,\n}\n\nconst zExtrinsicStatus = z\n  .object({\n    hash: z.string(),\n    signer: zSubstrateAddress,\n    section: z.string(),\n    method: z.string(),\n    args: z.object({}).catchall(z.any()),\n    events: z.array(\n      z.object({\n        section: z.string(),\n        method: z.string(),\n        data: z.object({}).catchall(z.any()),\n      }),\n    ),\n    groupedEvents: z.object({}).catchall(z.object({}).catchall(z.array(z.object({}).catchall(z.any())))),\n    blockHash: z.string(),\n    blockNumber: z.coerce.string(),\n  })\n  .openapi({\n    description: 'The status of the extrinsic',\n    example: {\n      hash: '0xe888db18399714543558de271b1e67c68caad3f2778a9cb45cf03cd72a62735c',\n      blockHash: '0xef7d8c3d68fb2f4e551b6d4dac534bf80f78b9137729e4442cc9d72d9798469e',\n      blockNumber: '1111969',\n      signer: '5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY',\n      section: 'balances',\n      method: 'transferKeepAlive',\n      args: {\n        to: '5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY',\n        amount: '1500000000000000000',\n      },\n      events: [\n        {\n          section: 'balances',\n          method: 'Withdraw',\n          data: {\n            who: '5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY',\n            amount: '59280745607318347',\n          },\n        },\n        '...' as any,\n      ],\n      groupedEvents: {\n        balances: {\n          Withdraw: [\n            {\n              who: '5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY',\n              amount: '59280745607318347',\n            },\n            '...' as any,\n          ],\n        },\n      },\n    },\n  })\n\nexport type ExtrinsicStatus = z.infer<typeof zExtrinsicStatus>\n\nexport const getExtrinsicStatus = {\n  input: z.object({\n    hash: z.string(),\n    isFinalized: zQueryBoolean.optional(),\n  }),\n  output: {\n    ok: zExtrinsicStatus,\n    notFound: z.object({\n      error: z.string(),\n    }),\n  },\n}\n\nexport const zExtrinsicFee = zBuildExtrinsic\n\nexport const zExtrinsicFeeOutput = z.object({\n  baseFee: z.coerce.string(),\n  lenFee: z.coerce.string(),\n  adjustedWeightFee: z.coerce.string(),\n  totalFee: z.coerce.string(),\n  xcmFee: z.coerce.string(),\n})\n\n////////////////////////////////////\n// stuff\n////////////////////////////////////\n\nexport const zErrors = {\n  notFound: z.object({error: z.string()}),\n  generic: z.object({\n    error: z.string(),\n    details: z.any().optional(),\n    httpPart: z.string().optional(),\n  }),\n}\n\nexport const zExtrinsicApi = {\n  buildInput: zBuildExtrinsic,\n  buildOutput: zSignerPayloadWithCompactExtrinsic,\n  encodeInput: zEncodeExtrinsic,\n  encodeOutput: zCompactExtrinsic,\n  extrinsicFeeInput: zExtrinsicFee,\n  extrinsicFeeOutput: zExtrinsicFeeOutput,\n  submitInput: zSubmitExtrinsic,\n  submitOutput: z.object({hash: z.string()}),\n  getStatusInput: z.object({hash: z.string()}), // todo - duplicate with getExtrinsicStatus.input\n  getStatusOutput: zExtrinsicStatus,\n}\n\nexport type IGetExtrinsicStatusInput = z.infer<typeof zExtrinsicApi.getStatusInput>\nexport type IGetExtrinsicStatusOutput = z.infer<typeof zExtrinsicApi.getStatusOutput>\n\nexport const zExtrinsicHash = z\n  .string()\n  .trim()\n  .toLowerCase()\n  .regex(/^0x[0-9a-f]{64}$/)\n  .openapi({\n    description: 'The hash of the extrinsic',\n    example: '0x96affcbd6740d3d94b90996aee65b8a3075512c0e8bbedb92e79df0f5d2cad5f',\n  })\n\nexport type IExtrinsicHash = z.infer<typeof zExtrinsicHash>\n","import {z} from 'zod'\nimport {Address} from '@unique-nft/utils/address'\nimport 'zod-openapi/extend'\n\nexport const zSubstrateAddress = z\n  .string()\n  .refine((address) => Address.is.substrateAddress(address))\n  .openapi({\n    description: 'Substrate address',\n    example: '5DvpvbetLdgBfbb4S5sZ1CCGDWeLDhLmX5WXHd73LjsB2E2v',\n  })\n\nexport const zEthereumAddress = z\n  .string()\n  .refine((address) => Address.is.ethereumAddress(address))\n  .openapi({\n    description: 'Ethereum address',\n    example: '0x52764bbc320189511E826A0a9b4763F104FfC3B0',\n  })\n\nexport const zAddressString = z\n  .string()\n  .refine((address) => {\n    return Address.is.validAddressInAnyForm(address)\n  })\n  .openapi({\n    description: 'Any Address: Ethereum address or Substrate address or Substrate public key',\n    example: '5DvpvbetLdgBfbb4S5sZ1CCGDWeLDhLmX5WXHd73LjsB2E2v',\n    minLength: 42,\n    maxLength: 66,\n  })\n\nexport const zWeiString = z.string().openapi({\n  description: 'The amount in wei',\n  example: '1500000000000000000',\n})\nexport const zCoinsString = z.string().openapi({\n  description: 'The amount in coins',\n  example: '1.5',\n})\n\nexport const zExtrinsicEraEncoded = z.string().openapi({\n  description: 'The era for this transaction, in hex',\n  example: '0x9503',\n})\n\nexport const zExtrinsicMethodEncoded = z.string().openapi({\n  description: 'The method for this transaction, in hex',\n  example: '0x1e03008ea22863f6d84b1f76e4377c1ba1f6c8bd75b0d3bb5d11c36c0436bdd3110867e5c0',\n})\n\nexport const zSignerPayloadJSON = z.object({\n  address: zSubstrateAddress.openapi({\n    description: 'The address of the signer',\n    example: '5DvpvbetLdgBfbb4S5sZ1CCGDWeLDhLmX5WXHd73LjsB2E2v',\n  }),\n  blockNumber: z.string().openapi({\n    description: 'The block number of the chain',\n    example: '0x000c9c52',\n  }),\n  era: zExtrinsicEraEncoded,\n  method: zExtrinsicMethodEncoded,\n  nonce: z.string().openapi({\n    description: 'The nonce for this transaction, in hex',\n    example: '0x00000000',\n  }),\n  version: z.number(),\n  blockHash: z.string().openapi({\n    description: 'The block hash of the chain',\n    example: '0xabb0ec38ebeaeae36dbad82cfb33a8e16b7d18a5f937543d5d80d845ef450329',\n  }),\n  genesisHash: z.string().openapi({\n    description: 'The genesis hash of the chain',\n    example: '0x49cc5821aa055c3ee9357fe109219230e9ee98792c2e26a0f416233f80a2b5d7',\n  }),\n  specVersion: z.string().openapi({\n    description: 'The current spec version for the runtime',\n    example: '0x00990bf6',\n  }),\n  tip: z.string().openapi({\n    description: 'The tip for this transaction, in hex',\n    example: '0x00000000000000000000000000000000',\n  }),\n  transactionVersion: z.string().openapi({\n    description: 'The current transaction version for the runtime',\n    example: '0x00000003',\n  }),\n  signedExtensions: z.array(z.string()).openapi({\n    description: 'The applicable signed extensions for this runtime',\n    example: ['CheckSpecVersion', 'CheckTxVersion', 'CheckGenesis'],\n  }),\n})\n\nexport type SignerPayloadJSON = z.infer<typeof zSignerPayloadJSON>\n\nexport const zSignerPayloadRaw = z.object({\n  address: zSubstrateAddress.openapi({\n    description: 'The address of the signer',\n  }),\n  data: z.string().openapi({\n    description: 'The raw data of the signer payload, in hex',\n  }),\n  type: z.string(),\n})\n\n// todo - write about difference between signerPayloadHex and signerPayloadRaw\nexport const zSignerPayloadHex = z.string().openapi({\n  description: 'The signer payload, in hex',\n})\n\nexport const zUniqueBuildExtrinsicOptions = z.object({\n  signerAddress: zSubstrateAddress,\n  nonce: z.number().optional(),\n  mortalLength: z.number().optional(),\n})\nexport type UniqueBuildExtrinsicOptions = z.infer<typeof zUniqueBuildExtrinsicOptions>\n","function toHexString(uint8Array: Uint8Array): string {\n  return (\n    '0x' +\n    Array.from(uint8Array)\n      .map((b) => b.toString(16).padStart(2, '0'))\n      .join('')\n  )\n}\n\nconst MAX_SAFE_INTEGER = BigInt(Number.MAX_SAFE_INTEGER)\n\nfunction replacer(_: string, value: any): any {\n  if (typeof value === 'bigint') {\n    return MAX_SAFE_INTEGER >= value ? Number(value) : value.toString() + 'n'\n  }\n\n  if (value instanceof Uint8Array) return toHexString(value)\n\n  return value\n}\n\nfunction reviver(_: string, value: any): any {\n  if (typeof value === 'string' && /^\\d+n$/.test(value)) {\n    return BigInt(value.slice(0, -1)) // \"123n\" -> bigint\n  }\n\n  if (typeof value === 'number' && Number.isInteger(value)) {\n    return BigInt(value)\n  }\n\n  return value\n}\n\nexport function jsonStringifyXCM(original: unknown) {\n  return JSON.stringify(original, replacer)\n}\n\nexport function jsonParseXCM<T>(json: string, sanitize?: (value: T) => void) {\n  const parsed = JSON.parse(json, reviver) as T\n\n  if (sanitize) sanitize(parsed)\n\n  return parsed\n}\n\nexport function parseXCM<T>(value: unknown, sanitize?: (value: T) => void) {\n  if (typeof value === 'string') {\n    return jsonParseXCM(value, sanitize) as T\n  }\n\n  return jsonParseXCM(jsonStringifyXCM(value), sanitize) as T\n}\n\nexport function parseNetworkId<N>(envVar: string | undefined): N | null {\n  if (!envVar) return null\n\n  try {\n    if (envVar.startsWith('{')) {\n      const parsed = JSON.parse(envVar)\n      if ('byGenesis' in parsed || 'byFork' in parsed || 'ethereum' in parsed) {\n        return parsed as N\n      }\n    }\n\n    const validSimpleIds = ['polkadot', 'kusama', 'bitcoinCore', 'bitcoinCash', 'polkadotBulletin']\n    if (validSimpleIds.includes(envVar)) return envVar as N\n  } catch (e) {\n    console.error('Invalid NETWORK_ID:', envVar, e)\n  }\n\n  return null\n}\n","import {type ZodType, type output, type input} from 'zod'\nimport type {ParsedExtrinsic} from 'blocks-storage'\nimport type {FastifyInstance} from 'fastify'\nimport type {SubstrateClient} from 'substrate-client'\n\nexport type BuildArgsFormatterParams = {signerAddress: string}\n\nexport type BuildArgsFormatter<SchemaIn, FormattedArgs = any> = (\n  args: SchemaIn,\n  params: BuildArgsFormatterParams,\n  substrateClient: SubstrateClient,\n) => FormattedArgs | Promise<FormattedArgs>\n\nexport type EncodeArgsFormatter<SchemaIn, FormattedArgs = any> = (args: SchemaIn, substrateClient: SubstrateClient) => FormattedArgs | Promise<FormattedArgs>\n\ntype RouteType = 'build' | 'encode' | 'status' | 'fee' | 'unknown'\n\nexport class ExtrinsicEndpointsConfig<\n  SchemaIn extends ZodType,\n  SchemaOut extends ZodType,\n  EncodeSchemaIn extends ZodType = SchemaIn,\n  A = any,\n  OptionsSchema extends ZodType = ZodType<any>,\n> {\n  public route: string\n  public tags: string[]\n  public description?: string\n  public extrinsicSection: string\n  public extrinsicMethod: string\n  public schemaIn: SchemaIn\n  public encodeSchemaIn: EncodeSchemaIn\n  public buildArgsFormatter: BuildArgsFormatter<output<SchemaIn>, A>\n  public encodeArgsFormatter: EncodeArgsFormatter<output<SchemaIn>, A>\n  public schemaOut: SchemaOut\n  public resultFormatter: (extrinsic: ParsedExtrinsic, fastify: FastifyInstance) => Promise<input<SchemaOut>>\n  public routeType: RouteType = 'unknown'\n  constructor(config: {\n    route: string\n    extrinsicSection: string\n    extrinsicMethod: string\n    tags: string[]\n    description?: string\n    schemaIn: SchemaIn\n    buildArgsFormatter: BuildArgsFormatter<output<SchemaIn>, A>\n    encodeArgsFormatter?: EncodeArgsFormatter<output<SchemaIn>, A>\n    schemaOut: SchemaOut\n    resultFormatter: (extrinsic: ParsedExtrinsic, fastify: FastifyInstance) => Promise<input<SchemaOut>>\n    encodeSchemaIn?: EncodeSchemaIn\n    routeType?: RouteType\n  }) {\n    this.route = config.route\n    this.tags = config.tags\n    this.description = config.description\n    this.extrinsicSection = config.extrinsicSection\n    this.extrinsicMethod = config.extrinsicMethod\n    this.schemaIn = config.schemaIn\n    this.buildArgsFormatter = config.buildArgsFormatter\n\n    this.encodeSchemaIn = (config.encodeSchemaIn ?? config.schemaIn) as EncodeSchemaIn\n\n    this.encodeArgsFormatter =\n      config.encodeArgsFormatter ??\n      async function (args, client) {\n        return config.buildArgsFormatter(args, {signerAddress: ''}, client)\n      }\n    this.schemaOut = config.schemaOut\n    this.resultFormatter = config.resultFormatter\n    this.routeType = config.routeType || this.routeType\n  }\n}\n\nexport type QueryHttpMethod = 'GET' | 'POST'\n\nexport class QueryEndpointConfig<SchemaIn extends ZodType, SchemaOut extends ZodType> {\n  public route: string\n  public method: QueryHttpMethod\n  public tags: string[]\n  public description?: string\n  public schemaIn: SchemaIn\n  public schemaOut: SchemaOut\n  public queryHandler: (fastify: FastifyInstance, query: output<SchemaIn>) => Promise<input<SchemaOut>>\n\n  constructor(config: {\n    route: string\n    tags: string[]\n    description?: string\n    schemaIn: SchemaIn\n    schemaOut: SchemaOut\n    queryHandler: (fastify: FastifyInstance, query: output<SchemaIn>) => Promise<input<SchemaOut>>\n    method?: QueryHttpMethod\n  }) {\n    this.route = config.route\n    this.tags = config.tags\n    this.description = config.description\n    this.schemaIn = config.schemaIn\n    this.schemaOut = config.schemaOut\n    this.queryHandler = config.queryHandler\n    this.method = config.method || 'GET'\n  }\n}\n\nexport type SectionRoutesConfig = {\n  extrinsics: Record<string, ExtrinsicEndpointsConfig<any, any, any>>\n  queries: Record<string, QueryEndpointConfig<any, any>>\n}\n","import type {ParsedExtrinsic} from 'blocks-storage/types'\nimport {z} from 'zod'\nimport {Address} from '@unique-nft/utils/address'\nimport {weiToCoin} from 'coin-format'\nimport {ApiError, EventNotFoundInExtrinsicError, ExtrinsicFailedError} from './errors'\n\nimport {zSubstrateAddress} from 'validation-schemas'\nimport {FastifyInstance} from 'fastify'\nimport {SubstrateClient} from 'substrate-client'\nimport {DispatchErrorModuleU8a} from '@polkadot/types/interfaces/system/types'\n\n// todo - this looks a bit messy and unclear, maybe it's better to move it to the substrate-client\nconst tryParseDispatchError = (extrinsic: ParsedExtrinsic, dispatchError: string, substrateClient: SubstrateClient): Error | null => {\n  try {\n    const {module} = JSON.parse(dispatchError)\n\n    if (!module) return null\n\n    const dispatchErrorModule: DispatchErrorModuleU8a = substrateClient.registry.createType('DispatchErrorModuleU8a', module)\n    const registryError = substrateClient.registry.findMetaError(dispatchErrorModule)\n\n    const {args, docs, name, section} = registryError\n\n    const message = docs.join(' ') || 'Extrinsic failed with unknown error'\n    const details = {\n      section,\n      name,\n      args,\n      docs,\n      extrinsicHash: extrinsic.hash,\n      blockNumber: extrinsic.blockNumber.toString(),\n      blockHash: extrinsic.blockHash,\n      extrinsicIndex: extrinsic.indexInBlock,\n    }\n\n    return new ApiError(message, 400, details)\n  } catch (e) {\n    console.error(e)\n    return null\n  }\n}\n\nexport const genericExtrinsicSuccessProcessor = (extrinsic: ParsedExtrinsic, substrateClient?: SubstrateClient) => {\n  if (extrinsic.groupedEvents.system?.ExtrinsicSuccess) return\n\n  const failedEvent = extrinsic.groupedEvents.system?.ExtrinsicFailed\n\n  if (failedEvent) {\n    const dispatchError = (failedEvent?.[0]?.dispatch_error as string) || 'Extrinsic failed with unknown error'\n\n    if (substrateClient) {\n      const parsedError = tryParseDispatchError(extrinsic, dispatchError, substrateClient)\n      if (parsedError) throw parsedError\n    }\n\n    throw new ExtrinsicFailedError(extrinsic, dispatchError)\n  } else {\n    throw new EventNotFoundInExtrinsicError(extrinsic, 'system.ExtrinsicSuccess or system.ExtrinsicFailed')\n  }\n}\n\nexport const zEventBalancesTransfer = z.object({\n  from: zSubstrateAddress,\n  to: zSubstrateAddress,\n  amountInCoin: z.string().openapi({\n    description: 'The amount of the transfer in coins',\n    example: '1.5',\n  }),\n  amount: z.string().openapi({\n    description: 'The amount of the transfer in wei',\n    example: '1500000000000000000',\n  }),\n})\n\nexport const zTransferApprovedEvent = z.object({\n  collectionId: z.number().openapi({description: 'The ID of the collection'}),\n  tokenId: z.number().openapi({description: 'The ID of the token'}),\n  spender: z.string().openapi({description: 'The spender of the token'}),\n  amount: z.number().openapi({description: 'The approved amount of the token'}),\n})\n\nexport const BalancesEvents = {\n  Transfer: {\n    schema: zEventBalancesTransfer,\n    parseExtrinsic: async (extrinsic: ParsedExtrinsic, fastify: FastifyInstance): Promise<z.infer<typeof zEventBalancesTransfer>> => {\n      genericExtrinsicSuccessProcessor(extrinsic)\n\n      const transferEvent = extrinsic.groupedEvents.balances?.Transfer?.[0]\n      if (!transferEvent) throw new EventNotFoundInExtrinsicError(extrinsic, 'balances.Transfer')\n\n      const {tokenDecimals} = fastify.substrateClient.systemProperties\n\n      // todo - look like hardly supportable, 'cause in general case chain_eventSchema and result_schema are different entities\n      const {from, to, amount} = zEventBalancesTransfer.omit({amountInCoin: true}).parse(transferEvent)\n\n      return {\n        from: Address.extract.addressNormalized(from),\n        to: Address.extract.addressNormalized(to),\n        amountInCoin: weiToCoin(amount, tokenDecimals),\n        amount: amount,\n      }\n    },\n  },\n}\n\nexport const zCollectionEventParsed = z.object({\n  collectionId: z.number().openapi({description: 'The ID of the created collection'}),\n})\n\nconst factoryParseCollectionEventArg0CollectionId =\n  (eventName: string) =>\n  async (extrinsic: ParsedExtrinsic): Promise<z.infer<typeof zCollectionEventParsed>> => {\n    genericExtrinsicSuccessProcessor(extrinsic)\n    const event = extrinsic.groupedEvents?.common?.[eventName]\n    if (!event) throw new EventNotFoundInExtrinsicError(extrinsic, `common.${eventName}`)\n\n    const collectionIdStr = event[0]?.['0'] as string\n    if (!collectionIdStr) throw new EventNotFoundInExtrinsicError(extrinsic, `common.${eventName}[0].0 - cant parse event`)\n\n    const collectionId = parseInt(collectionIdStr, 10)\n    if (isNaN(collectionId)) throw new EventNotFoundInExtrinsicError(extrinsic, `common.${eventName}[0].0 - cant parse event`)\n\n    return {\n      collectionId,\n    }\n  }\n\nexport const CollectionEvents = {\n  CollectionCreated: {\n    schema: zCollectionEventParsed,\n    parseExtrinsic: factoryParseCollectionEventArg0CollectionId('CollectionCreated'),\n  },\n  CollectionPropertySet: {\n    schema: zCollectionEventParsed,\n    parseExtrinsic: factoryParseCollectionEventArg0CollectionId('CollectionPropertySet'),\n  },\n  CollectionPropertyDeleted: {\n    schema: zCollectionEventParsed,\n    parseExtrinsic: factoryParseCollectionEventArg0CollectionId('CollectionPropertyDeleted'),\n  },\n  CollectionLimitsSet: {\n    schema: zCollectionEventParsed,\n    parseExtrinsic: factoryParseCollectionEventArg0CollectionId('CollectionLimitSet'),\n  },\n  CollectionSponsorSet: {\n    schema: zCollectionEventParsed,\n    parseExtrinsic: factoryParseCollectionEventArg0CollectionId('CollectionSponsorSet'),\n  },\n  SponsorshipConfirmed: {\n    schema: zCollectionEventParsed,\n    parseExtrinsic: factoryParseCollectionEventArg0CollectionId('SponsorshipConfirmed'),\n  },\n  CollectionOwnerChanged: {\n    schema: zCollectionEventParsed,\n    parseExtrinsic: factoryParseCollectionEventArg0CollectionId('CollectionOwnerChanged'),\n  },\n  CollectionAdminAdded: {\n    schema: zCollectionEventParsed,\n    parseExtrinsic: factoryParseCollectionEventArg0CollectionId('CollectionAdminAdded'),\n  },\n  CollectionAdminRemoved: {\n    schema: zCollectionEventParsed,\n    parseExtrinsic: factoryParseCollectionEventArg0CollectionId('CollectionAdminRemoved'),\n  },\n  CollectionDestroyed: {\n    schema: zCollectionEventParsed,\n    parseExtrinsic: factoryParseCollectionEventArg0CollectionId('CollectionDestroyed'),\n  },\n  PropertyPermissionSet: {\n    schema: zCollectionEventParsed,\n    parseExtrinsic: factoryParseCollectionEventArg0CollectionId('PropertyPermissionSet'),\n  }\n}\n\nexport const zItemCreatedEvent = z.object({\n  collectionId: z.number().openapi({description: 'The ID of the created collection'}),\n  tokens: z.array(\n    z.object({\n      tokenId: z.number().openapi({description: 'The ID of the created token'}),\n      amount: z.number().openapi({description: `The amount of the created token (for NFTs it's always 1)`}),\n      owner: z.string().openapi({description: 'The owner of the token'}),\n    }),\n  ),\n})\n\nexport const zFungibleItemCreatedEvent = z.object({\n  collectionId: z.number().openapi({description: 'The ID of the created collection'}),\n  recipient: z.string().openapi({description: 'The owner of the token'}),\n  amount: z.number().openapi({description: `The amount of the created token (for NFTs it's always 1)`}),\n})\n\nexport const zItemTransferredEvent = z.object({\n  collectionId: z.number().openapi({description: 'The ID of the collection'}),\n  tokens: z.array(\n    z.object({\n      tokenId: z.number().openapi({description: 'The ID of the token'}),\n      amount: z.number().openapi({description: `The amount of the token (for NFTs it's always 1)`}),\n      from: z.string().openapi({description: 'The previous owner of the token'}),\n      to: z.string().openapi({description: 'The new owner of the token'}),\n    }),\n  ),\n})\n\nexport const zFungibleItemsTransferredEvent = z.object({\n  collectionId: z.number().openapi({description: 'The ID of the collection'}),\n  from: z.string().openapi({description: 'The previous owner of the token'}),\n  to: z.string().openapi({description: 'The new owner of the token'}),\n  amount: z.number().openapi({description: `The amount of the token (for NFTs it's always 1)`}),\n})\n\nexport const zItemDestroyedEvent = zItemCreatedEvent\n\nexport const zItemPropertiesSetEvent = z.object({\n  collectionId: z.number().openapi({description: 'The ID of the collection'}),\n  tokenId: z.number().openapi({description: 'The ID of the token'}),\n  keys: z.array(z.string()).openapi({description: 'The keys of the properties'}),\n})\n\nexport const zFungibleItemsDestroyedEvent = z.object({\n  collectionId: z.number().openapi({description: 'The ID of the collection'}),\n  amount: z.coerce.string().openapi({description: `The amount of the token (for NFTs it's always 1)`}),\n  from: z.string().openapi({description: 'The previous owner of the token'}),\n})\n\nexport const TokenEvents = {\n  ItemCreated: {\n    schema: zItemCreatedEvent,\n    parseExtrinsic: async (extrinsic: ParsedExtrinsic): Promise<z.infer<typeof zItemCreatedEvent>> => {\n      genericExtrinsicSuccessProcessor(extrinsic)\n\n      const events = extrinsic.groupedEvents?.common?.ItemCreated as Array<Record<string, string>>\n      if (!Array.isArray(events) || !events.length) {\n        throw new EventNotFoundInExtrinsicError(extrinsic, 'common.ItemCreated')\n      }\n\n      const collectionId = parseInt(events[0]['0'], 10)\n\n      const tokens = events.map((event) => {\n        const tokenId = parseInt(event['1'], 10)\n        const owner = Address.extract.address(JSON.parse(event['2']))\n        const amount = parseInt(event['3'], 10)\n\n        return {tokenId, owner, amount}\n      })\n\n      return {\n        collectionId,\n        tokens,\n      }\n    },\n  },\n  FungibleItemsCreated: {\n    schema: zItemCreatedEvent,\n    parseExtrinsic: async (extrinsic: ParsedExtrinsic): Promise<z.infer<typeof zFungibleItemCreatedEvent>> => {\n      genericExtrinsicSuccessProcessor(extrinsic)\n\n      const events = extrinsic.groupedEvents?.common?.ItemCreated as Array<Record<string, string>>\n      if (!Array.isArray(events) || !events.length) {\n        throw new EventNotFoundInExtrinsicError(extrinsic, 'common.ItemCreated')\n      }\n\n      const {['0']: collectionId, ['2']: owner, ['3']: amount} = events[0]\n\n      return {\n        collectionId: parseInt(collectionId, 10),\n        recipient: Address.extract.address(JSON.parse(owner)),\n        amount: parseInt(amount, 10),\n      }\n    },\n  },\n  ItemTransferred: {\n    schema: zItemTransferredEvent,\n    parseExtrinsic: async (extrinsic: ParsedExtrinsic): Promise<z.infer<typeof zItemTransferredEvent>> => {\n      genericExtrinsicSuccessProcessor(extrinsic)\n\n      const events = extrinsic.groupedEvents?.common?.Transfer as Array<Record<string, string>>\n      if (!Array.isArray(events) || !events.length) {\n        throw new EventNotFoundInExtrinsicError(extrinsic, 'common.Transfer')\n      }\n\n      const collectionId = parseInt(events[0]['0'], 10)\n\n      const tokens = events.map((event) => {\n        const tokenId = parseInt(event['1'], 10)\n        const from = Address.extract.address(JSON.parse(event['2']))\n        const to = Address.extract.address(JSON.parse(event['3']))\n        const amount = parseInt(event['4'], 10)\n\n        return {tokenId, from, to, amount}\n      })\n\n      return {\n        collectionId,\n        tokens,\n      }\n    },\n  },\n  FungibleItemsTransferred: {\n    schema: zItemTransferredEvent,\n    parseExtrinsic: async (extrinsic: ParsedExtrinsic): Promise<z.infer<typeof zFungibleItemsTransferredEvent>> => {\n      genericExtrinsicSuccessProcessor(extrinsic)\n\n      const events = extrinsic.groupedEvents?.common?.Transfer as Array<Record<string, string>>\n      if (!Array.isArray(events) || !events.length) {\n        throw new EventNotFoundInExtrinsicError(extrinsic, 'common.Transfer')\n      }\n\n      const {['0']: collectionId, ['2']: from, ['3']: to, ['4']: amount} = events[0]\n\n      return {\n        collectionId: parseInt(collectionId, 10),\n        from: Address.extract.address(JSON.parse(from)),\n        to: Address.extract.address(JSON.parse(to)),\n        amount: parseInt(amount, 10),\n      }\n    },\n  },\n  ItemDestroyed: {\n    schema: zItemDestroyedEvent,\n    parseExtrinsic: async (extrinsic: ParsedExtrinsic): Promise<z.infer<typeof zItemDestroyedEvent>> => {\n      genericExtrinsicSuccessProcessor(extrinsic)\n\n      const events = extrinsic.groupedEvents?.common?.ItemDestroyed as Array<Record<string, string>>\n      if (!Array.isArray(events) || !events.length) {\n        throw new EventNotFoundInExtrinsicError(extrinsic, 'common.ItemDestroyed')\n      }\n\n      const collectionId = parseInt(events[0]['0'], 10)\n\n      const tokens = events.map((event) => {\n        const tokenId = parseInt(event['1'], 10)\n        const owner = Address.extract.address(JSON.parse(event['2']))\n        const amount = parseInt(event['3'], 10)\n\n        return {tokenId, owner, amount}\n      })\n\n      return {\n        collectionId,\n        tokens,\n      }\n    },\n  },\n  FungibleItemsDestroyed: {\n    schema: zItemDestroyedEvent,\n    parseExtrinsic: async (extrinsic: ParsedExtrinsic): Promise<z.infer<typeof zFungibleItemsDestroyedEvent>> => {\n      genericExtrinsicSuccessProcessor(extrinsic)\n\n      const events = extrinsic.groupedEvents?.common?.ItemDestroyed as Array<Record<string, string>>\n\n      if (!Array.isArray(events) || !events.length) {\n        throw new EventNotFoundInExtrinsicError(extrinsic, 'common.ItemDestroyed')\n      }\n\n      const {['0']: collectionId, ['2']: owner, ['3']: amount} = events[0]\n\n      return {\n        collectionId: parseInt(collectionId, 10),\n        from: Address.extract.address(JSON.parse(owner)),\n        amount: amount.toString(),\n      }\n    },\n  },\n  ItemPropertiesSet: {\n    schema: zItemPropertiesSetEvent,\n    parseExtrinsic: async (extrinsic: ParsedExtrinsic): Promise<z.infer<typeof zItemPropertiesSetEvent>> => {\n      genericExtrinsicSuccessProcessor(extrinsic)\n\n      const events = extrinsic.groupedEvents?.common?.TokenPropertySet as Array<Record<string, string>>\n      if (!Array.isArray(events) || !events.length) {\n        throw new EventNotFoundInExtrinsicError(extrinsic, 'common.TokenPropertySet')\n      }\n\n      const collectionId = parseInt(events[0]['0'], 10)\n      const tokenId = parseInt(events[0]['1'], 10)\n\n      const keys = events.map((event) => event['2'])\n\n      return {\n        collectionId,\n        tokenId,\n        keys,\n      }\n    },\n  },\n  TokenPropertiesDeleted: {\n    schema: zItemPropertiesSetEvent,\n    parseExtrinsic: async (extrinsic: ParsedExtrinsic): Promise<z.infer<typeof zItemPropertiesSetEvent>> => {\n      genericExtrinsicSuccessProcessor(extrinsic)\n\n      const events = extrinsic.groupedEvents?.common?.TokenPropertyDeleted as Array<Record<string, string>>\n      if (!Array.isArray(events) || !events.length) {\n        throw new EventNotFoundInExtrinsicError(extrinsic, 'common.TokenPropertyDeleted')\n      }\n\n      const collectionId = parseInt(events[0]['0'], 10)\n      const tokenId = parseInt(events[0]['1'], 10)\n\n      const keys = events.map((event) => event['2'])\n\n      return {\n        collectionId,\n        tokenId,\n        keys,\n      }\n    },\n  },\n  TransferApproved: {\n    schema: zTransferApprovedEvent,\n    parseExtrinsic: async (extrinsic: ParsedExtrinsic): Promise<z.infer<typeof zTransferApprovedEvent>> => {\n      genericExtrinsicSuccessProcessor(extrinsic)\n\n      const events = extrinsic.groupedEvents?.common?.Approved as Array<Record<string, string>>\n      if (!Array.isArray(events) || !events.length) {\n        throw new EventNotFoundInExtrinsicError(extrinsic, 'common.Approved')\n      }\n\n      const collectionId = parseInt(events[0]['0'], 10)\n      const tokenId = parseInt(events[0]['1'], 10)\n      const spender = Address.extract.address(JSON.parse(events[0]['3']))\n      const amount = parseInt(events[0]['4'], 10)\n\n      return {collectionId, tokenId, spender, amount}\n    },\n  },\n}\n","export const DEFAULT_DECIMALS = 18\n\nconst validateDecimals = (decimals: any): decimals is number => {\n  if (typeof decimals !== 'number') throw new Error('Invalid decimals, must be a number')\n  if (decimals < 1 || decimals > 18) throw new Error('Invalid decimals, must be between 0 and 18')\n  return true\n}\n\nexport const coinToWeiInBigInt = (value: string | number, decimals: number = DEFAULT_DECIMALS): bigint => {\n  value = value.toString()\n\n  //test that value is string of positive number\n  if (!/^\\d+(\\.\\d+)?$/.test(value)) {\n    throw new Error('Invalid value')\n  }\n  validateDecimals(decimals)\n\n  // Define the multiplier as a BigInt\n  const multiplier = 10n ** BigInt(decimals)\n\n  // Convert the integer part and fractional part separately\n  let [integerPart, fractionalPart = ''] = value.split('.')\n\n  // Ensure the fractional part is not longer than decimals digits\n  fractionalPart = fractionalPart.padEnd(decimals, '0').slice(0, decimals)\n\n  // Combine the integer and fractional parts\n  const weiValue = BigInt(integerPart) * multiplier + BigInt(fractionalPart)\n\n  return weiValue\n}\n\nexport const coinToWei = (value: string | number, decimals: number = DEFAULT_DECIMALS): string => {\n  return coinToWeiInBigInt(value, decimals).toString()\n}\n\nexport const weiToCoin = (weiValue: string | bigint, decimals: number = DEFAULT_DECIMALS): string => {\n  validateDecimals(decimals)\n\n  const weiBigInt = BigInt(weiValue)\n  const divisor = 10n ** BigInt(decimals)\n\n  // Divide the Wei amount by the divisor to get the Ether amount\n  const ethAmountBigInt = weiBigInt / divisor\n  const remainder = weiBigInt % divisor\n\n  // Determine how many digits to keep based on the Ether amount\n  // let digits = 0\n  // const ethAmount = Number(ethAmountBigInt) + (remainder > 0 ? Number(remainder) / 10 ** decimals : 0)\n  // if (ethAmount < 0.1) digits = 6\n  // else if (ethAmount < 1) digits = 4\n  // else if (ethAmount < 10) digits = 3\n  // else if (ethAmount < 100) digits = 2\n  // else if (ethAmount < 100000) digits = 1\n  // For amounts >= 100000, digits remain 0 for integer values\n\n  // Format the fractional part based on the determined digits\n  const remainderStr = remainder.toString()\n    .padStart(decimals, '0')\n  // .substring(0, digits)\n\n  // Remove trailing zeros from the remainder\n  const formattedRemainder = remainderStr.replace(/0+$/, '')\n\n  // Combine the integer part and the fractional part\n  const formattedEthAmount = `${ethAmountBigInt}${formattedRemainder.length > 0 ? '.' + formattedRemainder : ''}`\n\n  return formattedEthAmount\n}\n\nexport const dangerouslyWeiToCoinInFloat = (weiValue: string | bigint, decimals: number = DEFAULT_DECIMALS): number =>\n  parseFloat(weiToCoin(weiValue, decimals))\n\nexport const formatNice = (value: string | number, formattingThreshold: number = 100_000): string => {\n  const numStr = typeof value === 'string' ? value : value.toString()\n  const roughNum = parseFloat(numStr)\n  if (isNaN(roughNum)) throw new Error(`Coin.format: Invalid number: ${numStr}`)\n\n  if (formattingThreshold === -1) {\n    return numStr\n  }\n\n  const [integerPart, fractionalPart = ''] = numStr.split('.')\n  const integerNum = parseInt(integerPart)\n\n  if (integerNum < formattingThreshold) {\n    if (!fractionalPart) return numStr\n\n    const roughRemainder = parseFloat(`0.${fractionalPart}`)\n    let digits = 0\n    if (roughRemainder < 0.1) digits = 6\n    else if (integerNum < 1) digits = 4\n    else if (integerNum < 10) digits = 3\n    else if (integerNum < 10000) digits = 2\n    else if (integerNum < 100000) digits = 1\n    // For amounts >= 100000, digits remain 0 for integer values\n\n    let fractionalPadded = fractionalPart\n      .substring(0, digits)\n    if (fractionalPadded.length < 2 && digits >= 2) fractionalPadded = fractionalPadded.padEnd(2, '0')\n\n    // if fractional part contains only zeroes, remove it\n    if (fractionalPadded.replace(/0/g, '') === '') return integerPart\n    if (!fractionalPadded) return integerPart\n    return `${integerPart}.${fractionalPadded}`\n  }\n\n  const suffixes = [\"\", \"K\", \"M\", \"B\", \"T\"]\n  const i = integerNum === 0\n    ? 0\n    // 6.907... is Math.log(1000), 4 is max index of suffixes\n    : Math.min(Math.floor(Math.log(integerNum) / 6.907755278982137), 4)\n\n  const [integerPartOfNice, fractionalPartOfNice = ''] = (integerNum / Math.pow(1000, i)).toString().split('.')\n  const formatted = integerPartOfNice +\n    (fractionalPartOfNice.length > 0 ? '.' + fractionalPartOfNice.slice(0, 3) : '')\n\n  return `${formatted}${suffixes[i]}`\n}\n\nexport const formatFixed = (value: string | number, precision: number = 3): string => {\n  const numStr = value.toString()\n  if (precision === -1) return numStr\n\n  const [integerPart, fractionalPart = ''] = numStr.split('.')\n  if (!fractionalPart) return numStr\n\n  return `${integerPart}.${fractionalPart.substring(0, precision).padEnd(precision, '0')}`\n}\n\nexport const weiFormatNice = (weiValue: string | bigint, decimals: number = DEFAULT_DECIMALS, formattingThreshold = 100_000): string => {\n  return formatNice(weiToCoin(weiValue, decimals), formattingThreshold)\n}\n\nexport const weiFormatFixed = (weiValue: string | bigint, decimals: number = DEFAULT_DECIMALS, precision: number = 3): string => {\n  return formatFixed(weiToCoin(weiValue, decimals), precision)\n}\n\nexport const weiToGwei = (gwei: string | bigint, decimals: number = DEFAULT_DECIMALS): string => {\n  const weiBigInt = BigInt(gwei)\n  if (weiBigInt < 0n) throw new Error('Invalid gwei value')\n  const divisor = 10n ** (BigInt(decimals) / 2n)\n  const [integerPart, fractionalPart = ''] = [\n    (weiBigInt / divisor).toString(),\n    (weiBigInt % divisor).toString().padStart(decimals / 2, '0').replace(/0+$/, '')\n  ]\n  if (!fractionalPart) return integerPart\n  return `${integerPart}.${fractionalPart}`\n}\n\nexport const gweiToWei = (gwei: string | number | bigint, decimals: number = DEFAULT_DECIMALS): string => {\n  const multiplier = 10n ** (BigInt(decimals) / 2n)\n\n  const [integerPart, fractionalPart = ''] = gwei.toString().split('.')\n  if (BigInt(integerPart) < 0n) throw new Error('Invalid gwei value - must be positive')\n  const gweiIntegerPartInWei = BigInt(integerPart) * multiplier\n  if (!fractionalPart) return gweiIntegerPartInWei.toString()\n\n  const fractionalPartStr = fractionalPart.padEnd(decimals / 2, '0').slice(0, decimals / 2)\n\n  const weiValue = gweiIntegerPartInWei + BigInt(fractionalPartStr)\n  return weiValue.toString()\n}\n\nexport const coinToGwei = (value: string | number, decimals: number = DEFAULT_DECIMALS): string => {\n  return weiToGwei(coinToWei(value, decimals), decimals)\n}\n\nexport const gweiToCoin = (value: string | number, decimals: number = DEFAULT_DECIMALS): string => {\n  return weiToCoin(gweiToWei(value, decimals), decimals)\n}\n\nexport const cleanUpCoinsValue = (value: string | number): string => {\n  return value.toString().trim().replace(/\\.?0+$/, '')\n}\n\nexport const Coin = (\n  currency: string,\n  decimals: number = DEFAULT_DECIMALS,\n  precision: number = 3,\n  formattingThreshold: number = 100_000\n) => {\n  if (typeof currency as any !== 'string') throw new Error('Invalid currency, must be a string')\n  validateDecimals(decimals)\n  const paddedCurrency = currency.trim() === '' ? '' : ` ${currency.trim()}`\n\n  return {\n    coinToWeiInBigInt: (value: string): bigint => coinToWeiInBigInt(value, decimals),\n    coinToWei: (value: string): string => coinToWei(value, decimals),\n    weiToCoin: (value: string | bigint): string => weiToCoin(value, decimals),\n\n    dangerouslyWeiToCoinInFloat: (value: string | bigint): number => dangerouslyWeiToCoinInFloat(value, decimals),\n\n    formatNice: (value: string): string => formatNice(value, formattingThreshold) + paddedCurrency,\n    formatMetric: (value: string): string => formatNice(value, formattingThreshold),\n    formatFixed: (value: string | number, _precision = precision): string => formatFixed(value, _precision) + paddedCurrency,\n    formatFixedClean: (value: string | number, _precision = precision): string => formatFixed(value, _precision),\n    weiFormatNice: (value: string | bigint): string => weiFormatNice(value, decimals, formattingThreshold) + paddedCurrency,\n    weiFormatMetric: (value: string | bigint): string => weiFormatNice(value, decimals, formattingThreshold),\n    weiFormatFixed: (value: string | bigint, _precision = precision): string => weiFormatFixed(value, decimals, _precision) + paddedCurrency,\n    weiFormatFixedClean: (value: string | bigint, _precision = precision): string => weiFormatFixed(value, decimals, _precision),\n\n    gwei: {\n      gweiToWei: (value: string | number | bigint): string => gweiToWei(value, decimals),\n      weiToGwei: (value: string | bigint): string => weiToGwei(value, decimals),\n      gweiToCoin: (value: string | number): string => gweiToCoin(value, decimals),\n      coinToGwei: (value: string | number): string => coinToGwei(value, decimals),\n    },\n\n    inAllFormats: (value: string | number, _precision = precision): ICoinFormats => {\n      const wei = coinToWei(value, decimals)\n      const coins = cleanUpCoinsValue(value)\n      const metric = formatNice(value, formattingThreshold)\n      return {\n        value: coins,\n        metric,\n        nice: metric + paddedCurrency,\n        fixed: formatFixed(value, _precision) + paddedCurrency,\n        exact: coins + paddedCurrency,\n        currency,\n        wei,\n      }\n    },\n\n    weiInAllFormats: (wei: string | bigint, _precision = precision): ICoinFormats => {\n      const coins = weiToCoin(wei, decimals)\n      const metric = weiFormatNice(wei, decimals, formattingThreshold)\n      return {\n        value: coins,\n        metric,\n        nice: metric + paddedCurrency,\n        fixed: weiFormatFixed(wei, decimals, _precision) + paddedCurrency,\n        exact: coins + paddedCurrency,\n        currency,\n        wei: wei.toString(),\n      }\n    }\n  }\n}\n\nexport type ICoinFormats = {\n  value: string\n  metric: string\n  nice: string\n  fixed: string\n  exact: string\n  currency: string\n  wei: string\n}\n\nexport type ICoin = ReturnType<typeof Coin>\n","import type {ParsedExtrinsic} from 'blocks-storage/types'\nimport {ZodError} from 'zod'\n\nexport class ApiError extends Error {\n  constructor(\n    message: string,\n    public readonly statusCode: number = 500,\n    public readonly details?: any,\n  ) {\n    super(message)\n  }\n}\n\nexport class ValidationError extends Error {\n  readonly statusCode = 401\n  constructor(public readonly zodError: ZodError) {\n    const errors = zodError.format()._errors\n    super(`Validation Error${errors.length > 1 ? `s (${errors.length})` : ''}: ${zodError.format()._errors.join(', ')}`)\n  }\n}\n\nexport class NotFoundError extends ApiError {\n  readonly statusCode = 404\n\n  constructor(message: string) {\n    super(message)\n  }\n}\n\nexport class EventNotFoundInExtrinsicError extends Error {\n  readonly statusCode = 503\n\n  constructor(extrinsic: ParsedExtrinsic, event: string) {\n    super(`The extrinsic (hash ${extrinsic.hash}, block ${extrinsic.blockNumber} / ${extrinsic.blockHash}) has no ${event} event`)\n  }\n}\n\nexport class ExtrinsicFailedError extends Error {\n  readonly statusCode = 400\n\n  constructor(extrinsic: ParsedExtrinsic, reason: string) {\n    super(`The extrinsic failed for reason ${reason}, (hash ${extrinsic.hash}, block ${extrinsic.blockNumber} / ${extrinsic.blockHash})`)\n  }\n}\n\nexport class NotImplementedError extends Error {\n  readonly statusCode = 501\n\n  constructor() {\n    super(`Not implemented`)\n  }\n}\n","import z from 'zod'\n\nexport const zAtBlockHash = z.object({\n  atBlockHash: z.string().optional().openapi({description: 'Block hash'}),\n})\n\nexport type HashOrNumber = {hash: string; number: undefined} | {hash: undefined; number: bigint}\n\nexport const zHashOrNumber = z.string().transform<HashOrNumber>((value) => {\n  if (value.startsWith('0x') && value.length === 66) return {hash: value}\n\n  return {number: BigInt(value)}\n})\n\nexport const zAtBlockHashOrNumber = z.object({\n  atBlockHashOrNumber: zHashOrNumber.optional(),\n})\n\nexport const zVestedItem = z.object({\n  start: z.string().openapi({description: 'Number of the block when the vesting starts', example: '123456'}),\n  period: z.string().openapi({description: 'The duration of the vesting period', example: '1'}),\n  periodCount: z.string().openapi({description: 'The number of periods', example: '1'}),\n  perPeriod: z.string().openapi({description: 'The amount per period in coins', example: '1.5'}),\n})\n\nexport const zQueryBoolean = z\n  .union([z.string(), z.boolean(), z.number()])\n  .transform((val) => {\n    if (typeof val === 'string') return val.toLowerCase() === 'true'\n    if (typeof val === 'boolean') return val\n\n    return val !== 0\n  })\n  .openapi({description: 'Boolean query parameter', type: 'boolean'})\n\nexport const zPagination = z.object({\n  limit: z.coerce.number().int().min(1).max(1000).optional().openapi({description: 'Number of items to return, min 1, max 1000', example: 10}),\n  skip: z.coerce.number().int().min(0).optional().openapi({description: 'Number of items to skip, min 0', example: 0}),\n})\n\nexport type Pagination = z.infer<typeof zPagination>\n\n\nexport const zParsedMetadata = z.object({\n  data: z.string().nullable(),\n  resolved: z.string().nullable(),\n  parsed: z.object({\n    name: z.string().optional(),\n    description: z.string().optional(),\n    image: z.string().optional(),\n  })\n})\n\nexport type ParsedMetadata = z.infer<typeof zParsedMetadata>","import {z} from 'zod'\nimport {zAddressString} from 'validation-schemas'\nimport {zCollectionSchema} from '@unique-nft/schemas/pure'\nimport 'zod-openapi/extend'\nimport {Address} from '@unique-nft/utils/address'\nimport {zAtBlockHash} from './common'\nimport {EndpointSchema} from './types'\nimport {zMaxBytesPipe} from './input'\nimport {zUniversalLocationObject} from 'validation-schemas/xcmSchemas'\n\nexport const zCollectionIdNumber = z\n  .number()\n  .int()\n  .min(1)\n  .max(2 ** 32 - 1)\n  .positive()\n  .openapi({\n    description: 'Collection ID',\n    example: 1,\n  })\nexport const zCollectionAddress = z\n  .string()\n  .regex(/^0x[0-9a-fA-F]{40}$/)\n  .openapi({\n    description: 'Collection address',\n    example: '0x71C7656EC7ab88b098defB751B7401B5f6d8976F',\n  })\nexport const zCollectionIdString = z\n  .string()\n  .regex(/^[1-9]\\d*$/)\n  .openapi({\n    description: 'Collection ID',\n    example: '1',\n  })\n\nexport const zCollectionIdOrAddress = z\n  .union([zCollectionIdNumber, zCollectionAddress, zCollectionIdString])\n  .transform((value): number => {\n    if (typeof value === 'number') {\n      Address.validate.collectionId(value)\n      return value\n    }\n\n    if (Address.is.collectionAddress(value)) {\n      return Address.collection.addressToId(value)\n    }\n\n    const numberValue = parseInt(value, 10)\n    Address.validate.collectionId(numberValue)\n\n    return numberValue\n  })\n  .openapi({\n    description: 'Collection ID (number) or address (in format 0x)',\n  })\n\nexport const zCollectionIdQuery = z\n  .object({\n    collectionId: zCollectionIdOrAddress,\n  })\n  .merge(zAtBlockHash)\n\nexport const zCollectionLimits = z.object({\n  accountTokenOwnershipLimit: z.number().nullable().optional().openapi({\n    description: 'Maximum number of tokens that one address can own',\n    example: 1000,\n  }),\n  sponsoredDataSize: z.number().nullable().optional().openapi({\n    description: 'Maximum byte size of custom token data that can be sponsored when tokens are minted in sponsored mode',\n    example: 1024,\n  }),\n  sponsoredDataRateLimit: z.union([z.number(), z.string()]).nullable().optional().openapi({\n    description: 'Defines how many blocks need to pass between setVariableMetadata transactions in order for them to be sponsored',\n    example: 30,\n  }),\n  tokenLimit: z.number().nullable().optional().openapi({\n    description: 'Total amount of tokens that can be minted in this collection',\n    example: 1000000,\n  }),\n  sponsorTransferTimeout: z.number().nullable().optional().openapi({\n    description: 'Time interval in blocks that defines once per how long a non-privileged user transfer or mint transaction can be sponsored',\n    example: 6,\n  }),\n  sponsorApproveTimeout: z.number().nullable().optional().openapi({\n    description: 'Time interval in blocks that defines once per how long a non-privileged user approve transaction can be sponsored',\n    example: 6,\n  }),\n  ownerCanTransfer: z.boolean().nullable().optional().openapi({\n    description: 'Boolean value that tells if collection owner or admins can transfer or burn tokens owned by other non-privileged users',\n    example: false,\n  }),\n  ownerCanDestroy: z.boolean().nullable().optional().openapi({\n    description: 'Boolean value that tells if collection owner can destroy it',\n    example: false,\n  }),\n  transfersEnabled: z.boolean().nullable().optional().openapi({\n    description: 'Flag that defines whether token transfers between users are currently enabled',\n    example: false,\n  }),\n})\n\nexport type CollectionLimits = z.infer<typeof zCollectionLimits>\n\nexport const zAllCollectionStats = z.object({\n  created: z.number().openapi({description: 'Total number of collections created', example: 100}),\n  destroyed: z.number().openapi({description: 'Total number of collections destroyed', example: 10}),\n  alive: z.number().openapi({\n    description: 'Total number of collections that are created and not destroyed',\n    example: 90,\n  }),\n})\n\nexport const zCollectionDecodedSponsorship = z.object({\n  isEnabled: z.boolean().openapi({\n    description: 'Flag that defines whether sponsorship is enabled for this collection',\n    example: true,\n  }),\n  isConfirmed: z.boolean().openapi({\n    description: 'Flag that defines whether sponsorship is confirmed for this collection',\n    example: true,\n  }),\n  sponsor: z.string().nullable().openapi({description: 'Address of the sponsor'}),\n})\n\nexport type CollectionDecodedSponsorship = z.infer<typeof zCollectionDecodedSponsorship>\n\nexport const zDecodedProperty = z.object({\n  key: z.string().openapi({description: 'The key of the property', example: 'my_key'}),\n  value: z.string().openapi({description: 'The value of the property', example: 'my_value'}),\n  valueHex: z.string().openapi({description: 'The value of the property in hex', example: '0x02'}),\n})\n\nexport const zPropertiesToEncode = z.array(\n  z.union([\n    z.object({\n      key: z.string().pipe(zMaxBytesPipe(64)),\n      value: z.string().pipe(zMaxBytesPipe(32768)),\n      valueHex: z.string().pipe(zMaxBytesPipe(32768)).optional(),\n    }),\n    z.object({\n      key: z.string().pipe(zMaxBytesPipe(64)),\n      value: z.string().pipe(zMaxBytesPipe(32768)).optional(),\n      valueHex: z.string().pipe(zMaxBytesPipe(32768)),\n    }),\n  ]),\n) /*.transform((value): Array<{key: string, valueHex: string}> => {\n  return value.map((item) => {\n    const value = 'value' in item ? item.value : null\n    const valueHex = 'valueHex' in item\n      ? item.valueHex\n      : typeof value === 'string'\n        ? StringUtils.Utf8.stringToHexString(value)\n        : null\n\n    if (typeof valueHex !== 'string') {\n      throw new Error('value or valueHex is required')\n    }\n\n    return {\n      key: item.key,\n      valueHex\n    }\n  })\n})*/\n\nexport type PropertiesToEncode = z.infer<typeof zPropertiesToEncode>\n\nexport type DecodedProperty = z.infer<typeof zDecodedProperty>\n\nexport const zPropertyPermission = z.object({\n  mutable: z.boolean().openapi({description: 'Flag that defines whether the property is mutable', example: true}),\n  collectionAdmin: z.boolean().openapi({\n    description: 'Flag that defines whether the property can be changed by collection admin',\n    example: true,\n  }),\n  tokenOwner: z.boolean().openapi({\n    description: 'Flag that defines whether the property can be changed by token owner',\n    example: true,\n  }),\n})\n\nexport const zTokenPropertyPermission = z.object({\n  key: z.string().pipe(zMaxBytesPipe(256)).openapi({description: 'The key of the property', example: 'my_key'}),\n  permission: zPropertyPermission,\n})\nexport type TokenPropertyPermission = z.infer<typeof zTokenPropertyPermission>\n\nexport const zCollection = z.object({\n  collectionId: zCollectionIdNumber,\n  collectionAddress: zCollectionAddress,\n  owner: z.string().openapi({description: 'The owner of the collection', example: '5GEuzsNk8HkjSDJi1EK91omheS476JAW2PhqrZJSiBrEVeLL'}),\n  mode: z.enum(['NFT', 'Fungible', 'ReFungible']),\n  decimals: z.number().nullable().openapi({description: 'The decimals if collection is fungible, null otherwise'}),\n  name: z.string().openapi({description: 'The name of the collection', example: 'My Collection'}),\n  description: z.string().openapi({description: 'The description of the collection', example: 'My Collection description'}),\n  symbol: z.string().openapi({description: 'The symbol (token prefix) of the collection', example: 'MC'}),\n  properties: z.array(zDecodedProperty),\n  limits: zCollectionLimits.or(z.null()).openapi({description: 'The collection limits'}),\n  admins: z.array(zAddressString).or(z.null()).openapi({description: 'The collection admins'}),\n  lastTokenId: z.number().or(z.null()).openapi({description: 'The last token ID'}),\n  totalSupply: z.number().or(z.null()).openapi({description: 'The total supply (number of minted tokens)'}),\n  sponsorship: zCollectionDecodedSponsorship,\n  readOnly: z.boolean().openapi({description: 'Flag that defines whether the collection is read only', example: false}),\n  tokenPropertyPermissions: z.array(zTokenPropertyPermission),\n  permissions: z.object({\n    access: z.union([z.literal('Normal'), z.literal('AllowList')]).openapi({description: 'The access mode'}),\n    mintMode: z.boolean().openapi({description: 'Flag that defines whether the mint mode is enabled'}),\n    nesting: z\n      .object({\n        tokenOwner: z.boolean().openapi({description: 'Flag that defines whether the token owner can nest tokens'}),\n        collectionAdmin: z.boolean().openapi({description: 'Flag that defines whether the collection admin can nest tokens'}),\n        restricted: z.array(z.number()).optional().openapi({description: 'The restricted collection IDs'}),\n      })\n      .openapi({description: 'The nesting permissions'}),\n  }),\n  info: z.object(zCollectionSchema.shape).nullable().openapi({description: 'Collection info'}),\n  infoDecodingError: z.string().nullable().openapi({description: 'Error message if decoding of collection info failed'}),\n  universalLocation: zUniversalLocationObject.nullable().openapi({description: 'The universal location of the collection'}),\n  originalUniversalLocation: zUniversalLocationObject.nullable().openapi({description: 'The universal location of the collection'}),\n  isForeign: z.boolean().nullable().openapi({description: 'Flag that defines whether the collection is foreign'}),\n  isErc721Metadata: z.boolean().nullable().openapi({description: 'Flag that defines whether the collection is ERC721 metadata compatible'}),\n})\n\nexport type Collection = z.infer<typeof zCollection>\n\nexport const getAllCollectionsStatsSchema = {\n  route: `/allCollectionsStats`,\n  schemaIn: zAtBlockHash,\n  schemaOut: zAllCollectionStats,\n} satisfies EndpointSchema\n\nexport const zCollectionAccess = z.enum(['Normal', 'AllowList']).openapi({description: 'The access mode', example: 'Normal'})\n\nexport const zCreateCollection = z.object({\n  mode: z.enum(['Nft', 'Fungible', 'ReFungible']).openapi({description: 'The mode of the collection', example: 'Nft'}),\n  tokenDecimals: z.coerce.number().int().positive().optional().openapi({description: 'Fungible token decimals', example: 18}),\n  name: z.string().pipe(zMaxBytesPipe(64)).openapi({description: 'The name of the collection', example: 'My Collection'}),\n  description: z.string().pipe(zMaxBytesPipe(256)).openapi({\n    description: 'The description of the collection',\n    example: 'My Collection description',\n  }),\n  symbol: z.string().optional().pipe(zMaxBytesPipe(16)).openapi({description: 'The symbol of the collection', example: 'MC'}),\n  access: zCollectionAccess.optional(),\n  limits: zCollectionLimits.partial().optional().openapi({description: 'The limits of the collection'}),\n  admins: z.array(zAddressString).openapi({description: 'The collection admins'}).optional(),\n  permissions: z\n    .object({\n      access: zCollectionAccess.optional(),\n      nesting: z\n        .object({\n          tokenOwner: z.boolean().optional().openapi({\n            description: 'Flag that defines whether the token owner can be changed',\n            example: true,\n          }),\n          collectionAdmin: z.boolean().optional().openapi({\n            description: 'Flag that defines whether the collection admin can be changed',\n            example: true,\n          }),\n          restricted: zCollectionIdOrAddress.array().optional().openapi({description: 'The restricted collection IDs or addresses'}),\n        })\n        .optional()\n        .openapi({description: 'The nesting permissions'}),\n      mintMode: z.boolean().optional().openapi({\n        description: 'Flag that defines whether the mint mode is enabled',\n        example: true,\n      }),\n    })\n    .optional(),\n  pendingSponsor: zAddressString\n    .optional()\n    .openapi({description: 'The pending sponsor'})\n    .transform((value) => {\n      return typeof value === 'string' ? Address.extract.crossAccountIdNormalized(value) : undefined\n    }),\n\n  info: zCollectionSchema.optional().openapi({description: 'Collection info'}),\n  properties: zPropertiesToEncode.optional().openapi({description: 'The properties of the collection'}),\n  tokenPropertyPermissions: z.array(zTokenPropertyPermission).optional().openapi({description: 'The token property permissions (collection setting)'}),\n})\n","import {z} from 'zod'\n\nexport const maxByteValidation = (maxSize: number) => {\n  return (str: string) => {\n    const byteSize = new TextEncoder().encode(str).length\n\n    if (byteSize > maxSize) {\n      return false\n    }\n    return true\n  }\n}\n\nexport const zMaxBytesPipe = (maxSize: number) => {\n  return z.string().refine(maxByteValidation(maxSize), `String must not exceed ${maxSize} bytes`)\n}\n","import {z} from 'zod'\nimport 'zod-openapi/extend'\n\nconst uint8ArraySchema = z.string().regex(/^0x[a-fA-F0-9]+$/)\n\nconst zNetworkIdLiteral = z.enum(['polkadot', 'kusama', 'bitcoinCore', 'bitcoinCash', 'polkadotBulletin'] as const)\n\nconst zNetworkIdByGenesis = z\n  .object({\n    byGenesis: uint8ArraySchema,\n  })\n  .openapi({\n    description: 'Network ID by genesis',\n    example: {byGenesis: '0x0000000000000000000000000000000000000000000000000000000000000000'},\n  })\n\nexport const zNetworkId = z.union([zNetworkIdByGenesis, zNetworkIdLiteral])\n\nconst zGlobalConsensus = z.object({\n  globalConsensus: zNetworkId,\n})\n\nconst zParachain = z.object({\n  parachain: z.number().optional().openapi({description: 'Parachain ID', example: 2037}),\n})\n\nconst zGeneralIndex = z.object({\n  generalIndex: z.number().optional().openapi({description: 'General index', example: 1}),\n})\n\nconst zPalletInstance = z.object({\n  palletInstance: z.number().optional().openapi({description: 'Pallet instance', example: 51}),\n})\n\nexport type Junction = z.infer<typeof zParachain> | z.infer<typeof zGeneralIndex> | z.infer<typeof zPalletInstance>\n\nexport const zUniversalLocationObject = zGlobalConsensus.merge(zParachain).merge(zGeneralIndex).merge(zPalletInstance)\n\nexport type UniversalLocationObject = z.infer<typeof zUniversalLocationObject>\n\nconst zFeeAsset = z.object({\n  universalLocation: zUniversalLocationObject,\n  decimals: z.number().openapi({description: 'Decimals', example: 18}),\n})\n\nconst zTransferParams = z.object({\n  senderAddress: z.string().openapi({\n    description: 'Sender address',\n    example: '5HWY6cWgaqdov6f2essczduzkBc7yt6mjjbowLJKGMN82KSP',\n  }),\n  recipientAddress: z.string().optional().openapi({\n    description: 'Recipient address',\n    example: '5HWY6cWgaqdov6f2essczduzkBc7yt6mjjbowLJKGMN82KSP',\n  }),\n  collectionUniversalLocation: zUniversalLocationObject,\n  sourceParachainId: z.number().openapi({description: 'Source parachain ID', example: 1000}),\n  destinationParachainId: z.number().openapi({description: 'Destination parachain ID', example: 2037}),\n})\n\nexport const zTransferNftParams = zTransferParams.extend({\n  itemId: z.number().openapi({description: 'Item ID', example: 2}),\n  feeAsset: zFeeAsset,\n})\n\nexport type TransferNftParams = z.infer<typeof zTransferNftParams>\n\nexport const zTransferFungibleParams = zTransferParams.extend({\n  amount: z.number().openapi({description: 'Amount in coins', example: 1.1}),\n  decimals: z.number().openapi({description: 'Decimals', example: 18}),\n  feeAsset: zFeeAsset.optional(),\n})\n\nexport type TransferFungibleParams = z.infer<typeof zTransferFungibleParams>\n\nexport const zPreparedTransfer = z.object({\n  txHex: z.string() as z.ZodType<`0x${string}`>,\n  fee: z.string(),\n  error: z.string().optional(),\n})\n\nexport type PreparedTransfer = z.infer<typeof zPreparedTransfer>\n","import { Address } from '@unique-nft/utils/address';\nimport { SchemaTools } from '@unique-nft/schemas';\nimport { StringUtils } from '@unique-nft/utils';\nimport { zAddressString, zSubstrateAddress } from 'validation-schemas';\nimport { SCHEMAS_CONSTANTS } from '@unique-nft/schemas/pure';\nimport {\n  zCollection,\n  zCollectionIdOrAddress,\n  zCollectionIdQuery,\n  zCollectionLimits,\n  zPropertiesToEncode,\n  zCreateCollection,\n  zTokenPropertyPermission } from\n'../schemas/collection';\nimport { CollectionEvents } from '../schemas/events';\nimport { Methods } from '../methods';\nimport { zAllCollectionStats } from '../schemas/collection';\nimport { ExtrinsicEndpointsConfig, QueryEndpointConfig, SectionRoutesConfig } from './_types';\nimport { z } from 'zod';\nimport { zAtBlockHash, zPagination, zQueryBoolean } from '../schemas/common';\nimport { encodeCollectionLimits, encodeCollectionMode, encodeProperties } from '../utils/collection';\n\nconst tags = ['Collection'];\n\nconst endpointPrefix = '/collection';\n\nconst getCollectionById = new QueryEndpointConfig({\n\n  route: `${endpointPrefix}`,\n  schemaIn: zCollectionIdQuery.extend({\n    withAdmins: zQueryBoolean.optional().default(true).openapi({\n      description: 'If true, the admins will be included in the result',\n      example: true\n    }),\n    withLimits: zQueryBoolean.optional().default(true).openapi({\n      description: 'If true, the limits will be included in the result',\n      example: true\n    }),\n    withLastTokenId: zQueryBoolean.optional().default(true).openapi({\n      description: 'If true, the last token ID will be included in the result',\n      example: true\n    }),\n    withTotalSupply: zQueryBoolean.optional().default(true).openapi({\n      description: 'If true, the total supply will be included in the result',\n      example: true\n    })\n  }),\n  schemaOut: zCollection\n\n\n\n\n\n\n\n\n\n\n});\n\nconst getCollectionsPaginated = new QueryEndpointConfig({\n\n  route: `${endpointPrefix}/list`,\n  schemaIn: zPagination,\n  schemaOut: z.object({\n    collections: z.array(zCollection),\n    isLastPage: z.boolean()\n  })\n\n\n\n});\n\nconst getAllCollectionsStats = new QueryEndpointConfig({\n\n  route: `/allCollectionsStats`,\n  schemaIn: zAtBlockHash,\n  schemaOut: zAllCollectionStats\n\n\n\n\n\n\n\n});\n\nconst getAccountTokens = new QueryEndpointConfig({\n\n  route: '/collection/account/tokens',\n  schemaIn: zCollectionIdQuery.extend({\n    address: zAddressString\n  }),\n  schemaOut: z.array(\n    z.object({\n      collectionId: z.number().int().positive(),\n      tokenId: z.number().int().positive(),\n      originalTokenId: z.number().int().positive().optional()\n    }))\n\n\n\n\n\n});\n\nconst createCollection = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/create`,\n\n\n\n\n  schemaIn: zCreateCollection,\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaOut: zCollection\n\n\n\n\n\n});\n\nconst setCollectionProperties = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/properties/set`,\n\n\n  schemaIn: z.object({\n    collectionId: zCollectionIdOrAddress,\n    properties: zPropertiesToEncode\n  }),\n\n\n\n\n\n\n  schemaOut: zCollection\n\n\n\n\n});\n\nconst setTokenPropertyPermissions = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/token-property-permissions`,\n\n\n  schemaIn: z.object({\n    collectionId: zCollectionIdOrAddress,\n    tokenPropertyPermissions: z.array(zTokenPropertyPermission)\n  }),\n  schemaOut: zCollection\n\n\n\n\n\n\n\n\n\n});\n\nconst deleteCollectionProperties = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/properties/delete`,\n\n\n  schemaIn: z.object({\n    collectionId: zCollectionIdOrAddress,\n    keys: z.array(z.string()).min(1)\n  }),\n  schemaOut: zCollection\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst setCollectionSponsor = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/sponsor/set`,\n\n\n  schemaIn: z.object({\n    collectionId: zCollectionIdOrAddress,\n    sponsor: zSubstrateAddress\n  }),\n  schemaOut: zCollection\n\n\n\n\n\n\n\n\n\n\n});\n\nconst confirmCollectionSponsorship = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/sponsor/confirm`,\n\n\n  schemaIn: z.object({\n    collectionId: zCollectionIdOrAddress\n  }),\n  schemaOut: zCollection\n\n\n\n\n\n});\n\nconst transferCollection = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/transferCollection`,\n\n\n  schemaIn: z.object({\n    collectionId: zCollectionIdOrAddress,\n    to: zAddressString\n  }),\n  schemaOut: zCollection\n\n\n\n\n\n\n\n\n\n\n});\n\nconst setCollectionLimits = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/limits/set`,\n\n\n  schemaIn: z.object({\n    collectionId: zCollectionIdOrAddress,\n    limits: zCollectionLimits\n  }),\n  schemaOut: zCollection\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst addCollectionAdmin = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/admin/add`,\n\n\n  schemaIn: z.object({\n    collectionId: zCollectionIdOrAddress,\n    newAdmin: zAddressString\n  }),\n  schemaOut: zCollection\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst removeCollectionAdmin = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/admin/remove`,\n\n\n  schemaIn: z.object({\n    collectionId: zCollectionIdOrAddress,\n    adminToDelete: zAddressString\n  }),\n  schemaOut: zCollection\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst deleteCollection = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/delete`,\n\n\n  schemaIn: z.object({\n    collectionId: zCollectionIdOrAddress\n  }),\n  schemaOut: z.object({\n    collectionId: z.number()\n  })\n\n\n\n\n\n\n\n\n\n\n\n});\n\nexport const CollectionRoutesConfig = {\n  queries: {\n    getCollectionById,\n    getCollectionsPaginated,\n    getAllCollectionsStats,\n    getAccountTokens\n  },\n  extrinsics: {\n    createCollection,\n    setCollectionProperties,\n    deleteCollectionProperties,\n    setCollectionSponsor,\n    confirmCollectionSponsorship,\n    transferCollection,\n    setCollectionLimits,\n    addCollectionAdmin,\n    removeCollectionAdmin,\n    deleteCollection,\n    setTokenPropertyPermissions\n  }\n} satisfies SectionRoutesConfig;","import { SchemaTools } from '@unique-nft/schemas';\nimport { Address } from '@unique-nft/utils/address';\nimport { Utf8 } from '@unique-nft/utils/string';\nimport { z } from 'zod';\nimport 'zod-openapi/extend';\nimport { zAddressString } from 'validation-schemas';\nimport {\n  zApiQueryTokenId,\n  zApiResultToken,\n  zApiResultTokenWithChildren,\n  zApproveToken,\n  zNestToken,\n  zTokenPossibleActionsQuery,\n  zTokenSchema,\n  zTokenURI,\n  zUnnestToken } from\n'../schemas/token';\nimport { Methods } from '../methods';\nimport { TokenEvents } from '../schemas/events';\nimport { getCollection } from '../methods';\nimport { ExtrinsicEndpointsConfig, QueryEndpointConfig, SectionRoutesConfig } from './_types';\nimport { zCollectionIdOrAddress, zPropertiesToEncode } from '../schemas/collection';\nimport { encodeTokenProperties } from '../utils/token';\n\nconst tags = ['Token'];\nconst endpointPrefix = '/token';\n\nconst getToken = new QueryEndpointConfig({\n\n  route: `${endpointPrefix}`,\n  schemaIn: zApiQueryTokenId,\n  schemaOut: zApiResultTokenWithChildren\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst mintNftTokens = new ExtrinsicEndpointsConfig({\n\n\n  route: `${endpointPrefix}/nfts/mint`,\n\n\n\n  schemaIn: z.object({\n    collectionId: zCollectionIdOrAddress.openapi({ description: 'Collection ID or address', example: 1 }),\n    tokens: z.array(\n      z.object({\n        data: zTokenSchema.optional().openapi({ description: 'Token data' }),\n        owner: zAddressString.optional().openapi({ description: 'The owner of the token' }),\n        URI: zTokenURI,\n        properties: zPropertiesToEncode.optional().openapi({ description: 'The properties of the token' })\n      })\n    )\n  }),\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaOut: z.array(zApiResultToken)\n\n\n\n\n\n\n\n});\n\nconst updateNft = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/update`,\n\n\n  schemaIn: z.object({\n    collectionId: zCollectionIdOrAddress.openapi({ description: 'Collection ID or address', example: 1 }),\n    tokenId: z.number().int().positive().openapi({ description: 'Token ID', example: 1 }),\n    data: zTokenSchema.pick({ attributes: true, image: true, image_details: true }).optional().openapi({ description: 'Token data' })\n  }),\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaOut: zApiResultToken\n\n\n\n\n\n\n\n});\n\nconst transferTokenFrom = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/transfer-from`,\n\n\n  schemaIn: z.object({\n    collectionId: zCollectionIdOrAddress.openapi({ description: 'Collection ID or address', example: 1 }),\n    tokenId: z.number().int().positive().openapi({ description: 'Token ID', example: 1 }),\n    amount: z.number().int().positive().optional().openapi({ description: 'Amount of tokens to transfer (for Fungible and Refungible tokens))', example: 1 }),\n    from: zAddressString.optional().openapi({ description: 'Sender address (for \"transfer from\" operations)' }),\n    to: zAddressString.openapi({ description: 'Recipient address' })\n  }),\n  schemaOut: zApiResultToken\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst burnToken = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/burn`,\n\n\n  schemaIn: z.object({\n    collectionId: zCollectionIdOrAddress.openapi({ description: 'Collection ID or address', example: 1 }),\n    tokenId: z.number().int().positive().openapi({ description: 'Token ID', example: 1 }),\n    amount: z.number().int().positive().optional().openapi({ description: 'Amount of tokens to burn (for Fungible and Refungible tokens))', example: 1 })\n  }),\n\n\n\n\n\n\n\n  schemaOut: z.object({\n    collectionId: z.number().int().positive().openapi({ description: 'Collection ID', example: 1 }),\n    tokenId: z.number().int().positive().openapi({ description: 'Token ID', example: 1 }),\n    amount: z.number().int().positive().openapi({ description: 'Amount of tokens burned', example: 1 })\n  })\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst burnTokenFrom = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/burn-from`,\n\n\n  schemaIn: z.object({\n    collectionId: zCollectionIdOrAddress.openapi({ description: 'Collection ID or address', example: 1 }),\n    tokenId: z.number().int().positive().openapi({ description: 'Token ID', example: 1 }),\n    from: zAddressString.optional().openapi({ description: 'Token owner address (for \"burn from\" operations)' }),\n    amount: z.number().int().positive().optional().openapi({ description: 'Amount of tokens to burn (for Fungible and Refungible tokens))', example: 1 })\n  }),\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaOut: burnToken.schemaOut\n\n});\n\nconst setTokenProperties = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/properties/set`,\n\n\n  schemaIn: z.object({\n    collectionId: zCollectionIdOrAddress.openapi({ description: 'Collection ID or address', example: 1 }),\n    tokenId: z.number().int().positive().openapi({ description: 'Token ID', example: 1 }),\n    properties: zPropertiesToEncode.openapi({ description: 'The properties of the token' })\n  }),\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaOut: zApiResultToken\n\n\n\n\n\n\n\n});\n\nconst deleteTokenProperties = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/properties/delete`,\n\n\n  schemaIn: z.object({\n    collectionId: zCollectionIdOrAddress.openapi({ description: 'Collection ID or address', example: 1 }),\n    tokenId: z.number().int().positive().openapi({ description: 'Token ID', example: 1 }),\n    keys: z.array(z.string()).min(1).openapi({ description: 'The keys of the properties to delete' })\n  }),\n\n\n\n\n\n  schemaOut: zApiResultToken\n\n\n\n\n\n\n\n});\n\nconst nestToken = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/nest`,\n\n\n  schemaIn: zNestToken,\n  schemaOut: zApiResultToken\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst unnestToken = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/unnest`,\n\n\n  schemaIn: zUnnestToken,\n  schemaOut: zApiResultToken\n\n\n\n\n\n\n\n\n\n\n});\n\nconst approveTokenTransfer = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/approve`,\n\n\n  schemaIn: zApproveToken,\n  schemaOut: TokenEvents.TransferApproved.schema\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst getApproved = new QueryEndpointConfig({\n\n  route: `${endpointPrefix}/is-approved`,\n  schemaIn: z.object({\n    collectionId: zCollectionIdOrAddress.openapi({ description: 'Collection ID or address', example: 1 }),\n    tokenId: z.coerce.number().int().nonnegative().openapi({ description: 'Token ID', example: 1 }),\n    sender: zAddressString.optional().openapi({ description: 'Owner address' }),\n    spender: zAddressString.openapi({ description: 'Spender address' })\n  }),\n  schemaOut: z.object({\n    isApproved: z.boolean().openapi({ description: 'Is token approved for transfer (or burn)', example: true }),\n    amount: z.string().openapi({ description: 'Approved amount in decimal string', example: '1' })\n  })\n\n\n\n\n\n\n\n});\n\nconst getTokenPossibleActions = new QueryEndpointConfig({\n\n  route: `${endpointPrefix}/possible-actions`,\n  schemaIn: zTokenPossibleActionsQuery,\n  schemaOut: z.object({\n    burn: z.boolean().openapi({ description: 'Is token burn possible', example: true }),\n    nest: z.boolean().openapi({ description: 'Is token nesting possible', example: true }),\n    unnest: z.boolean().openapi({ description: 'Is token unnesting possible', example: true }),\n    transfer: z.boolean().openapi({ description: 'Is token transfer possible', example: true }),\n    changeProperties: z.array(z.string()).openapi({ description: 'List of properties that can be changed', example: ['key1', 'key2'] })\n  })\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nexport const TokenRoutesConfig = {\n  queries: {\n    getToken,\n    getApproved,\n    getTokenPossibleActions\n  },\n  extrinsics: {\n    mintNftTokens,\n    updateNft,\n    transferTokenFrom,\n    burnToken,\n    burnTokenFrom,\n    setTokenProperties,\n    deleteTokenProperties,\n    nestToken,\n    unnestToken,\n    approveTokenTransfer\n  }\n} satisfies SectionRoutesConfig;","import {zCollectionIdOrAddress, zDecodedProperty} from './collection'\nimport {zAtBlockHash, zQueryBoolean} from './common'\nimport {z} from 'zod'\nimport {SchemaTools} from '@unique-nft/schemas'\nimport {zAddressString} from 'validation-schemas'\nimport {Address} from '@unique-nft/utils/address'\n\nexport const {zTokenSchema} = SchemaTools.tools.schemas\n\nexport type TokenData = z.infer<typeof zTokenSchema>\n\nexport const zApiQueryTokenId = zAtBlockHash.extend({\n  collectionId: zCollectionIdOrAddress.openapi({description: 'Collection ID or address', example: 1}),\n  tokenId: z.coerce.number().int().positive().openapi({description: 'Token ID', example: 1}),\n  withChildren: zQueryBoolean.optional().openapi({description: 'If true, the nested tokens will be included in the result', example: false}),\n})\n\nexport const zApiResultToken = zTokenSchema.partial().extend({\n  tokenId: z.number().int().positive().openapi({description: 'Token ID', example: 1}),\n  collectionId: z.number().int().positive().openapi({description: 'Collection ID', example: 1}),\n  collectionAddress: z.string().openapi({description: 'Collection address'}),\n  symbol: z.string().openapi({description: 'Symbol (token prefix)'}),\n  owner: z.string().openapi({description: 'Owner address'}),\n  parentToken: z\n    .object({\n      collectionId: z.number().int().positive().openapi({description: 'Collection ID', example: 1}),\n      tokenId: z.number().int().positive().openapi({description: 'Token ID', example: 1}),\n    })\n    .optional()\n    .openapi({description: 'Parent token (if the token is nested)'}),\n  topmostOwner: z.string().openapi({description: 'Topmost owner address (if the token is nested)'}),\n  properties: z.array(zDecodedProperty),\n  decodingError: z.string().nullable().openapi({description: 'Error message if decoding failed'}),\n})\nexport type Token = z.infer<typeof zApiResultToken>\n\nexport const zTokenURI = z\n  .string()\n  .optional()\n  .openapi({description: 'The URI of the token, optional param which might be used for special extended ERC721 standards compat'})\n\nexport type TokenURI = z.infer<typeof zTokenURI>\n\nexport const zTokenPossibleActionsQuery = z.object({\n  sender: zAddressString.openapi({description: 'Sender address', example: '5GEuzsNk8HkjSDJi1EK91omheS476JAW2PhqrZJSiBrEVeLL'}),\n  collectionId: z.coerce.number().int().nonnegative().openapi({description: 'Collection ID or address', example: 1}),\n  tokenId: z.coerce.number().int().nonnegative().openapi({description: 'Token ID', example: 1}),\n  transferTo: zAddressString.optional().openapi({description: 'Recipient address, optional'}),\n  nestTo: z\n    .object({\n      collectionId: z.coerce.number().int().nonnegative(),\n      tokenId: z.coerce.number().int().nonnegative(),\n    })\n    .optional()\n    .openapi({description: 'Token nest options, optional'}),\n  amount: z.coerce.number().int().nonnegative().optional().default(1).openapi({description: 'Amount of tokens to transfer'}),\n})\n\nexport type TokenPossibleActionsQuery = z.infer<typeof zTokenPossibleActionsQuery>\n\nexport const zApiResultTokenWithChildren = zApiResultToken.extend({\n  children: z.array(zApiResultToken).optional().openapi({description: 'Nested tokens'}),\n})\n\nexport const zTokenId = z.object({\n  collectionId: zCollectionIdOrAddress.openapi({description: 'Collection ID or address', example: 1}),\n  tokenId: z.number().int().positive().openapi({description: 'Token ID', example: 1}),\n})\n\nexport const zNestToken = z.object({\n  parent: zTokenId,\n  nested: zTokenId,\n  from: zAddressString.optional().openapi({description: 'Sender address (for \"transfer from\" operations)'}),\n  amount: z.number().int().positive().optional().openapi({description: 'Amount of tokens to nest', example: 1}),\n})\n\nexport const zApproveToken = z.object({\n  spender: zAddressString,\n  collectionId: zCollectionIdOrAddress.openapi({description: 'Collection ID or address', example: 1}),\n  tokenId: z.number().int().positive().openapi({description: 'Token ID', example: 1}),\n  amount: z.number().int().nonnegative().optional().openapi({description: 'Amount of tokens to approve, default is 1', example: 1}),\n})\n\nexport const zUnnestToken = z.object({\n  to: zAddressString.optional().openapi({description: 'Recipient address'}),\n  nested: zTokenId,\n  amount: z.number().int().positive().optional().openapi({description: 'Amount of tokens to transfer (for Fungible and Refungible tokens))', example: 1}),\n})\n","import { z } from 'zod';\nimport { ExtrinsicEndpointsConfig, QueryEndpointConfig, SectionRoutesConfig } from './_types';\nimport { zAddressString } from 'validation-schemas';\nimport { Methods } from '../methods';\nimport { zCollectionIdOrAddress } from '../schemas/collection';\nimport { TokenEvents } from '../schemas/events';\nimport {\n  zApproveFungibleTokens,\n  zApproveFungibleTokensResult,\n  zBurnFungibleTokens,\n  zBurnFungibleTokensResult,\n  zMintFungibleTokenResult,\n  zMintFungibleTokens,\n  zTransferFungibleTokens,\n  zTransferFungibleTokensResult } from\n'../schemas/fungible';\nimport { Address } from '@unique-nft/utils';\nimport { ApiError } from '../schemas/errors';\n\nconst tags = ['Fungible'];\n\nconst endpointPrefix = '/fungible';\n\nconst mintTokens = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/mint`,\n\n\n  schemaIn: zMintFungibleTokens,\n\n  schemaOut: zMintFungibleTokenResult\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst transferTokensFrom = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/transfer-from`,\n\n\n  schemaIn: zTransferFungibleTokens,\n  schemaOut: zTransferFungibleTokensResult\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst burnTokens = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/burn`,\n\n\n  schemaIn: zBurnFungibleTokens.omit({ from: true }),\n  schemaOut: zBurnFungibleTokensResult\n\n\n\n\n\n\n\n\n\n\n});\n\nconst burnTokensFrom = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/burn-from`,\n\n\n  schemaIn: zBurnFungibleTokens,\n  schemaOut: zBurnFungibleTokensResult\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst approveTokens = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/approve`,\n\n\n  schemaIn: zApproveFungibleTokens,\n  schemaOut: zApproveFungibleTokensResult\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst getAccountBalance = new QueryEndpointConfig({\n\n  route: `${endpointPrefix}/balance`,\n  schemaIn: z.object({\n    address: zAddressString,\n    collectionId: zCollectionIdOrAddress\n  }),\n  schemaOut: z.object({\n    address: zAddressString,\n    collectionId: z.number().int().positive().openapi({ description: 'Collection ID', example: 1 }),\n    balance: z.string().openapi({ description: 'Balance of the account', example: '100' }),\n    decimals: z.number().int().positive().openapi({ description: 'Decimals of the fungible token', example: 18 }),\n    symbol: z.string().openapi({ description: 'Symbol of the fungible token', example: 'DOT' })\n  })\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst getAccountAllowance = new QueryEndpointConfig({\n\n  route: `${endpointPrefix}/allowance`,\n  schemaIn: z.object({\n    sender: zAddressString,\n    spender: zAddressString,\n    collectionId: zCollectionIdOrAddress\n  }),\n  schemaOut: z.object({\n    allowance: z.number().openapi({ description: 'Allowance of the account', example: 100 }),\n    address: zAddressString,\n    collectionId: z.number().int().positive().openapi({ description: 'Collection ID', example: 1 }),\n    sender: zAddressString\n  })\n\n\n\n\n\n\n\n});\n\nconst getCollectionTotalSupply = new QueryEndpointConfig({\n\n  route: `${endpointPrefix}/total-supply`,\n  schemaIn: z.object({\n    collectionId: zCollectionIdOrAddress\n  }),\n  schemaOut: z.object({\n    totalSupply: z.number().openapi({ description: 'Total supply of the collection', example: 100 })\n  })\n\n\n\n\n\n\n\n});\n\nexport const FungibleRoutesConfig = {\n  queries: {\n    getAccountBalance,\n    getAccountAllowance,\n    getCollectionTotalSupply\n  },\n  extrinsics: {\n    mintTokens,\n    transferTokensFrom,\n    burnTokens,\n    burnTokensFrom,\n    approveTokens\n  }\n} satisfies SectionRoutesConfig;","import {zAddressString} from 'validation-schemas'\nimport {z} from 'zod'\nimport {zCollectionIdOrAddress} from './collection'\n\nexport const zMintFungibleTokens = z.object({\n  collectionId: zCollectionIdOrAddress.openapi({description: 'Collection ID or address', example: 1}),\n  recipient: zAddressString.optional(),\n  amount: z.coerce.string().openapi({example: '150000', type: ['string', 'number', 'integer']}),\n})\n\nexport const zMintFungibleTokenResult = zMintFungibleTokens.extend({\n  collectionId: z.number().int().positive().openapi({description: 'Collection ID', example: 1}),\n})\n\nexport const zTransferFungibleTokens = z.object({\n  collectionId: zCollectionIdOrAddress.openapi({description: 'Collection ID or address', example: 1}),\n  from: zAddressString.optional().openapi({description: 'Sender address (for \"transfer from\" operations)'}),\n  to: zAddressString.openapi({description: 'Recipient address', example: '5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY'}),\n  amount: z.coerce.string().openapi({example: '150000', type: ['string', 'number', 'integer']}),\n})\n\nexport const zTransferFungibleTokensResult = zTransferFungibleTokens.extend({\n  collectionId: z.number().int().positive().openapi({description: 'Collection ID', example: 1}),\n})\n\nexport const zBurnFungibleTokens = z.object({\n  collectionId: zCollectionIdOrAddress.openapi({description: 'Collection ID or address', example: 1}),\n  from: zAddressString.optional().openapi({description: 'Token owner address (for \"burn from\" operations)'}),\n  amount: z.coerce.string().openapi({example: '150000', type: ['string', 'number', 'integer']}),\n})\n\nexport const zBurnFungibleTokensResult = zBurnFungibleTokens.extend({\n  collectionId: z.number().int().positive().openapi({description: 'Collection ID', example: 1}),\n})\n\nexport const zApproveFungibleTokens = z.object({\n  collectionId: zCollectionIdOrAddress.openapi({description: 'Collection ID or address', example: 1}),\n  sender: zAddressString.optional().openapi({description: 'Sender address', example: '5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY'}),\n  spender: zAddressString.openapi({description: 'Spender address', example: '5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY'}),\n  amount: z.coerce.string().openapi({example: '150000', type: ['string', 'number', 'integer']}),\n})\n\nexport const zApproveFungibleTokensResult = zApproveFungibleTokens.omit({sender: true}).extend({\n  collectionId: z.number().int().positive().openapi({description: 'Collection ID', example: 1}),\n})\n","import { z } from 'zod';\nimport 'zod-openapi/extend';\nimport { zEthereumAddress } from 'validation-schemas';\nimport { getContractExists, getGasPrice } from '../../utils/evm/handlers';\nimport { QueryEndpointConfig, ExtrinsicEndpointsConfig } from '../_types';\nimport { DEFAULT_GAS_LIMIT, endpointPrefix, tags } from './constants';\nimport { encodeValue, toEthereumFormat } from '../../utils/evm/evmUtils';\nimport { EvmEvents } from '../../schemas/evm';\n\nexport const zEvmDeployArgs = z.object({\n  bytecode: z.string().regex(/^0x[0-9a-fA-F]*$/, { message: 'Bytecode of the contract, must start with 0x' }),\n  value: z.coerce.bigint().optional().openapi({ description: 'Value to send with the transaction', type: 'string' }),\n  gasLimit: z.coerce.bigint().optional().openapi({ description: 'Gas limit for the transaction', type: 'string' }),\n  maxFeePerGas: z.coerce.bigint().optional().openapi({ description: 'Maximum fee per gas', type: 'string' }),\n  maxPriorityFeePerGas: z.coerce.bigint().optional().openapi({ description: 'Maximum priority fee per gas', type: 'string' }),\n  nonce: z.number().optional().openapi({ description: 'Nonce of the transaction' }),\n  accessList: z.array(zEthereumAddress).optional().openapi({ description: 'Access list' }),\n  source: z.string().optional().openapi({ description: 'Source address' })\n});\n\nexport const contractExistsRoute = new QueryEndpointConfig({\n\n  route: `${endpointPrefix}/contract/exists`,\n  schemaIn: z.object({\n    address: zEthereumAddress\n  }),\n  schemaOut: z.object({\n    exists: z.boolean().openapi({ description: 'Flag that defines whether the contract exists' })\n  })\n\n\n\n\n\n});\n\nexport const contractDeployRoute = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/contract/deploy`,\n\n\n  schemaIn: zEvmDeployArgs,\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaOut: z.object({\n    contractAddress: z.string().openapi({ description: 'Address of the created contract' })\n  })\n\n\n\n});","export const tags = ['EVM']\n\nexport const endpointPrefix = '/evm'\n\n// todo - move to config ?\nexport const DEFAULT_GAS_LIMIT = 2_500_000\n","import { z } from 'zod';\nimport { ethers } from 'ethers';\nimport { FastifyInstance } from 'fastify';\n\nimport { encodeValue, fixBigint, toEthereumFormat } from '../../utils/evm/evmUtils';\nimport { zAbi } from '../../schemas/evm/abi';\nimport { EthCallRequest } from '../../utils/evm/ethRequestsTypes';\nimport { QueryEndpointConfig, QueryHttpMethod } from '../_types';\n\nimport { endpointPrefix, tags } from './constants';\nimport { RpcError } from 'substrate-client/jsonRpc/rpcError';\nimport { extractEvmCallError } from '../../utils/evm/errors/errorParser';\n\nimport collectionHelpersAbi from '@unique-nft/solidity-interfaces/abi/CollectionHelpers.json';\nimport contractHelpersAbi from '@unique-nft/solidity-interfaces/abi/ContractHelpers.json';\nimport uniqueNFTAbi from '@unique-nft/solidity-interfaces/abi/UniqueNFT.json';\nimport uniqueFungibleAbi from '@unique-nft/solidity-interfaces/abi/UniqueFungible.json';\nimport uniqueRefungibleAbi from '@unique-nft/solidity-interfaces/abi/UniqueRefungible.json';\nimport uniqueNativeFungibleAbi from '@unique-nft/solidity-interfaces/abi/UniqueNativeFungible.json';\nimport uniqueRefungibleTokenAbi from '@unique-nft/solidity-interfaces/abi/UniqueRefungibleToken.json';\nimport { constants } from '@unique-nft/solidity-interfaces';\n\n\nconst zEvmCallBodyBase = z.object({\n  functionName: z.string().openapi({ description: 'Name of the function to call' }),\n  functionArgs: z.array(z.any()).openapi({ description: 'Arguments of the function' }),\n  senderAddress: z.string().optional().openapi({ description: 'Address of the sender' }),\n  gasPrice: z.coerce.bigint().optional().openapi({ description: 'Gas price for the transaction', type: 'string' }),\n  gasLimit: z.coerce.bigint().optional().openapi({ description: 'Gas limit for the transaction', type: 'string' }),\n  value: z.coerce.bigint().optional().openapi({ description: 'The amount of the transfer in wei', type: 'string' }),\n  blockNumber: z.coerce.bigint().optional().openapi({\n    description: 'Block number to execute the transaction',\n    type: 'string'\n  })\n});\n\nconst zEvmCallBody = zEvmCallBodyBase.extend({\n  contract: z.object({\n    address: z.string().openapi({ description: 'Address of the contract' }),\n    abi: zAbi\n  })\n});\n\nconst zEvmCallBodyKnownContract = zEvmCallBody.extend({\n  contract: z.object({\n    address: z.string().openapi({ description: 'Address of the contract' })\n  })\n});\n\nconst unknownContractCall = new QueryEndpointConfig({\n\n  route: `${endpointPrefix}/contract/call`,\n  schemaIn: zEvmCallBody,\n  schemaOut: z.any(),\n  method: 'POST' as QueryHttpMethod\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nexport const collectionHelpersCallRoute = new QueryEndpointConfig({\n\n  route: `${endpointPrefix}/collection-helpers/call`,\n  method: unknownContractCall.method,\n  schemaIn: zEvmCallBodyBase,\n  schemaOut: unknownContractCall.schemaOut\n\n\n\n});\n\nexport const contractHelpersCallRoute = new QueryEndpointConfig({\n\n  route: `${endpointPrefix}/contract-helpers/call`,\n  method: unknownContractCall.method,\n  schemaIn: zEvmCallBodyBase,\n  schemaOut: unknownContractCall.schemaOut\n\n\n\n});\n\nexport const uniqueNftCallRoute = new QueryEndpointConfig({\n\n  route: `${endpointPrefix}/unique-nft/call`,\n  method: unknownContractCall.method,\n  schemaIn: zEvmCallBodyKnownContract,\n  schemaOut: unknownContractCall.schemaOut\n\n\n\n});\n\nexport const uniqueFungibleCallRoute = new QueryEndpointConfig({\n\n  route: `${endpointPrefix}/unique-fungible/call`,\n  method: unknownContractCall.method,\n  schemaIn: zEvmCallBodyKnownContract,\n  schemaOut: unknownContractCall.schemaOut\n\n\n\n});\n\nexport const uniqueRefungibleCallRoute = new QueryEndpointConfig({\n\n  route: `${endpointPrefix}/unique-refungible/call`,\n  method: unknownContractCall.method,\n  schemaIn: zEvmCallBodyKnownContract,\n  schemaOut: unknownContractCall.schemaOut\n\n\n\n});\n\nexport const uniqueNativeFungibleCallRoute = new QueryEndpointConfig({\n\n  route: `${endpointPrefix}/unique-native-fungible/call`,\n  method: unknownContractCall.method,\n  schemaIn: zEvmCallBodyKnownContract,\n  schemaOut: unknownContractCall.schemaOut\n\n\n\n});\n\nexport const uniqueRefungibleTokenCallRoute = new QueryEndpointConfig({\n\n  route: `${endpointPrefix}/unique-refungible-token/call`,\n  method: unknownContractCall.method,\n  schemaIn: zEvmCallBodyKnownContract,\n  schemaOut: unknownContractCall.schemaOut\n\n\n\n});\n\nexport const contractCallRoute = unknownContractCall;","import z, {ZodType} from 'zod'\nimport 'zod-openapi/extend'\n\nconst zBaseAbiInput = z.object({\n  name: z.string().optional(),\n  type: z.string(),\n  internalType: z.string().optional(),\n  indexed: z.boolean().optional(),\n})\n\ntype AbiInput = z.infer<typeof zBaseAbiInput> & {components?: AbiInput[]}\n\nexport const zAbiInput: ZodType<AbiInput> = zBaseAbiInput.extend({\n  components: z\n    .lazy(() => zAbiInput.array())\n    .optional()\n    .openapi({type: 'array'}),\n})\n\nexport const zAbiItem = z.object({\n  name: z.string().optional(),\n  inputs: zAbiInput.array().optional(),\n  outputs: zAbiInput.array().optional(),\n  stateMutability: z.string().optional(),\n  type: z.string(),\n  payable: z.boolean().optional(),\n  constant: z.boolean().optional(),\n})\n\nexport type AbiItem = z.infer<typeof zAbiItem>\n\nexport const zAbi = zAbiItem.array()\n\nexport type Abi = z.infer<typeof zAbi>\n","import { z } from 'zod';\n\nimport { getGasPrice } from '../../utils/evm/handlers';\nimport { encodeValue, toEthereumFormat } from '../../utils/evm/evmUtils';\nimport { ExtrinsicEndpointsConfig, BuildArgsFormatterParams } from '../_types';\nimport { zAbi } from '../../schemas/evm/abi';\nimport { DEFAULT_GAS_LIMIT, endpointPrefix, tags } from './constants';\nimport { SubstrateClient } from 'substrate-client';\nimport { ethers } from 'ethers';\nimport { genericExtrinsicSuccessProcessor } from '../../schemas/events';\nimport { ParsedExtrinsic } from 'blocks-storage';\nimport { Address } from '@unique-nft/utils/address';\n\nimport collectionHelpersAbi from '@unique-nft/solidity-interfaces/abi/CollectionHelpers.json';\nimport contractHelpersAbi from '@unique-nft/solidity-interfaces/abi/ContractHelpers.json';\nimport uniqueNFTAbi from '@unique-nft/solidity-interfaces/abi/UniqueNFT.json';\nimport uniqueFungibleAbi from '@unique-nft/solidity-interfaces/abi/UniqueFungible.json';\nimport uniqueRefungibleAbi from '@unique-nft/solidity-interfaces/abi/UniqueRefungible.json';\nimport uniqueNativeFungibleAbi from '@unique-nft/solidity-interfaces/abi/UniqueNativeFungible.json';\nimport uniqueRefungibleTokenAbi from '@unique-nft/solidity-interfaces/abi/UniqueRefungibleToken.json';\nimport { constants } from '@unique-nft/solidity-interfaces';\n\nconst zEvmSend = z.object({\n  functionName: z.string(),\n  functionArgs: z.array(z.any()),\n  contract: z.object({\n    address: z.string().openapi({ description: 'Address of the contract' }),\n    abi: zAbi\n  }),\n  value: z.coerce.bigint().optional().openapi({ description: 'The amount of the transfer in wei', type: 'string' }),\n  gasLimit: z.coerce.bigint().optional().openapi({ description: 'Gas limit for the transaction', type: 'string' }),\n  maxFeePerGas: z.coerce.bigint().optional().openapi({ description: 'Maximum fee per gas', type: 'string' }),\n  maxPriorityFeePerGas: z.coerce.bigint().optional().openapi({\n    description: 'Maximum priority fee per gas',\n    type: 'string'\n  }),\n  source: z.string().optional().openapi({ description: 'Source address' })\n});\n\nconst zEvmSendKnownContractAbi = zEvmSend.extend({\n  contract: z.object({\n    address: z.string().openapi({ description: 'Address of the contract' })\n  })\n});\n\nconst unknownContractSendRoute = new ExtrinsicEndpointsConfig({\n  route: `${endpointPrefix}/contract/send`,\n\n\n\n  schemaIn: zEvmSend,\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaOut: z.object({\n    isSuccessful: z.boolean().nullable()\n  })\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nexport const collectionHelpersSendRoute = new ExtrinsicEndpointsConfig({\n  route: `${endpointPrefix}/collection-helpers/send`,\n\n\n\n\n  schemaOut: unknownContractSendRoute.schemaOut,\n  schemaIn: zEvmSend.omit({ contract: true })\n\n\n\n\n\n\n\n});\n\nexport const contractHelpersSendRoute = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/contract-helpers/send`,\n  schemaIn: zEvmSend.omit({ contract: true }),\n  schemaOut: unknownContractSendRoute.schemaOut\n\n\n\n\n\n\n\n\n\n\n});\n\nexport const uniqueNftSendRoute = new ExtrinsicEndpointsConfig({\n  route: `${endpointPrefix}/unique-nft/send`,\n\n\n\n\n  schemaOut: unknownContractSendRoute.schemaOut,\n  schemaIn: zEvmSendKnownContractAbi\n\n\n\n\n\n\n\n\n\n\n});\n\nexport const uniqueFungibleSendRoute = new ExtrinsicEndpointsConfig({\n\n\n\n\n  schemaOut: unknownContractSendRoute.schemaOut,\n  route: `${endpointPrefix}/unique-fungible/send`,\n  schemaIn: zEvmSendKnownContractAbi\n\n\n\n\n\n\n\n\n\n\n});\n\nexport const uniqueRefungibleSendRoute = new ExtrinsicEndpointsConfig({\n\n\n\n\n  schemaOut: unknownContractSendRoute.schemaOut,\n  route: `${endpointPrefix}/unique-refungible/send`,\n  schemaIn: zEvmSendKnownContractAbi\n\n\n\n\n\n\n\n\n\n\n});\n\nexport const uniqueNativeFungibleSendRoute = new ExtrinsicEndpointsConfig({\n\n\n\n\n  schemaOut: unknownContractSendRoute.schemaOut,\n  route: `${endpointPrefix}/unique-native-fungible/send`,\n  schemaIn: zEvmSendKnownContractAbi\n\n\n\n\n\n\n\n\n\n\n});\n\nexport const uniqueRefungibleTokenSendRoute = new ExtrinsicEndpointsConfig({\n\n\n\n\n  schemaOut: unknownContractSendRoute.schemaOut,\n  route: `${endpointPrefix}/unique-refungible-token/send`,\n  schemaIn: zEvmSendKnownContractAbi\n\n\n\n\n\n\n\n\n\n\n});\n\nexport const contractSendRoute = unknownContractSendRoute;","import { z } from 'zod';\nimport 'zod-openapi/extend';\nimport { ParsedExtrinsic } from 'blocks-storage';\nimport { ethers } from 'ethers';\nimport { FastifyInstance } from 'fastify';\n\nimport { zAbi } from '../../schemas/evm/abi';\nimport { endpointPrefix, tags } from './constants';\nimport { QueryEndpointConfig, QueryHttpMethod } from '../_types';\nimport { fixBigint } from '../../utils/evm/evmUtils';\nimport { NotFoundError } from '../../schemas/errors';\n\nconst zEvmParseLogs = z.object({\n  hash: z.string().openapi({ description: 'Hash of the extrinsic' }),\n  isFinalized: z.boolean().optional().openapi({ description: 'Is the block with the extrinsic finalized' }),\n  abi: zAbi\n});\n\nconst zEvmLogEventData = z.object({\n  address: z.string().openapi({ description: 'Address of the contract' }),\n  topics: z.array(z.string()).openapi({ description: 'Topics of the log' }),\n  data: z.string().openapi({ description: 'Data of the log' })\n});\n\nconst getEvmLogs = (extrinsic: ParsedExtrinsic) => {\n  const rawLogs = extrinsic.groupedEvents.evm?.Log as {log: string;}[] || [];\n\n  const logs: z.output<typeof zEvmLogEventData>[] = [];\n\n  for (const { log } of rawLogs) {\n    const parsed = zEvmLogEventData.safeParse(JSON.parse(log));\n\n    if (parsed.success) logs.push(parsed.data);\n  }\n\n  return logs;\n};\n\nconst unknownContractParseLogsConfig = {\n  tags,\n  route: `${endpointPrefix}/contract/logs`,\n  schemaIn: zEvmParseLogs,\n  schemaOut: z.object({\n    logs: z.array(z.any()).openapi({ description: 'Decoded logs' })\n  }),\n  method: 'POST' as QueryHttpMethod,\n  queryHandler: async (fastify: FastifyInstance, query: z.output<typeof zEvmParseLogs>) => {\n    const { extrinsicsStorage } = fastify;\n    const { hash, abi, isFinalized } = query;\n\n    const extrinsic = await extrinsicsStorage.getExtrinsic(hash, isFinalized);\n    if (!extrinsic) throw new NotFoundError(`Extrinsic with hash ${hash} not found`);\n\n    const contractInterface = new ethers.Interface(abi);\n    const rawLogs = getEvmLogs(extrinsic);\n\n    const logs: any[] = [];\n\n    for (const rawLog of rawLogs) {\n      const log = contractInterface.parseLog(rawLog);\n\n      if (!log) continue;\n\n      const { name, signature, args } = log;\n      logs.push(fixBigint({ name, signature, args }));\n    }\n\n    return { logs };\n  }\n};\n\nexport const contractLogsRoute = new QueryEndpointConfig(unknownContractParseLogsConfig);","import {Address} from '@unique-nft/utils/address'\nimport {SubstrateClient} from 'substrate-client'\nimport {HashOrNumber} from '../../schemas/common'\n\nexport const getBlockNumber = async (substrateClient: SubstrateClient, at: HashOrNumber | undefined) => {\n  if (!at) return undefined\n\n  if (at.number) return at.number.toString(10)\n\n  if (at.hash) {\n    const blockNumber = await substrateClient.getBlockNumber(at.hash)\n\n    if (!blockNumber) throw new Error(`Block with hash ${at.hash} not found`)\n\n    return blockNumber.toString(10)\n  }\n\n  return undefined\n}\n\nexport const toEthereumFormat = (address: string) => {\n  if (Address.is.ethereumAddress(address)) return address\n\n  return Address.mirror.substrateToEthereum(address)\n}\n\nexport const encodeValue = (value?: number | bigint | string) => {\n  if (!value) return '0x0'\n\n  return typeof value === 'string' ? value : `0x${value.toString(16)}`\n}\n\nexport const fixBigint = (input: unknown) => {\n  const asString = JSON.stringify(input, (_, value) => (typeof value === 'bigint' ? value.toString() : value))\n\n  return JSON.parse(asString)\n}\n","import { z } from 'zod';\nimport 'zod-openapi/extend';\nimport { hexToU8a } from '@polkadot/util';\nimport { ExtrinsicEndpointsConfig, SectionRoutesConfig } from './_types';\nimport { ApiError } from '../schemas/errors';\nimport { genericExtrinsicSuccessProcessor } from '../schemas/events';\nimport type { ParsedEvent, ParsedExtrinsic } from 'blocks-storage';\nimport { groupEvents } from 'blocks-storage/utils/groupEvents';\n\nconst zBatchResultParsedExtrinsic = z.object({\n  args: z.object({\n    calls: z.array(\n      z.object({\n        callIndex: z.string().startsWith('0x'),\n        args: z.any()\n      })\n    )\n  })\n});\n\nexport const batchAll = new ExtrinsicEndpointsConfig({\n  route: '/utility/batch-all',\n\n\n\n  schemaIn: z.object({\n    calls: z.array(z.string()).openapi({ description: 'The list of encoded calls to execute' })\n  }),\n  schemaOut: z.object({\n    isSuccess: z.boolean(),\n    calls: z.array(\n      z.object({\n        callIndex: z.string().startsWith('0x'),\n        name: z.string(),\n        args: z.any()\n      })\n    )\n  })\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nexport const BatchEndpoints = {\n  extrinsics: {\n    batchAll\n  },\n  queries: {}\n} satisfies SectionRoutesConfig;\n\n// todo - move this somewhere else\nexport const filterBatchEvents = (parsedExtrinsic: ParsedExtrinsic, indexInBatch: number): Pick<ParsedExtrinsic, 'events' | 'groupedEvents'> => {\n  const filteredEvents = parsedExtrinsic.events.reduce<{\n    e: ParsedEvent[];\n    currentBatch: number;\n  }>(\n    (acc, event) => {\n      if (acc.currentBatch === indexInBatch) acc.e.push(event);\n\n      if (event.section === 'system') {\n        acc.e.push(event);\n      } else if (event.section === 'utility' && event.method === 'ItemCompleted') {\n        acc.currentBatch++;\n      }\n\n      return acc;\n    },\n    {\n      e: [] as ParsedEvent[],\n      currentBatch: 0\n    }\n  );\n\n  const groupedEvents = groupEvents(filteredEvents.e);\n\n  return {\n    events: filteredEvents.e,\n    groupedEvents\n  };\n};","import { z } from 'zod';\nimport 'zod-openapi/extend';\nimport { zAddressString } from 'validation-schemas';\nimport { QueryEndpointConfig, SectionRoutesConfig } from './_types';\n\nconst getAccountNextIndex = new QueryEndpointConfig({\n  route: '/accounts/next_index',\n\n  schemaIn: z.object({ address: zAddressString }),\n  schemaOut: z.object({\n    nextIndex: z.number().openapi({ description: 'The next index of the account' })\n  })\n\n\n\n\n\n\n\n\n});\n\nexport const SystemRoutesConfig = {\n  extrinsics: {},\n  queries: {\n    getAccountNextIndex\n  }\n} satisfies SectionRoutesConfig;","import {z} from 'zod'\nimport {zCollectionIdOrAddress, zDecodedProperty, zPropertiesToEncode} from './collection'\nimport {zAddressString} from 'validation-schemas'\nimport {zTokenSchema, zTokenURI} from './token'\n\nexport const zRefungibleTokenQuery = z.object({\n  collectionId: zCollectionIdOrAddress.openapi({description: 'The ID of the collection.', example: 1}),\n  tokenId: z.coerce.number().int().positive().openapi({description: 'Token ID', example: 1}),\n})\n\nexport const zRefungibleToken = z.object({\n  tokenId: z.number().int().positive().openapi({description: 'Token ID', example: 1}),\n  collectionId: z.number().int().positive().openapi({description: 'Collection ID', example: 1}),\n  owners: z.array(zAddressString.openapi({description: 'The owner of the token.', example: '5GEuzsNk8HkjSDJi1EK91omheS476JAW2PhqrZJSiBrEVeLL'})),\n  pieces: z.number().positive().openapi({description: 'The number of pieces in the token.', example: 10_000}),\n  properties: z.array(zDecodedProperty),\n})\n\nexport type RefungibleToken = z.infer<typeof zRefungibleToken>\n\nexport const zRefungibleAccountBalanceQuery = z.object({\n  collectionId: zCollectionIdOrAddress.openapi({description: 'The ID of the collection.', example: 1}),\n  tokenId: z.coerce.number().int().positive().openapi({description: 'Token ID', example: 1}),\n  account: zAddressString.openapi({description: 'The owner of the token.', example: '5GEuzsNk8HkjSDJi1EK91omheS476JAW2PhqrZJSiBrEVeLL'}),\n})\n\nexport const zRefungibleAccountBalance = zRefungibleAccountBalanceQuery.extend({\n  collectionId: z.number().int().positive().openapi({description: 'The ID of the collection.', example: 1}),\n  balance: z.number().openapi({description: 'The number of pieces in the token.', example: 10_000}),\n})\n\nexport const zMintRefungibleToken = z.object({\n  collectionId: zCollectionIdOrAddress.openapi({description: 'The ID of the collection.', example: 1}),\n  owners: z\n    .array(\n      z.object({\n        address: zAddressString.optional(),\n        pieces: z.number().int().positive().openapi({description: 'The number of pieces in the token.', example: 10_000}),\n      }),\n    )\n    .openapi({description: 'The owners of the token.', example: [{address: '5GEuzsNk8HkjSDJi1EK91omheS476JAW2PhqrZJSiBrEVeLL', pieces: 10_000}]}),\n  properties: zPropertiesToEncode.optional().openapi({description: 'The properties of the token'}),\n  URI: zTokenURI,\n  data: zTokenSchema.optional().openapi({description: 'Token data'}),\n})\n\nexport const zMintMultipleRefungibleTokens = z.object({\n  collectionId: zCollectionIdOrAddress.openapi({description: 'The ID of the collection.', example: 1}),\n  tokens: z.array(\n    z.object({\n      owner: zAddressString.optional().openapi({description: 'The owner of the token.', example: '5GEuzsNk8HkjSDJi1EK91omheS476JAW2PhqrZJSiBrEVeLL'}),\n      data: zTokenSchema.optional().openapi({description: 'Token data'}),\n      pieces: z.number().int().positive().openapi({description: 'The number of pieces in the token.', example: 10_000}),\n      properties: zPropertiesToEncode.optional().openapi({description: 'The properties of the token'}),\n      URI: zTokenURI,\n    }),\n  ),\n})\n\nexport const zTransferRefungibleToken = z.object({\n  collectionId: zCollectionIdOrAddress.openapi({description: 'The ID of the collection.', example: 1}),\n  from: zAddressString.optional().openapi({description: 'The address of the sender.', example: '5GEuzsNk8HkjSDJi1EK91omheS476JAW2PhqrZJSiBrEVeLL'}),\n  to: zAddressString.openapi({description: 'The address of the recipient.', example: '5GEuzsNk8HkjSDJi1EK91omheS476JAW2PhqrZJSiBrEVeLL'}),\n  tokenId: z.coerce.number().int().positive().openapi({description: 'Token ID', example: 1}),\n  pieces: z.number().int().positive().openapi({description: 'The number of pieces in the token.', example: 10_000}),\n})\n\nexport const zBurnRefungibleToken = z.object({\n  collectionId: zCollectionIdOrAddress.openapi({description: 'The ID of the collection.', example: 1}),\n  tokenId: z.coerce.number().int().positive().openapi({description: 'Token ID', example: 1}),\n  from: zAddressString.optional().openapi({description: 'The address of the sender.', example: '5GEuzsNk8HkjSDJi1EK91omheS476JAW2PhqrZJSiBrEVeLL'}),\n  pieces: z.number().int().positive().openapi({description: 'The number of pieces in the token.', example: 5_000}),\n})\n\nexport const zBurnRefungibleTokenResult = z.object({\n  collectionId: z.number().int().positive().openapi({description: 'The ID of the collection.', example: 1}),\n  tokenId: z.number().int().positive().openapi({description: 'Token ID', example: 1}),\n  pieces: z.number().int().positive().openapi({description: 'The number of pieces in the token.', example: 5_000}),\n})\n\nexport const zUpdateRefungibleToken = z.object({\n  collectionId: zCollectionIdOrAddress.openapi({description: 'Collection ID or address', example: 1}),\n  tokenId: z.number().int().positive().openapi({description: 'Token ID', example: 1}),\n  data: zTokenSchema.pick({attributes: true, image: true, image_details: true}).optional().openapi({description: 'Token data'}),\n})\n","import { ExtrinsicEndpointsConfig, QueryEndpointConfig } from './_types';\nimport {\n  zMintMultipleRefungibleTokens,\n  zMintRefungibleToken,\n  zRefungibleAccountBalance,\n  zRefungibleAccountBalanceQuery,\n  zRefungibleToken,\n  zRefungibleTokenQuery } from\n'../schemas/refungible';\nimport { Methods } from '../methods';\nimport { Address } from '@unique-nft/utils/address';\nimport { TokenEvents } from '../schemas/events';\nimport { z } from 'zod';\nimport { encodeTokenProperties } from '../utils/token';\nimport { zAddressString } from 'validation-schemas';\n\nconst tags = ['Refungible'];\nconst endpointPrefix = '/refungible';\n\nconst getRefungibleToken = new QueryEndpointConfig({\n\n  route: `${endpointPrefix}`,\n  method: 'GET',\n  schemaIn: zRefungibleTokenQuery,\n  schemaOut: zRefungibleToken\n\n\n\n\n\n\n\n});\n\nconst getRefungibleAccountBalance = new QueryEndpointConfig({\n\n  route: `${endpointPrefix}/account-balance`,\n  method: 'GET',\n  schemaIn: zRefungibleAccountBalanceQuery,\n  schemaOut: zRefungibleAccountBalance\n\n\n\n\n\n\n\n});\n\nconst mintRefungibleToken = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/mint`,\n  schemaIn: zMintRefungibleToken,\n\n\n\n\n\n\n\n\n\n\n  schemaOut: zRefungibleToken\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst mintRefungibleTokens = new ExtrinsicEndpointsConfig({\n\n  route: `${endpointPrefix}/mint-multiple`,\n  schemaIn: zMintMultipleRefungibleTokens,\n  schemaOut: z.array(zRefungibleToken)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nexport const RefungibleRoutesConfig = {\n  queries: {\n    getRefungibleToken,\n    getRefungibleAccountBalance\n  },\n  extrinsics: {\n    mintRefungibleToken,\n    mintRefungibleTokens\n  }\n};","import { z } from 'zod';\nimport { QueryEndpointConfig, SectionRoutesConfig } from './_types';\nimport { zCollectionIdOrAddress } from '../schemas/collection';\nimport { decodeProperties } from '../utils/collection';\nimport { RawProperty } from '../schemas/types';\nimport { zParsedMetadata } from '../schemas/common';\n\nconst getTokenParsedMetadata = new QueryEndpointConfig({\n  route: '/utils/parsed-metadata',\n\n  schemaIn: z.object({\n    collectionId: zCollectionIdOrAddress.openapi({ description: 'Collection ID or address', example: 1 }),\n    tokenId: z.coerce.number().int().positive().openapi({ description: 'Token ID', example: 1 })\n  }),\n  schemaOut: zParsedMetadata\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nexport const UtilsRoutesConfig = {\n  queries: {\n    getTokenParsedMetadata\n  },\n  extrinsics: {}\n} satisfies SectionRoutesConfig;","import { ExtrinsicEndpointsConfig, QueryEndpointConfig, SectionRoutesConfig } from '../_types';\nimport { z } from 'zod';\nimport { ApiError, EventNotFoundInExtrinsicError } from '../../schemas/errors';\nimport {\n  zNftsCollectionDetails,\n  zPalletNftsCollectionQuery,\n  zNftsCollectionCreateArguments,\n  zNftsCollectionSettings,\n  zNftsMintSettings } from\n'../../schemas/palletNfts/collection';\nimport { Address } from '@unique-nft/utils/address';\nimport { queryCollectionDetails, queryCollectionsPaginated, queryNextCollectionId } from './_queries';\nimport { serializeCollectionSettings, serializeItemSettings, serializeNamespace } from './_utils';\nimport { zAddressString } from 'validation-schemas';\nimport { stringToHex } from '@polkadot/util';\nimport { zAttribute } from '../../schemas/palletNfts/attributes';\nimport { zPagination } from '../../schemas/common';\n\nconst getCollection = new QueryEndpointConfig({\n  route: '/pallet-nfts/collection/get',\n\n\n  schemaIn: zPalletNftsCollectionQuery,\n  schemaOut: zNftsCollectionDetails\n\n\n\n\n\n\n});\n\nconst getCollectionsPaginated = new QueryEndpointConfig({\n  route: '/pallet-nfts/collections',\n\n\n  schemaIn: zPagination,\n  schemaOut: z.object({\n    collections: z.array(zNftsCollectionDetails),\n    isLastPage: z.boolean()\n  })\n\n\n\n});\n\nconst getNextCollectionId = new QueryEndpointConfig({\n  route: '/pallet-nfts/collection/next-id',\n\n\n  schemaIn: z.object({}),\n  schemaOut: z.object({\n    nextCollectionId: z.number()\n  })\n\n\n\n\n\n\n\n});\n\nconst createCollection = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/collection/create',\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: zNftsCollectionCreateArguments.optional(),\n  schemaOut: zNftsCollectionDetails.extend({\n    creator: zAddressString\n  })\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\n\nconst destroyCollection = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/collection/destroy',\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().positive(),\n    witness: z.\n    object({\n      itemMetadatas: z.number().default(0),\n      itemConfigs: z.number().default(0),\n      attributes: z.number().default(0)\n    }).\n    default({})\n  }),\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaOut: z.object({\n    collectionId: z.number()\n  })\n});\n\nconst acceptCollectionOwnership = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/collection/accept-ownership',\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().positive().optional()\n  }),\n  schemaOut: z.object({\n    who: z.string(),\n    collectionId: z.number().optional()\n  })\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst transferCollectionOwnership = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/collection/transfer',\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().positive(),\n    newOwner: zAddressString\n  }),\n  schemaOut: zNftsCollectionDetails\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst lockNftsCollection = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/collection/lock',\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().positive(),\n    settings: zNftsCollectionSettings.partial().refine((settings) => Object.keys(settings).length > 0, { message: 'At least one setting must be changed' })\n  }),\n  schemaOut: zNftsCollectionDetails\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst updateMintSettings = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/collection/update-mint-settings',\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().positive(),\n    mintSettings: zNftsMintSettings.\n    partial().\n    refine((settings) => Object.keys(settings).length > 0, { message: 'At least one setting must be changed' }).\n    refine((settings) => settings.defaultItemSettings ? Object.keys(settings.defaultItemSettings).length > 0 : true, {\n      message: 'At least one default item setting must be changed'\n    })\n  }),\n  schemaOut: zNftsCollectionDetails\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst setMaxSupply = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/collection/set-max-supply',\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().positive(),\n    maxSupply: z.number().positive()\n  }),\n  schemaOut: zNftsCollectionDetails\n\n\n\n\n\n\n\n\n\n});\n\nconst setCollectionTeam = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/collection/set-team',\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().positive(),\n    issuer: zAddressString.optional(),\n    admin: zAddressString.optional(),\n    freezer: zAddressString.optional()\n  }),\n  schemaOut: zNftsCollectionDetails.extend({\n    role: z.object({\n      issuer: zAddressString.nullable(),\n      admin: zAddressString.nullable(),\n      freezer: zAddressString.nullable()\n    })\n  })\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst setCollectionAttribute = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/collection/set-attribute',\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().positive(),\n    attribute: zAttribute\n  }),\n  schemaOut: zNftsCollectionDetails\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst clearCollectionAttribute = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/collection/clear-attribute',\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().positive(),\n    attribute: zAttribute.omit({ value: true })\n  }),\n  schemaOut: zNftsCollectionDetails\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst setCollectionMetadata = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/collection/set-metadata',\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().positive(),\n    data: z.string()\n  }),\n  schemaOut: zNftsCollectionDetails\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst clearCollectionMetadata = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/collection/clear-metadata',\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().positive()\n  }),\n  schemaOut: zNftsCollectionDetails\n\n\n\n\n\n\n\n\n\n});\n\nexport const PalletNftsCollectionRoutesConfig = {\n  queries: {\n    getCollection,\n    getCollectionsPaginated,\n    getNextCollectionId\n  },\n  extrinsics: {\n    createCollection,\n    destroyCollection,\n    acceptCollectionOwnership,\n    transferCollectionOwnership,\n    setCollectionMetadata,\n    clearCollectionMetadata,\n    setCollectionAttribute,\n    clearCollectionAttribute,\n    lockNftsCollection,\n    updateMintSettings,\n    setMaxSupply,\n    setCollectionTeam\n  }\n} satisfies SectionRoutesConfig;","import {z} from 'zod'\nimport 'zod-openapi/extend'\nimport {zAddressString} from 'validation-schemas'\nimport {zAtBlockHash} from '../common'\nimport {zAttribute} from './attributes'\nimport {zUniversalLocationObject} from 'validation-schemas/xcmSchemas'\n\nexport const zNftsCollectionId = z.object({\n  collectionId: z.coerce.number().openapi({description: 'Collection ID', example: 1}),\n})\n\nexport const zPalletNftsCollectionQuery = z\n  .object({\n    collectionId: z.coerce.number().int().nonnegative().openapi({description: 'Collection ID', example: 1}),\n  })\n  .merge(zAtBlockHash)\n\nexport const zNftsCollectionSettings = z.object({\n  lockedTransferItems: z.boolean().openapi({description: 'Locked transfer items', example: false}),\n  lockedMetadata: z.boolean().openapi({description: 'Locked metadata', example: false}),\n  lockedAttributes: z.boolean().openapi({description: 'Locked attributes', example: false}),\n  lockedMaxSupply: z.boolean().openapi({description: 'Locked max supply', example: false}),\n})\n\nexport type NftsCreateCollectionSettings = z.infer<typeof zNftsCollectionSettings>\n\nconst zMintType = z.union([z.literal('Issuer'), z.literal('Public'), z.object({holderOf: z.number()})])\n\nconst zNftsItemSettings = z.object({\n  lockedTransfers: z.boolean().openapi({description: 'Locked transfers', example: false}),\n  lockedMetadata: z.boolean().openapi({description: 'Locked metadata', example: false}),\n  lockedAttributes: z.boolean().openapi({description: 'Locked attributes', example: false}),\n})\n\nexport type NftsItemSettings = z.infer<typeof zNftsItemSettings>\n\nexport const zNftsMintSettings = z.object({\n  mintType: zMintType.openapi({description: 'Mint type', example: 'Issuer'}),\n  price: z.string().or(z.number()).nullable().openapi({description: 'Price', example: '1000000000000000000000'}),\n  startBlock: z.number().nullable().openapi({description: 'Start block', example: 1}),\n  endBlock: z.number().nullable().openapi({description: 'End block', example: 1}),\n  defaultItemSettings: zNftsItemSettings.partial().optional().openapi({description: 'Default item settings'}),\n})\n\nexport type NftsMintSettings = z.infer<typeof zNftsMintSettings>\n\nexport const zNftsCreateCollectionConfig = z.object({\n  settings: zNftsCollectionSettings.optional().openapi({description: 'Collection settings'}),\n  maxSupply: z.number().optional().openapi({description: 'Max supply', example: 100}),\n  mintSettings: zNftsMintSettings.partial().optional().openapi({description: 'Mint settings'}),\n})\n\nexport const zNftsCollectionCreateArguments = z.object({\n  admin: zAddressString.optional(),\n  collectionConfig: zNftsCreateCollectionConfig.optional().openapi({description: 'Collection config'}),\n})\n\nexport const zCollectionCreateResult = z.object({\n  collectionId: z.number().openapi({description: 'Collection ID', example: 1}),\n  creator: z.string().openapi({description: 'Creator', example: '5GEuzsNk8HkjSDJi1EK91omheS476JAW2PhqrZJSiBrEVeLL'}),\n  owner: z.string().openapi({description: 'Owner', example: '5GEuzsNk8HkjSDJi1EK91omheS476JAW2PhqrZJSiBrEVeLL'}),\n})\n\nexport const zNftsCollectionConfig = z.object({\n  settings: zNftsCollectionSettings.optional().openapi({description: 'Collection settings'}),\n  maxSupply: z.number().nullable().openapi({description: 'Max supply', example: 100}),\n  mintSettings: zNftsMintSettings.partial().optional().openapi({description: 'Mint settings'}),\n})\n\nexport type NftsCollectionConfigResult = z.infer<typeof zNftsCollectionConfig>\n\nexport const zNftsCollectionRole = z.object({\n  issuer: z.boolean(),\n  admin: z.boolean(),\n  freezer: z.boolean(),\n})\n\nexport type NftsCollectionRole = z.infer<typeof zNftsCollectionRole>\n\nexport const zNftsCollectionLockResult = zNftsCollectionId.extend({})\n\nexport const zNftsCollectionMetadata = z.object({\n  deposit: z.string(),\n  data: z.string(),\n})\n\nexport type NftsCollectionMetadata = z.infer<typeof zNftsCollectionMetadata>\n\nexport const zNftsCollectionDetails = z.object({\n  collectionId: z.number().openapi({description: 'The ID of the collection', example: 0}),\n  owner: z.string().openapi({description: 'The owner of the collection', example: '5GEuzsNk8HkjSDJi1EK91omheS476JAW2PhqrZJSiBrEVeLL'}),\n  ownerDeposit: z.number().openapi({description: 'The owner deposit'}),\n  items: z.number().openapi({description: 'The number of items'}),\n  itemMetadatas: z.number().openapi({description: 'The number of item metadatas'}),\n  itemConfigs: z.number().openapi({description: 'The number of item configs'}),\n  attributes: z.array(zAttribute).openapi({description: 'Attributes of the collection'}),\n  metadata: zNftsCollectionMetadata.nullable().openapi({description: 'The collection metadata'}),\n  config: zNftsCollectionConfig.openapi({description: 'The collection config'}),\n  universalLocation: zUniversalLocationObject.nullable(),\n  isForeign: z.boolean().optional().openapi({description: 'Is foreign collection'}),\n  originalUniversalLocation: zUniversalLocationObject.nullable().openapi({description: 'Original collection universal location'}),\n})\n\nexport type NftsCollectionDetails = z.infer<typeof zNftsCollectionDetails>\n","import {z} from 'zod'\nimport 'zod-openapi/extend'\nimport {zSubstrateAddress} from 'validation-schemas'\n\n// excluding \"Account\" from the enum, because we assume valid address value to be \"Account\" by default\nexport enum AttributeNamespaceEnum {\n  pallet = 'pallet',\n  collectionOwner = 'collectionOwner',\n  itemOwner = 'itemOwner',\n}\n\nexport const zAttributeNamespace = z\n  .union([z.nativeEnum(AttributeNamespaceEnum), zSubstrateAddress])\n  .openapi({description: 'Namespace, which can be either a named namespace or an account address'})\n\nexport const zAttribute = z.object({\n  key: z.string().openapi({description: 'Attribute key'}),\n  value: z.string().openapi({description: 'Attribute value'}),\n  namespace: zAttributeNamespace,\n})\n\nexport type AttributeNamespace = z.output<typeof zAttributeNamespace>\nexport type Attribute = z.output<typeof zAttribute>\n\nexport const zGetAttributesQuery = z.object({\n  collectionId: z.coerce.number().nonnegative(),\n  itemId: z.coerce.number().nonnegative().optional(),\n  namespace: zAttributeNamespace,\n})\n\nexport type GetAttributesQuery = z.output<typeof zGetAttributesQuery>\n\nexport const zGetAttributeQuery = zGetAttributesQuery.extend({\n  key: z.string().openapi({description: 'Attribute key'}),\n})\n\nexport type GetAttributeQuery = z.output<typeof zGetAttributeQuery>\n","import {z} from 'zod'\nimport {zAttribute} from './attributes'\n\nconst zNftsItemPrice = z.object({\n  amount: z.string(),\n  buyer: z.string().nullable(),\n})\n\nexport type NftsItemPrice = z.infer<typeof zNftsItemPrice>\n\nconst zNftsItemSettings = z.object({\n  lockedTransfers: z.boolean(),\n  lockedMetadata: z.boolean(),\n  lockedAttributes: z.boolean(),\n})\n\nexport type NftsItemSettings = z.infer<typeof zNftsItemSettings>\n\nconst zNftsItemMetadata = z.object({\n  data: z.string(),\n  deposit: z.object({\n    account: z.string().nullable(),\n    amount: z.string(),\n  }),\n})\n\nexport type NftsItemMetadata = z.infer<typeof zNftsItemMetadata>\n\nconst zNftsTransferApproval = z.object({\n  delegate: z.string(),\n  deadlineBlock: z.number().optional(),\n})\n\nexport type NftsTransferApproval = z.infer<typeof zNftsTransferApproval>\n\nconst zNftsItemDeposit = z.object({\n  account: z.string(),\n  amount: z.string(),\n})\n\nexport type NftsItemDeposit = z.infer<typeof zNftsItemDeposit>\n\nexport const zNftsItem = z.object({\n  collectionId: z.number(),\n  itemId: z.number(),\n  owner: z.string(),\n  deposit: zNftsItemDeposit,\n  transferApprovals: z.array(zNftsTransferApproval),\n  metadata: zNftsItemMetadata.nullable(),\n  price: zNftsItemPrice.nullable(),\n  attributes: z.array(zAttribute),\n  settings: zNftsItemSettings.nullable(),\n})\n\nexport type NftsItem = z.infer<typeof zNftsItem>\n","import { Address } from '@unique-nft/utils/address';\nimport { zNftsItem } from '../../schemas/palletNfts/item';\nimport { zAddressString } from 'validation-schemas';\nimport { z } from 'zod';\nimport { EventNotFoundInExtrinsicError } from '../../schemas/errors';\nimport { zAttribute } from '../../schemas/palletNfts/attributes';\nimport { ExtrinsicEndpointsConfig, QueryEndpointConfig, SectionRoutesConfig } from '../_types';\nimport { queryItem } from './_queries';\n\nconst getItem = new QueryEndpointConfig({\n  route: '/pallet-nfts/items/get',\n\n\n  schemaIn: z.object({\n    collectionId: z.coerce.number().positive(),\n    itemId: z.coerce.number().positive()\n  }),\n  schemaOut: zNftsItem\n\n\n\n});\n\nconst mintItem = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/items/mint',\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().nonnegative(),\n    itemId: z.number().nonnegative(),\n    mintTo: zAddressString,\n    witnessData: z.\n    object({\n      ownedItemId: z.number().optional(),\n      mintPrice: z.number().optional()\n    }).\n    optional()\n  }),\n  schemaOut: zNftsItem\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst burnItem = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/items/burn',\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().positive(),\n    itemId: z.number().positive()\n  }),\n  schemaOut: z.any()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst approveItemAttributes = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/items/approve-attributes',\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().positive(),\n    itemId: z.number().positive(),\n    delegate: zAddressString\n  }),\n  schemaOut: z.any()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst approveItemTransfer = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/items/approve-transfer',\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().positive(),\n    itemId: z.number().positive(),\n    delegate: zAddressString,\n    deadline: z.number().positive().optional().openapi({ description: 'Transfer will be approved in next N blocks' })\n  }),\n  schemaOut: z.any()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst cancelItemTransferApproval = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/items/cancel-transfer-approval',\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().positive(),\n    itemId: z.number().positive(),\n    delegate: zAddressString\n  }),\n  schemaOut: z.object({\n    collectionId: z.number(),\n    itemId: z.number(),\n    owner: z.string(),\n    delegate: z.string()\n  })\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst clearAllTransferApprovals = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/items/clear-all-transfer-approvals',\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().positive(),\n    itemId: z.number().positive()\n  }),\n  schemaOut: z.object({\n    collectionId: z.number(),\n    itemId: z.number()\n  })\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst setItemAttribute = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/items/set-attribute',\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().positive(),\n    itemId: z.number().positive(),\n    attribute: zAttribute\n  }),\n  schemaOut: zNftsItem\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst clearItemAttribute = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/items/clear-attribute',\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().positive(),\n    itemId: z.number().positive(),\n    attribute: zAttribute\n  }),\n  schemaOut: zNftsItem\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst setItemMetadata = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/items/set-metadata',\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().positive(),\n    itemId: z.number().positive(),\n    data: z.string()\n  }),\n  schemaOut: zNftsItem\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst clearItemMetadata = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/items/clear-metadata',\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().positive(),\n    itemId: z.number().positive()\n  }),\n  schemaOut: zNftsItem\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst cancelItemAttributesApproval = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/items/cancel-attributes-approval',\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().positive(),\n    itemId: z.number().positive(),\n    delegate: zAddressString\n  }),\n  schemaOut: z.object({\n    collectionId: z.number(),\n    itemId: z.number(),\n    owner: z.string(),\n    delegate: z.string()\n  })\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst lockItemTransfer = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/items/lock-transfer',\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().positive(),\n    itemId: z.number().positive()\n  }),\n  schemaOut: z.object({\n    collectionId: z.number(),\n    itemId: z.number()\n  })\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst unlockItemTransfer = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/items/unlock-transfer',\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().positive(),\n    itemId: z.number().positive()\n  }),\n  schemaOut: z.object({\n    collectionId: z.number(),\n    itemId: z.number()\n  })\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst transferItem = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/items/transfer',\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().positive(),\n    itemId: z.number().positive(),\n    to: zAddressString\n  }),\n  schemaOut: zNftsItem\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst lockItemPropertiesIn = z.object({\n  collectionId: z.number().positive(),\n  itemId: z.number().positive(),\n  lockMetadata: z.boolean().optional().openapi({ description: 'Lock metadata, default: false' }),\n  lockAttributes: z.boolean().optional().openapi({ description: 'Lock attributes, default: false' })\n});\n\nconst lockItemProperties = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/items/lock-properties',\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: lockItemPropertiesIn,\n  schemaOut: lockItemPropertiesIn\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nexport const PalletNftsItemRoutesConfig = {\n  queries: {\n    getItem\n  },\n  extrinsics: {\n    mintItem,\n    burnItem,\n    approveItemAttributes,\n    approveItemTransfer,\n    cancelItemTransferApproval,\n    clearAllTransferApprovals,\n    cancelItemAttributesApproval,\n    lockItemProperties,\n    setItemAttribute,\n    clearItemAttribute,\n    setItemMetadata,\n    clearItemMetadata,\n    transferItem,\n    lockItemTransfer,\n    unlockItemTransfer\n  }\n} satisfies SectionRoutesConfig;","import { UtfHelpers } from '@unique-nft/utils/string';\nimport { z } from 'zod';\nimport 'zod-openapi/extend';\nimport { ExtrinsicEndpointsConfig, QueryEndpointConfig, SectionRoutesConfig } from '../_types';\nimport { zAttribute, zAttributeNamespace } from '../../schemas/palletNfts/attributes';\nimport { deserializeNamespace, serializeNamespace } from './_utils';\nimport { EventNotFoundInExtrinsicError } from '../../schemas/errors';\nimport { queryAttributes, queryAttribute, queryAttributesAllNamespaces } from './_queries';\n\nconst getAttribute = new QueryEndpointConfig({\n  route: '/pallet-nfts/attribute',\n\n\n  schemaIn: z.object({\n    collectionId: z.coerce.number().positive(),\n    itemId: z.coerce.number().positive().optional(),\n    namespace: zAttributeNamespace,\n    key: z.string()\n  }),\n  schemaOut: z.object({\n    collectionId: z.number().positive(),\n    itemId: z.number().positive().optional(),\n    attribute: zAttribute.nullable()\n  })\n\n\n\n\n\n});\n\nconst getAttributes = new QueryEndpointConfig({\n  route: '/pallet-nfts/attributes',\n\n\n  schemaIn: z.object({\n    collectionId: z.coerce.number().positive(),\n    itemId: z.coerce.number().positive().optional(),\n    namespace: zAttributeNamespace.optional()\n  }),\n  schemaOut: z.any()\n\n\n\n\n\n\n\n});\n\nconst zSetAttributeIn = z.object({\n  collectionId: z.number().positive(),\n  itemId: z.number().positive().optional(),\n  attribute: zAttribute\n});\n\nconst setAttribute = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/set-attribute',\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: zSetAttributeIn,\n  schemaOut: zSetAttributeIn\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst zClearAttributeIn = z.object({\n  collectionId: z.number().positive(),\n  itemId: z.number().positive().optional(),\n  attribute: zAttribute.omit({ value: true })\n});\n\nconst clearAttribute = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/clear-attribute',\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: zClearAttributeIn,\n  schemaOut: zClearAttributeIn\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nexport const PalletNftsAttributesRoutesConfig = {\n  queries: {\n    getAttribute,\n    getAttributes\n  },\n  extrinsics: {\n    setAttribute,\n    clearAttribute\n  }\n} satisfies SectionRoutesConfig;","import { z } from 'zod';\nimport { zAddressString } from 'validation-schemas';\nimport type { Option, u32 } from '@polkadot/types-codec';\nimport { QueryEndpointConfig, SectionRoutesConfig } from '../_types';\nimport { queryAccountCollectionIds, queryAccountItemIds, queryCollectionRole, queryIsCollectionOwner } from './_queries';\nimport { zNftsCollectionRole } from '../../schemas/palletNfts/collection';\n\nconst getAccountCollections = new QueryEndpointConfig({\n  route: '/pallet-nfts/account/collections',\n\n\n  schemaIn: z.object({\n    account: zAddressString\n  }),\n  schemaOut: z.object({\n    account: zAddressString,\n    collections: z.number().array()\n  })\n\n\n\n\n\n});\n\nconst getCollectionOwnershipAcceptance = new QueryEndpointConfig({\n  route: '/pallet-nfts/account/ownership-acceptance',\n\n\n  schemaIn: z.object({\n    account: zAddressString\n  }),\n  schemaOut: z.object({\n    collectionId: z.number().nullable()\n  })\n\n\n\n\n\n\n\n});\n\nconst getCollectionRole = new QueryEndpointConfig({\n  route: '/pallet-nfts/account/collection-role',\n\n\n  schemaIn: z.object({\n    collectionId: z.coerce.number(),\n    account: zAddressString\n  }),\n  schemaOut: zNftsCollectionRole.extend({\n    owner: z.boolean()\n  })\n\n\n\n\n\n\n\n\n\n});\n\nconst getAccountItems = new QueryEndpointConfig({\n  route: '/pallet-nfts/account/items',\n\n\n  schemaIn: z.object({\n    account: zAddressString,\n    collectionId: z.coerce.number().int().nonnegative().openapi({ description: 'Collection ID', example: 1 })\n  }),\n  schemaOut: z.array(z.object({\n    collectionId: z.number(),\n    tokenId: z.number(),\n    original: z.object({\n      collectionId: z.number(),\n      tokenId: z.number()\n    }).optional()\n  }))\n\n\n\n});\n\nexport const PalletNftsAccountRoutesConfig = {\n  queries: {\n    getAccountCollections,\n    getAccountItems,\n    getCollectionOwnershipAcceptance,\n    getCollectionRole\n  },\n  extrinsics: {}\n} satisfies SectionRoutesConfig;","import { z } from 'zod';\nimport { QueryEndpointConfig, SectionRoutesConfig } from '../_types';\nimport { queryLittleEndian } from './_queries';\n\nconst getPalletVersion = new QueryEndpointConfig({\n  route: '/pallet-nfts/common/pallet-version',\n\n\n  schemaIn: z.object({}),\n  schemaOut: z.object({\n    version: z.number().openapi({ description: 'The version of the NFTs pallet' })\n  })\n\n\n\n\n\n});\n\nconst getNextCollectionId = new QueryEndpointConfig({\n  route: '/pallet-nfts/common/next-collection-id',\n\n\n  schemaIn: z.object({}),\n  schemaOut: z.object({\n    nextCollectionId: z.number().openapi({ description: 'The next collection id that is going to be used' })\n  })\n\n\n\n\n\n});\n\nexport const PalletNftsCommonRoutesConfig = {\n  queries: {\n    getNextCollectionId,\n    getPalletVersion\n  },\n  extrinsics: {}\n} satisfies SectionRoutesConfig;","import { ExtrinsicEndpointsConfig, SectionRoutesConfig } from '../_types';\nimport { EventNotFoundInExtrinsicError } from '../../schemas/errors';\nimport { z } from 'zod';\nimport { zAddressString } from 'validation-schemas';\nimport { Address } from '@unique-nft/utils/address';\n\nconst setPrice = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/items/set-price',\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().positive(),\n    itemId: z.number().positive(),\n    price: z.union([z.number().positive(), z.string()]).nullable().optional(),\n    buyer: zAddressString.optional()\n  }),\n  schemaOut: z.any()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst buyItem = new ExtrinsicEndpointsConfig({\n  route: '/pallet-nfts/items/buy',\n\n\n\n\n\n\n\n\n\n\n\n\n\n  schemaIn: z.object({\n    collectionId: z.number().positive(),\n    itemId: z.number().positive(),\n    bidPrice: z.union([z.number().positive(), z.string().regex(/^\\d+$/)])\n  }),\n  schemaOut: z.object({\n    collectionId: z.number(),\n    itemId: z.number(),\n    price: z.string(),\n    seller: z.string(),\n    buyer: z.string()\n  })\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nexport const PalletNftsTradesRoutesConfig = {\n  queries: {},\n  extrinsics: {\n    setPrice,\n    buyItem\n  }\n} satisfies SectionRoutesConfig;","import { z } from 'zod';\nimport { zCollectionIdOrAddress } from '../../schemas/collection';\nimport { QueryEndpointConfig, SectionRoutesConfig } from '../_types';\nimport { queryItemMetadata } from './_queries';\n\nconst getTokenParsedMetadata = new QueryEndpointConfig({\n  route: '/pallet-nfts/utils/parsed-metadata',\n\n  schemaIn: z.object({\n    collectionId: zCollectionIdOrAddress.openapi({ description: 'Collection ID or address', example: 1 }),\n    tokenId: z.coerce.number().int().positive().openapi({ description: 'Token ID', example: 1 })\n  }),\n  schemaOut: z.any()\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nexport const PalletNftsUtilsRoutesConfig = {\n  queries: {\n    getTokenParsedMetadata\n  },\n  extrinsics: {}\n} satisfies SectionRoutesConfig;","import {zAddressString} from 'validation-schemas'\nimport {z} from 'zod'\nimport {zUniquesAttribute, zUniquesMetadata} from './attributes'\n\nexport const zUniquesItem = z.object({\n  itemId: z.coerce.number().int().openapi({description: 'Item ID', example: 0}),\n  collectionId: z.coerce.number().int().openapi({description: 'Collection ID', example: 0}),\n  owner: z.string().openapi({description: 'The owner of the item'}),\n  approved: z.string().nullable().openapi({description: 'Approved address'}),\n  isFrozen: z.boolean().openapi({description: 'Whether the item is frozen'}),\n  deposit: z.number().openapi({description: 'The deposit of the item'}),\n})\n\nexport const zUniquesItemDetails = zUniquesItem.extend({\n  metadata: zUniquesMetadata.nullable().openapi({description: 'The metadata of the item'}),\n  attributes: z.array(zUniquesAttribute),\n})\n\nexport type UniquesItemDetails = z.output<typeof zUniquesItemDetails>\n\nexport const zUniquesItemsQuery = z.object({\n  collectionId: z.coerce.number().int().openapi({description: 'Collection ID', example: 0}),\n  itemId: z.coerce.number().int().openapi({description: 'Item ID', example: 0}),\n})\n\nexport type UniquesItemQuery = z.output<typeof zUniquesItemsQuery>\n\nexport const zUniquesCollectionItemsQuery = zUniquesItemsQuery.omit({itemId: true})\n\nexport type UniquesCollectionItemsQuery = z.output<typeof zUniquesCollectionItemsQuery>\n\nexport const zUniquesMintItem = zUniquesItemsQuery.extend({\n  owner: zAddressString.openapi({description: 'The owner of the item', example: '5GEuzsNk8HkjSDJi1EK91omheS476JAW2PhqrZJSiBrEVeLL'}),\n})\n\nexport const zUniquesItemMetadataQuery = zUniquesItemsQuery\n\nexport type UniquesItemMetadataQuery = z.output<typeof zUniquesItemMetadataQuery>\n\nexport const zUniquesCollectionMetadataQuery = zUniquesItemsQuery.omit({itemId: true})\n\nexport type UniquesCollectionMetadataQuery = z.output<typeof zUniquesCollectionMetadataQuery>\n\nexport const zUniquesTransferItem = zUniquesItemsQuery.extend({\n  newOwner: zAddressString.openapi({description: 'The new owner of the item', example: '5GEuzsNk8HkjSDJi1EK91omheS476JAW2PhqrZJSiBrEVeLL'}),\n  oldOwner: zAddressString.optional().openapi({description: 'The old owner of the item', example: '5GEuzsNk8HkjSDJi1EK91omheS476JAW2PhqrZJSiBrEVeLL'}),\n})\n\nexport const zUniquesBurnItemQuery = zUniquesItemsQuery.extend({\n  checkOwner: zAddressString.optional().openapi({description: 'The owner of the item', example: '5GEuzsNk8HkjSDJi1EK91omheS476JAW2PhqrZJSiBrEVeLL'}),\n})\n","import {z} from 'zod'\n\nexport const zUniquesGetCollectionAttributesIn = z.object({\n  collectionId: z.coerce.number().openapi({description: 'The ID of the collection.'}),\n})\n\nexport const zUniquesItemAttributesIn = z.object({\n  collectionId: z.coerce.number().openapi({description: 'The ID of the collection.'}),\n  itemId: z.coerce.number().openapi({description: 'The ID of the asset.'}),\n})\n\nconst zAttributesIn = z.object({\n  collectionId: z.coerce.number().openapi({description: 'The ID of the collection.'}),\n  itemId: z.coerce.number().optional().openapi({description: 'The ID of the item.'}),\n})\n\nexport type GetUniquesAttributesQuery = z.output<typeof zAttributesIn>\n\nexport const zUniquesAttribute = z.object({\n  key: z.string().openapi({description: 'Attribute key'}),\n  value: z.string().nullable().openapi({description: 'Attribute value'}),\n})\n\nexport const zUniquesGetAttribute = z.object({\n  collectionId: z.coerce.number().openapi({description: 'The ID of the collection.'}),\n  itemId: z.coerce.number().optional().openapi({description: 'The ID of the item.'}),\n  attributeKey: z.string().openapi({description: 'The key of the attribute.'}),\n})\n\nexport type GetUniquesAttributeQuery = z.output<typeof zUniquesGetAttribute>\n\nexport type UniquesAttribute = z.infer<typeof zUniquesAttribute>\n\nexport const zUniquesSetAttributeIn = z.object({\n  collectionId: z.coerce.number().openapi({description: 'The ID of the collection.'}),\n  itemId: z.coerce.number().optional().openapi({description: 'The ID of the item.'}),\n  attribute: z.object({\n    key: z.string().openapi({description: 'The key of the attribute.'}),\n    value: z.string().openapi({description: 'The value of the attribute.'}),\n  }),\n})\n\nexport const zUniquesClearAttributeIn = z.object({\n  collectionId: z.coerce.number().openapi({description: 'The ID of the collection.'}),\n  itemId: z.coerce.number().optional().openapi({description: 'The ID of the item.'}),\n  attributeKey: z.string().openapi({description: 'The key of the attribute.'}),\n})\n\nexport const zUniquesSetCollectionMetadataIn = z.object({\n  collectionId: z.coerce.number().openapi({description: 'The ID of the collection.'}),\n  data: z.string().openapi({description: 'The metadata of the collection.'}),\n  isFrozen: z.boolean().optional().default(false).openapi({description: 'Whether the collection is frozen.'}),\n})\n\nexport const zUniquesMetadata = z.object({\n  data: z.string().openapi({description: 'The metadata of the collection.'}),\n  isFrozen: z.boolean().optional().default(false).openapi({description: 'Whether the collection is frozen.'}),\n  deposit: z.string().openapi({description: 'The deposit of the collection.'}),\n})\n\nexport type Metadata = z.output<typeof zUniquesMetadata>\n\nexport const zUniquesSetItemMetadataIn = zUniquesSetCollectionMetadataIn.extend({\n  itemId: z.coerce.number().openapi({description: 'The ID of the item.'}),\n})\n\nexport const zUniquesClearCollectionMetadataIn = z.object({\n  collectionId: z.coerce.number().openapi({description: 'The ID of the collection.'}),\n})\n\nexport const zUniquesClearItemMetadataIn = zUniquesClearCollectionMetadataIn.extend({\n  itemId: z.coerce.number().openapi({description: 'The ID of the item.'}),\n})\n","import {zAddressString} from 'validation-schemas'\nimport {z} from 'zod'\nimport {zUniquesAttribute, zUniquesMetadata} from './attributes'\nimport {zUniversalLocationObject} from 'validation-schemas/xcmSchemas'\n\nexport const zUniquesCollectionQuery = z.object({\n  collectionId: z.coerce.number().int().openapi({description: 'Collection ID', example: 0}),\n})\n\nexport type UniquesCollectionQuery = z.infer<typeof zUniquesCollectionQuery>\n\nexport const zUniquesCreateCollectionQuery = zUniquesCollectionQuery.extend({\n  collectionId: z.coerce.number().int().optional().openapi({description: 'Collection ID', example: 0}),\n  admin: zAddressString,\n})\n\nexport const zUniquesTransferCollectionQuery = zUniquesCollectionQuery.extend({\n  newOwner: zAddressString,\n})\n\nexport const zUniquesCollectionDetails = z.object({\n  collectionId: z.coerce.number().int().openapi({description: 'Collection ID', example: 0}),\n  owner: z.string().openapi({description: 'The owner of the collection.'}),\n  issuer: z.string().openapi({description: 'The issuer of the collection.'}),\n  admin: z.string().openapi({description: 'The admin of the collection.'}),\n  freezer: z.string().openapi({description: 'The freezer of the collection.'}),\n  totalDeposit: z.number().openapi({description: 'The total deposit of the collection.'}),\n  freeHolding: z.boolean().openapi({description: 'Whether the collection is free-holding.'}),\n  items: z.number().openapi({description: 'The number of items in the collection.'}),\n  itemMetadatas: z.number().openapi({description: 'The number of item metadatas in the collection.'}),\n  isFrozen: z.boolean().openapi({description: 'Whether the collection is frozen.'}),\n  maxSupply: z.coerce.number().int().openapi({description: 'Max supply', example: 0}),\n  attributes: z.array(zUniquesAttribute),\n  metadata: zUniquesMetadata.nullable().openapi({description: 'The metadata of the collection.'}),\n  universalLocation: zUniversalLocationObject.nullable().openapi({description: 'The universal location of the collection'}),\n})\n\nexport type UniquesCollectionDetails = z.infer<typeof zUniquesCollectionDetails>\n","import { Address } from '@unique-nft/utils';\nimport { ApiError, EventNotFoundInExtrinsicError } from '../../schemas/errors';\nimport { zUniquesItem, zUniquesCollectionItemsQuery } from '../../schemas/palletUniques/item';\nimport {\n  zUniquesAttribute,\n  zUniquesClearAttributeIn,\n  zUniquesClearCollectionMetadataIn,\n  zUniquesGetCollectionAttributesIn,\n  zUniquesSetAttributeIn,\n  zUniquesSetCollectionMetadataIn } from\n'../../schemas/palletUniques/attributes';\nimport {\n  zUniquesCollectionDetails,\n  zUniquesCollectionQuery,\n  zUniquesCreateCollectionQuery,\n  zUniquesTransferCollectionQuery } from\n'../../schemas/palletUniques/collection';\nimport { z } from 'zod';\nimport { ExtrinsicEndpointsConfig, QueryEndpointConfig } from '../_types';\nimport {\n  findFreeCollectionId,\n  queryAttributes,\n  queryCollectionItems,\n  queryCollectionDetails,\n  queryCollectionsPaginated } from\n'./_queries';\nimport { zAddressString } from 'validation-schemas';\nimport { zPagination } from '../../schemas/common';\n\n\nconst getFreeCollectionId = new QueryEndpointConfig({\n  route: '/pallet-uniques/collection/free-id',\n\n\n  schemaIn: z.object({}),\n  schemaOut: z.object({\n    freeCollectionId: z.number()\n  })\n\n\n\n\n\n});\n\nconst createCollection = new ExtrinsicEndpointsConfig({\n  route: '/pallet-uniques/collection/create',\n\n\n\n  schemaIn: zUniquesCreateCollectionQuery,\n  schemaOut: zUniquesCollectionDetails.extend({\n    creator: zAddressString\n  })\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst destroyCollection = new ExtrinsicEndpointsConfig({\n  route: '/pallet-uniques/collection/destroy',\n\n\n\n  schemaIn: zUniquesCollectionQuery.extend({\n    witness: z.\n    object({\n      itemMetadatas: z.number().default(0),\n      itemConfigs: z.number().default(0),\n      attributes: z.number().default(0)\n    }).\n    default({})\n  }),\n  schemaOut: zUniquesCollectionQuery\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst freezeCollection = new ExtrinsicEndpointsConfig({\n  route: '/pallet-uniques/collection/freeze',\n\n\n\n  schemaIn: zUniquesCollectionQuery,\n  schemaOut: zUniquesCollectionDetails\n\n\n\n\n\n\n\n\n\n});\n\nconst thawCollection = new ExtrinsicEndpointsConfig({\n  route: '/pallet-uniques/collection/thaw',\n\n\n\n  schemaIn: zUniquesCollectionQuery,\n  schemaOut: zUniquesCollectionDetails\n\n\n\n\n\n\n\n\n\n});\n\nconst setCollectionAttribute = new ExtrinsicEndpointsConfig({\n  route: '/pallet-uniques/collection/set-attribute',\n\n\n\n\n\n\n  schemaIn: zUniquesSetAttributeIn.omit({ itemId: true }),\n  schemaOut: zUniquesCollectionDetails\n\n\n\n\n\n\n\n\n\n});\n\nconst clearCollectionAttribute = new ExtrinsicEndpointsConfig({\n  route: '/pallet-uniques/collection/clear-attribute',\n\n\n\n\n\n\n  schemaIn: zUniquesClearAttributeIn.omit({ itemId: true }),\n  schemaOut: zUniquesCollectionDetails\n\n\n\n\n\n\n\n\n\n});\n\nconst setCollectionMetadata = new ExtrinsicEndpointsConfig({\n  route: '/pallet-uniques/collection/set-metadata',\n\n\n\n\n\n\n  schemaIn: zUniquesSetCollectionMetadataIn,\n  schemaOut: zUniquesCollectionDetails\n\n\n\n\n\n\n\n\n\n});\n\nconst clearCollectionMetadata = new ExtrinsicEndpointsConfig({\n  route: '/pallet-uniques/collection/clear-metadata',\n\n\n\n\n\n\n  schemaIn: zUniquesClearCollectionMetadataIn,\n  schemaOut: zUniquesCollectionDetails\n\n\n\n\n\n\n\n\n\n});\n\nconst transferCollection = new ExtrinsicEndpointsConfig({\n  route: '/pallet-uniques/collection/transfer',\n\n\n\n  schemaIn: zUniquesTransferCollectionQuery,\n  schemaOut: zUniquesCollectionDetails\n\n\n\n\n\n\n\n\n\n});\n\nconst getCollection = new QueryEndpointConfig({\n  route: '/pallet-uniques/collection/get',\n\n\n  schemaIn: zUniquesCollectionQuery,\n  schemaOut: zUniquesCollectionDetails\n\n\n\n});\n\nconst getCollectionsPaginated = new QueryEndpointConfig({\n  route: '/pallet-uniques/collections',\n\n\n  schemaIn: zPagination,\n  schemaOut: z.object({\n    collections: z.array(zUniquesCollectionDetails),\n    isLastPage: z.boolean()\n  })\n\n\n\n});\n\nconst getCollectionAttributes = new QueryEndpointConfig({\n  route: '/pallet-uniques/collection/attributes',\n\n\n  schemaIn: zUniquesGetCollectionAttributesIn,\n  schemaOut: z.object({\n    collectionId: z.number(),\n    attributes: z.array(zUniquesAttribute)\n  })\n\n\n\n\n});\n\nconst getCollectionItems = new QueryEndpointConfig({\n  route: '/pallet-uniques/collection/items',\n\n\n  schemaIn: zUniquesCollectionItemsQuery,\n  schemaOut: z.object({\n    collectionId: z.number(),\n    items: z.array(\n      z.object({\n        itemId: z.number(),\n        details: zUniquesItem\n      })\n    )\n  })\n\n\n\n\n\n\n\n\n});\n\nexport const PalletUniquesCollectionRoutesConfig = {\n  extrinsics: {\n    createCollection,\n    setCollectionAttribute,\n    clearCollectionAttribute,\n    setCollectionMetadata,\n    clearCollectionMetadata,\n    transferCollection,\n    destroyCollection,\n    freezeCollection,\n    thawCollection\n  },\n  queries: {\n    getFreeCollectionId,\n    getCollection,\n    getCollectionsPaginated,\n    getCollectionAttributes,\n    getCollectionItems\n  }\n};","import {\n  zUniquesItemAttributesIn,\n  zUniquesAttribute,\n  zUniquesSetAttributeIn,\n  zUniquesSetItemMetadataIn,\n  zUniquesClearAttributeIn,\n  zUniquesClearItemMetadataIn } from\n'../../schemas/palletUniques/attributes';\nimport { ExtrinsicEndpointsConfig, QueryEndpointConfig } from '../_types';\nimport { queryItem, queryAttributes } from './_queries';\nimport { zUniquesItemDetails, zUniquesItemsQuery, zUniquesBurnItemQuery, zUniquesMintItem, zUniquesTransferItem } from '../../schemas/palletUniques/item';\nimport { z } from 'zod';\nimport { EventNotFoundInExtrinsicError } from '../../schemas/errors';\n\nconst mintItem = new ExtrinsicEndpointsConfig({\n  route: '/pallet-uniques/item/mint',\n\n\n\n  schemaIn: zUniquesMintItem,\n  schemaOut: zUniquesItemDetails\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst transferItem = new ExtrinsicEndpointsConfig({\n  route: '/pallet-uniques/item/transfer',\n\n\n\n  schemaIn: zUniquesTransferItem,\n  schemaOut: zUniquesItemDetails\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst freezeItem = new ExtrinsicEndpointsConfig({\n  route: '/pallet-uniques/item/freeze',\n\n\n\n  schemaIn: zUniquesBurnItemQuery,\n  schemaOut: zUniquesItemDetails\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst thawItem = new ExtrinsicEndpointsConfig({\n  route: '/pallet-uniques/item/thaw',\n\n\n\n  schemaIn: zUniquesBurnItemQuery,\n  schemaOut: zUniquesItemDetails\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst burnItem = new ExtrinsicEndpointsConfig({\n  route: '/pallet-uniques/item/burn',\n\n\n\n  schemaIn: zUniquesBurnItemQuery,\n  schemaOut: z.object({\n    collectionId: z.number(),\n    itemId: z.number()\n  })\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst setItemAttribute = new ExtrinsicEndpointsConfig({\n  route: '/pallet-uniques/item/set-attribute',\n\n\n\n\n\n\n  schemaIn: zUniquesSetAttributeIn.extend({\n    itemId: z.coerce.number().openapi({ description: 'The ID of the item.' })\n  }),\n  schemaOut: zUniquesItemDetails\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst setItemMetadata = new ExtrinsicEndpointsConfig({\n  route: '/pallet-uniques/item/set-metadata',\n\n\n\n\n\n\n  schemaIn: zUniquesSetItemMetadataIn,\n  schemaOut: zUniquesItemDetails\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst clearItemAttribute = new ExtrinsicEndpointsConfig({\n  route: '/pallet-uniques/item/clear-attribute',\n\n\n\n\n\n\n  schemaIn: zUniquesClearAttributeIn.required({ itemId: true }),\n  schemaOut: zUniquesItemDetails\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst clearItemMetadata = new ExtrinsicEndpointsConfig({\n  route: '/pallet-uniques/item/clear-metadata',\n\n\n\n\n\n\n  schemaIn: zUniquesClearItemMetadataIn,\n  schemaOut: zUniquesItemDetails\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst getItem = new QueryEndpointConfig({\n  route: '/pallet-uniques/item/get',\n\n\n  schemaIn: zUniquesItemsQuery,\n  schemaOut: zUniquesItemDetails\n\n\n\n});\n\nconst getItemAttributes = new QueryEndpointConfig({\n  route: '/pallet-uniques/item/attributes',\n\n\n  schemaIn: zUniquesItemAttributesIn,\n  schemaOut: z.object({\n    itemId: z.number(),\n    attributes: z.array(zUniquesAttribute)\n  })\n\n\n\n\n\n\n\n\n});\n\nexport const PalletUniquesItemRoutesConfig = {\n  extrinsics: {\n    mintItem,\n    burnItem,\n    transferItem,\n    freezeItem,\n    thawItem,\n    setItemAttribute,\n    clearItemAttribute,\n    setItemMetadata,\n    clearItemMetadata\n  },\n  queries: {\n    getItem,\n    getItemAttributes\n  }\n};","import {zAddressString} from 'validation-schemas'\nimport {z} from 'zod'\n\nexport const zUniquesAccountCollections = z.object({\n  account: zAddressString.openapi({description: 'The ID of the account', example: '5GEuzsNk8HkjSDJi1EK91omheS476JAW2PhqrZJSiBrEVeLL'}),\n  collections: z.array(z.number().openapi({description: 'The ID of the collection'})),\n})\n\nexport const zUniquesAccountCollectionsQuery = z.object({\n  address: z.string().openapi({description: 'The ID of the account', example: '5GEuzsNk8HkjSDJi1EK91omheS476JAW2PhqrZJSiBrEVeLL'}),\n})\n\nexport type UniquesAccountCollectionQuery = z.output<typeof zUniquesAccountCollectionsQuery>\n\nexport const zUniquesAccountItems = z.object({\n  account: zAddressString.openapi({description: 'The ID of the account', example: '5GEuzsNk8HkjSDJi1EK91omheS476JAW2PhqrZJSiBrEVeLL'}),\n  items: z.array(z.number().openapi({description: 'The ID of the asset'})),\n})\n\nexport const zUniquesAccountItemsQuery = z.object({\n  address: z.string().openapi({description: 'The ID of the account', example: '5GEuzsNk8HkjSDJi1EK91omheS476JAW2PhqrZJSiBrEVeLL'}),\n  collectionId: z.coerce.number().int().openapi({description: 'Collection ID', example: 0}),\n})\n\nexport const zUniquesAccountAcceptOwnerQuery = z.object({\n  collectionId: z.coerce.number().int().optional().openapi({description: 'Collection ID', example: 0}),\n})\n\nexport type UniquesAccountItemsQuery = z.output<typeof zUniquesAccountItemsQuery>\n","import {\n  zUniquesAccountAcceptOwnerQuery,\n  zUniquesAccountItems,\n  zUniquesAccountItemsQuery,\n  zUniquesAccountCollections,\n  zUniquesAccountCollectionsQuery } from\n'../../schemas/palletUniques/account';\nimport { ExtrinsicEndpointsConfig, QueryEndpointConfig } from '../_types';\nimport { queryAccountItemIds, queryAccountCollectionIds } from './_queries';\nimport { EventNotFoundInExtrinsicError } from '../../schemas/errors';\nimport { Address } from '@unique-nft/utils';\nimport { zAddressString } from 'validation-schemas';\nimport { z } from 'zod';\n\nconst acceptCollectionOwnership = new ExtrinsicEndpointsConfig({\n  route: '/pallet-uniques/account/accept-collection-ownership',\n\n\n\n\n\n\n  schemaIn: zUniquesAccountAcceptOwnerQuery,\n  schemaOut: z.object({\n    collectionId: z.number().nullable(),\n    account: zAddressString\n  })\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst getAccountCollectionIds = new QueryEndpointConfig({\n  route: '/pallet-uniques/account/collections',\n\n\n  schemaIn: zUniquesAccountCollectionsQuery,\n  schemaOut: zUniquesAccountCollections\n\n\n\n\n\n\n\n\n});\n\nconst getAccountItemIds = new QueryEndpointConfig({\n  route: '/pallet-uniques/account/items',\n\n\n  schemaIn: zUniquesAccountItemsQuery,\n  schemaOut: zUniquesAccountItems\n\n\n\n\n\n\n\n\n});\n\nexport const PalletUniquesAccountRoutesConfig = {\n  extrinsics: {\n    acceptCollectionOwnership\n  },\n  queries: {\n    getAccountCollectionIds,\n    getAccountItemIds\n  }\n};","import {\n  zUniquesAttribute,\n  zUniquesClearAttributeIn,\n  zUniquesGetAttribute,\n  zUniquesSetAttributeIn } from\n'../../schemas/palletUniques/attributes';\nimport { ExtrinsicEndpointsConfig, QueryEndpointConfig } from '../_types';\nimport { EventNotFoundInExtrinsicError } from '../../schemas/errors';\nimport { UtfHelpers } from '@unique-nft/utils/string';\nimport { queryAttribute } from './_queries';\n\nexport const setAttribute = new ExtrinsicEndpointsConfig({\n  route: '/pallet-uniques/set-attribute',\n\n\n\n\n\n\n  schemaIn: zUniquesSetAttributeIn,\n  schemaOut: zUniquesSetAttributeIn\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nexport const clearAttribute = new ExtrinsicEndpointsConfig({\n  route: '/pallet-uniques/clear-attribute',\n\n\n\n\n\n\n  schemaIn: zUniquesClearAttributeIn,\n  schemaOut: zUniquesClearAttributeIn\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst getAttribute = new QueryEndpointConfig({\n  route: '/pallet-uniques/attribute',\n\n\n\n\n  schemaIn: zUniquesGetAttribute,\n  schemaOut: zUniquesAttribute\n\n\n\n});\n\nexport const PalletUniquesAttributesRoutesConfig = {\n  extrinsics: {\n    setAttribute,\n    clearAttribute\n  },\n  queries: {\n    getAttribute\n  }\n};","import { z } from 'zod';\nimport { zCollectionIdOrAddress } from '../../schemas/collection';\nimport { QueryEndpointConfig, SectionRoutesConfig } from '../_types';\nimport { queryItemMetadata } from './_queries';\n\nconst getTokenParsedMetadata = new QueryEndpointConfig({\n  route: '/pallet-uniques/utils/parsed-metadata',\n\n  schemaIn: z.object({\n    collectionId: zCollectionIdOrAddress.openapi({ description: 'Collection ID or address', example: 1 }),\n    tokenId: z.coerce.number().int().positive().openapi({ description: 'Token ID', example: 1 })\n  }),\n  schemaOut: z.any()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nexport const PalletUniquesUtilsRoutesConfig = {\n  queries: {\n    getTokenParsedMetadata\n  },\n  extrinsics: {}\n} satisfies SectionRoutesConfig;","import {z} from 'zod'\nimport {zUniversalLocationObject} from 'validation-schemas/xcmSchemas'\n\nconst zAssetsAddress = z.string().openapi({description: 'The owner of the collection', example: '5GEuzsNk8HkjSDJi1EK91omheS476JAW2PhqrZJSiBrEVeLL'})\n\nexport const zAsset = z.object({\n  id: z.number().openapi({description: 'Asset ID', example: 1}),\n  owner: zAssetsAddress,\n  issuer: zAssetsAddress,\n  admin: zAssetsAddress,\n  freezer: zAssetsAddress,\n  supply: z.string().openapi({description: 'Supply', example: '1000000000000000000000'}),\n  deposit: z.string().openapi({description: 'Deposit', example: '1000000000000000000000'}),\n  minBalance: z.string().openapi({description: 'Min balance', example: '1000000000000000000000'}),\n  isSufficient: z.boolean().openapi({description: 'Is sufficient', example: true}),\n  accounts: z.number().openapi({description: 'Accounts', example: 23}),\n  sufficients: z.number().openapi({description: 'Sufficients', example: 23}),\n  approvals: z.number().openapi({description: 'Approvals', example: 23}),\n  status: z.string().openapi({description: 'Status', example: 'Live'}),\n  name: z.string().openapi({description: 'Name', example: 'USD Stablecoin'}),\n  symbol: z.string().openapi({description: 'Symbol', example: 'USD'}),\n  decimals: z.number().openapi({description: 'Decimals', example: 18}),\n  isFrozen: z.boolean().openapi({description: 'Is frozen', example: false}),\n  universalLocation: zUniversalLocationObject.nullable().openapi({description: 'The universal location of the collection'}),\n})\n\nexport type Asset = z.infer<typeof zAsset>\n\nexport const zAssetQuery =   z.object({\n  id: z.coerce.number().int().positive().openapi({description: 'Collection ID', example: 1}),\n})\n\nexport type AssetQuery = z.infer<typeof zAssetQuery>\n","import { QueryEndpointConfig, SectionRoutesConfig } from '../_types';\nimport { queryAsset, queryAssetsPaginated, queryAccountAssetBalance } from './_queries';\nimport { zAsset, zAssetQuery } from '../../schemas/palletAssets';\nimport { zPagination } from '../../schemas/common';\nimport { z } from 'zod';\n\nconst getAsset = new QueryEndpointConfig({\n  route: '/pallet-assets/asset',\n\n\n  schemaIn: zAssetQuery,\n  schemaOut: zAsset\n\n\n\n\n\n\n});\n\nconst getAssetsPaginated = new QueryEndpointConfig({\n  route: '/pallet-assets/assets',\n\n\n  schemaIn: zPagination,\n  schemaOut: z.object({\n    assets: z.array(zAsset),\n    isLastPage: z.boolean()\n  })\n\n\n\n\n\n});\n\nconst getBalance = new QueryEndpointConfig({\n  route: '/pallet-assets/balance',\n\n\n  schemaIn: z.object({\n    address: z.string(),\n    id: z.coerce.number().int().positive().openapi({ description: 'Collection ID', example: 1 })\n  }),\n  schemaOut: z.object({\n    balance: z.string(),\n    symbol: z.string(),\n    decimals: z.number()\n  })\n\n\n\n\n\n\n});\n\nexport const PalletAssetRoutesConfig = {\n  queries: {\n    getAsset,\n    getAssetsPaginated,\n    getBalance\n  },\n  extrinsics: {}\n} satisfies SectionRoutesConfig;","import { z } from 'zod';\nimport { SubstrateClient } from 'substrate-client';\nimport { ExtrinsicEndpointsConfig, QueryEndpointConfig, SectionRoutesConfig } from '../_types';\nimport { decodeLocation, locationFromObject } from '../../utils/xcm';\nimport { UniversalLocationObject, zUniversalLocationObject } from 'validation-schemas/xcmSchemas';\nimport { zPagination } from '../../schemas/common';\nimport { PalletUniquesCollectionDetails } from '../palletUniques/_queries';\nimport { zAddressString } from 'validation-schemas';\n\nconst queryDerivativeRegistered = async (\nsubstrateClient: SubstrateClient,\nuniversalLocation: UniversalLocationObject) =>\n{\n  const transformed = locationFromObject(universalLocation);\n\n  const classRaw = await substrateClient.getStorage('foreignUniques', 'class', [transformed]);\n  const registered = !!classRaw && classRaw !== '0x';\n\n  return { registered };\n};\n\nconst getDerivativeRegistered = new QueryEndpointConfig({\n  route: '/pallet-foreign-uniques-asset-hub/registered',\n\n  method: 'POST',\n  schemaIn: z.object({\n    universalLocation: zUniversalLocationObject\n  }),\n  schemaOut: z.object({\n    registered: z.boolean()\n  })\n\n\n\n});\n\nconst listDerivatives = new QueryEndpointConfig({\n  route: '/pallet-foreign-uniques-asset-hub/list',\n\n  method: 'GET',\n  schemaIn: zPagination,\n  schemaOut: z.array(\n    z.object({\n      itemsCount: z.number(),\n      universalLocation: zUniversalLocationObject\n    })\n  )\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst registerDerivative = new ExtrinsicEndpointsConfig({\n  route: '/pallet-foreign-uniques-asset-hub/register',\n\n\n\n  schemaIn: z.object({\n    universalLocation: zUniversalLocationObject\n  }),\n  schemaOut: z.object({\n    registered: z.boolean()\n  })\n\n\n\n\n});\n\nconst getAccountItems = new QueryEndpointConfig({\n  route: '/pallet-foreign-uniques-asset-hub/account-items',\n\n  method: 'POST',\n  schemaIn: z.object({\n    universalLocation: zUniversalLocationObject,\n    account: zAddressString\n  }),\n  schemaOut: z.object({\n    items: z.array(z.number())\n  })\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\nexport const PalletForeignUniquesAssetHubRoutesConfig = {\n  queries: {\n    getDerivativeRegistered,\n    listDerivatives,\n    getAccountItems\n  },\n  extrinsics: {\n    registerDerivative\n  }\n} satisfies SectionRoutesConfig;","import { z } from 'zod';\nimport { SubstrateClient } from 'substrate-client';\nimport { ExtrinsicEndpointsConfig, QueryEndpointConfig, SectionRoutesConfig } from '../_types';\nimport { locationFromObject } from '../../utils/xcm';\nimport { UniversalLocationObject, zUniversalLocationObject } from 'validation-schemas/xcmSchemas';\nimport { zMaxBytesPipe } from '../../schemas/input';\nimport { encodeCollectionMode } from '../../utils/collection';\nimport { StringUtils } from '@unique-nft/utils';\n\nconst queryDerivativeRegistered = async (\nsubstrateClient: SubstrateClient,\nuniversalLocation: UniversalLocationObject) =>\n{\n  const transformed = locationFromObject(universalLocation);\n\n  const classRaw = await substrateClient.getStorage('derivativeCollections', 'originalToDerivative', [transformed]);\n  const registered = !!classRaw && classRaw !== '0x';\n\n  return { registered };\n};\n\nconst getDerivativeRegistered = new QueryEndpointConfig({\n  route: '/derivative-collections/registered',\n\n  method: 'POST',\n  schemaIn: z.object({\n    universalLocation: zUniversalLocationObject\n  }),\n  schemaOut: z.object({\n    registered: z.boolean()\n  })\n\n\n\n});\n\nconst registerDerivativeUnique = new ExtrinsicEndpointsConfig({\n  route: '/derivative-collections/register',\n\n\n\n  schemaIn: z.object({\n    universalLocation: zUniversalLocationObject,\n    mode: z.enum(['Nft', 'Fungible']).openapi({ description: 'The mode of the collection', example: 'Nft' }),\n    name: z.string().pipe(zMaxBytesPipe(64)).openapi({ description: 'The name of the collection', example: 'My Collection' }),\n    tokenDecimals: z.coerce.number().int().positive().optional().openapi({ description: 'Fungible token decimals', example: 18 }),\n    symbol: z.string().optional().pipe(zMaxBytesPipe(16)).openapi({ description: 'The symbol of the collection', example: 'MC' })\n  }),\n  schemaOut: z.object({\n    registered: z.boolean()\n  })\n\n\n\n\n\n\n\n\n\n\n\n});\n\nconst registerDerivativeAssetHub = new ExtrinsicEndpointsConfig({\n  route: '/derivative-collections/register',\n\n\n\n  schemaIn: z.object({\n    universalLocation: zUniversalLocationObject\n  }),\n  schemaOut: z.object({\n    registered: z.boolean()\n  })\n\n\n\n\n\n\n\n\n\n});\n\nexport const UniqueDerivativeCollectionsRoutesConfig = {\n  queries: {\n    getDerivativeRegistered\n  },\n  extrinsics: {\n    registerDerivative: registerDerivativeUnique\n  }\n} satisfies SectionRoutesConfig;\n\nexport const AssetHubDerivativeCollectionsRoutesConfig = {\n  queries: {\n    getDerivativeRegistered\n  },\n  extrinsics: {\n    registerDerivative: registerDerivativeAssetHub\n  }\n};","import { z } from 'zod';\nimport { SubstrateClient } from 'substrate-client';\nimport { QueryEndpointConfig, SectionRoutesConfig } from '../_types';\nimport { locationFromObject, parseLocation } from '../../utils/xcm';\nimport { UniversalLocationObject, zUniversalLocationObject } from 'validation-schemas/xcmSchemas';\nimport { zPagination } from '../../schemas/common';\nimport { zAddressString } from 'validation-schemas';\nimport {\n  PalletAssetsAssetDetails,\n  PalletAssetsAssetMetadata,\n  PalletAssetAssetMetadataType,\n  PalletAssetsAssetAccount } from\n'../palletAssets/_queries';\nimport { Address } from '@unique-nft/utils/address';\nimport { hexToString } from '@polkadot/util/hex';\nimport { zAsset } from '../../schemas/palletAssets';\nimport { NotFoundError } from '../../schemas/errors';\n\nconst queryDerivativeRegistered = async (\nsubstrateClient: SubstrateClient,\nuniversalLocation: UniversalLocationObject) =>\n{\n  const transformed = locationFromObject(universalLocation);\n\n  const classRaw = await substrateClient.getStorage('foreignAssets', 'asset', [transformed]);\n  const registered = !!classRaw && classRaw !== '0x';\n\n  return { registered };\n};\n\nconst queryAccountAssetBalance = async (\nsubstrateClient: SubstrateClient,\naddress: string,\nuniversalLocation: UniversalLocationObject) =>\n{\n  const transformed = locationFromObject(universalLocation);\n\n  const rawMetadata = await substrateClient.getStorage('foreignAssets', 'metadata', [transformed]);\n  const rawBalance = await substrateClient.getStorage('foreignAssets', 'account', [transformed, address]);\n\n  if (!rawMetadata) throw new NotFoundError(`Asset not found: ${JSON.stringify(universalLocation)}`);\n\n  const metadata = substrateClient.registry.createType<PalletAssetsAssetMetadata>(PalletAssetAssetMetadataType, rawMetadata);\n  const balance = rawBalance ? substrateClient.registry.createType<PalletAssetsAssetAccount>('PalletAssetsAssetAccount', rawBalance) : null;\n\n  return {\n    balance: balance ? balance.balance.toString() : '0',\n    symbol: hexToString(metadata.symbol.toString()),\n    decimals: metadata.decimals.toNumber()\n  };\n};\n\nconst getDerivativeRegistered = new QueryEndpointConfig({\n  route: '/pallet-foreign-assets-asset-hub/registered',\n\n  method: 'POST',\n  schemaIn: z.object({\n    universalLocation: zUniversalLocationObject\n  }),\n  schemaOut: z.object({\n    registered: z.boolean()\n  })\n\n\n\n});\n\nconst listDerivatives = new QueryEndpointConfig({\n  route: '/pallet-foreign-assets-asset-hub/list',\n\n  method: 'GET',\n  schemaIn: zPagination,\n  schemaOut: z.array(\n    zAsset.omit({ id: true })\n  )\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\n\nconst getAccountBalance = new QueryEndpointConfig({\n  route: '/pallet-foreign-assets-asset-hub/account-items',\n\n  method: 'POST',\n  schemaIn: z.object({\n    universalLocation: zUniversalLocationObject,\n    account: zAddressString\n  }),\n  schemaOut: z.object({\n    balance: z.string(),\n    symbol: z.string(),\n    decimals: z.number()\n  })\n\n\n\n});\n\nexport const PalletForeignAssetsAssetHubRoutesConfig = {\n  queries: {\n    getDerivativeRegistered,\n    listDerivatives,\n    getAccountBalance\n  },\n  extrinsics: {}\n} satisfies SectionRoutesConfig;","import {Metadata, TypeRegistry, expandMetadata, decorateConstants} from '@polkadot/types'\nimport {ChainProperties} from '@polkadot/types/interfaces'\nimport {compactStripLength, u8aToHex, compactAddLength, u8aConcat} from '@polkadot/util'\n\nexport {Metadata, TypeRegistry, DecoratedMeta}\n\nimport {HexString} from '@unique-nft/utils/string'\n\nimport type {DecoratedMeta, Constants, SignerPayloadRaw, SignerPayloadJSON, SignerPayload, UnsignedExtrinsicPayload} from '../types'\nimport {SystemProperties} from '../jsonRpc/jsonRpc.types'\nimport {BuildExtrinsic} from 'validation-schemas'\n\nexport {SystemProperties}\n\nexport type PreparedMetadata = {\n  registry: TypeRegistry\n  constants: Constants\n  decoratedMeta: DecoratedMeta\n  metadata: Metadata\n}\n\nexport const prepareMetadata = (metadataHex: string, systemProperties: SystemProperties): PreparedMetadata => {\n  const registry = new TypeRegistry()\n  const metadata = new Metadata(registry, metadataHex as `0x${string}`)\n  const constants = decorateConstants(registry, metadata.asLatest, metadata.version)\n\n  registry.setMetadata(metadata)\n  const chainProperties = registry.createType('ChainProperties', systemProperties) as ChainProperties\n  registry.setChainProperties(chainProperties)\n\n  const decoratedMeta = expandMetadata(registry, metadata)\n\n  return {registry, decoratedMeta, metadata, constants}\n}\n\nexport const getCompactExtrinsic = (version: number, methodHex: `0x${string}`) => {\n  const asU8a = u8aConcat([version], methodHex)\n  const withLength = compactAddLength(asU8a)\n\n  return u8aToHex(withLength)\n}\n\nexport const generateRegistryUtils = (typeRegistry: TypeRegistry) => {\n  const createEra = (\n    startBlock: number | string,\n    desiredPeriod: number | string,\n  ) => {\n    const _desiredPeriod = typeof desiredPeriod === 'string' ? parseInt(desiredPeriod, 10) : desiredPeriod\n    // period must be a power of 2, here we want to round up to the next power of 2\n    const period = Math.pow(2, Math.ceil(Math.log2(_desiredPeriod)));\n\n    if (period < 4 || period > 65536) throw new Error('Period must be between 4 and 65536');\n\n    return typeRegistry.createTypeUnsafe('ExtrinsicEra', [{\n      current: startBlock,\n      period\n    }]);\n  };\n\n  const createSignerPayload = (signatureOptions: unknown, signerAddress: string, blockNumber: string, method: unknown, version: unknown) => {\n    return typeRegistry.createTypeUnsafe('SignerPayload', [\n      Object.assign({}, signatureOptions, {\n        address: signerAddress,\n        blockNumber,\n        method,\n        version,\n      }),\n    ])\n  }\n\n  const getSignerPayloadHex = (signerPayloadRaw: SignerPayloadRaw): string => {\n    const rawPayloadDataU8a = HexString.toU8a(signerPayloadRaw.data)\n\n    if (rawPayloadDataU8a.length > 256) {\n      const payloadHash = typeRegistry.hash(rawPayloadDataU8a)\n\n      return HexString.fromU8a(payloadHash)\n    }\n\n    return signerPayloadRaw.data\n  }\n\n  const createSignerPayloadHex = (signerPayloadRaw: SignerPayloadRaw): string => {\n    const rawPayloadDataU8a = HexString.toU8a(signerPayloadRaw.data)\n\n    if (rawPayloadDataU8a.length > 256) {\n      const payloadHash = typeRegistry.hash(rawPayloadDataU8a)\n\n      return HexString.fromU8a(payloadHash)\n    }\n\n    return signerPayloadRaw.data\n  }\n\n  const createSignerPayloadRaw = (signerPayloadJSON: SignerPayloadJSON): SignerPayloadRaw => {\n    const rawPayloadDataU8a = typeRegistry\n      .createType('ExtrinsicPayload', signerPayloadJSON, {\n        version: signerPayloadJSON.version,\n      })\n      .toU8a({method: true})\n\n    return {\n      address: signerPayloadJSON.address,\n      data: HexString.fromU8a(rawPayloadDataU8a),\n      type: 'payload',\n    }\n  }\n\n  const signerPayloadToUnsignedExtrinsicPayload = (signerPayload: SignerPayload): UnsignedExtrinsicPayload => {\n    const signerPayloadJSON = {\n      address: signerPayload.address.toString(),\n      blockHash: signerPayload.blockHash.toHex(),\n      blockNumber: signerPayload.blockNumber.toHex(),\n      era: signerPayload.era.toHex(),\n      genesisHash: signerPayload.genesisHash.toHex(),\n      method: signerPayload.method.toHex(),\n      nonce: signerPayload.nonce.toHex(),\n      specVersion: signerPayload.runtimeVersion.specVersion.toHex(),\n      tip: signerPayload.tip.toHex(),\n      transactionVersion: signerPayload.runtimeVersion.transactionVersion.toHex(),\n      signedExtensions: signerPayload.signedExtensions.map((e) => e.toString()),\n      version: signerPayload.version.toNumber(),\n    }\n    const signerPayloadRaw = signerPayload.toRaw()\n    const signerPayloadHex = getSignerPayloadHex(signerPayloadRaw)\n\n    return {\n      signerPayloadJSON,\n      signerPayloadRaw,\n      signerPayloadHex,\n    }\n  }\n\n  return {\n    createEra,\n    createSignerPayload,\n    createSignerPayloadHex,\n    createSignerPayloadRaw,\n    signerPayloadToUnsignedExtrinsicPayload,\n  }\n}\n\nconst toCamelCase = (str: string) => {\n  const replaced = str.replace(/_([a-z])/g, (g) => g[1].toUpperCase())\n\n  return replaced.charAt(0).toLowerCase() + replaced.slice(1)\n}\n\nconst getDecoratedStorageEntry = (decoratedMeta: DecoratedMeta, section: string, method: string) => {\n  const _section = toCamelCase(section)\n  const _method = toCamelCase(method)\n\n  if (!decoratedMeta.query[_section]) throw new Error(`Unknown section: ${section}`)\n  if (!decoratedMeta.query[_section][_method]) throw new Error(`Unknown method: ${section}.${method}`)\n\n  return decoratedMeta.query[_section][_method]\n}\n\nconst getDecoratedCall = (decoratedMeta: DecoratedMeta, section: string, method: string) => {\n  const callSection = decoratedMeta.tx[section]\n  if (!callSection) throw new Error(`Unknown extrinsic section: ${section}`)\n\n  const callMethod = callSection[method]\n  if (!callMethod) throw new Error(`Unknown extrinsic method: ${section}.${method}`)\n\n  return callMethod\n}\n\nexport const encodeStorageKey = (\n  decoratedMeta: DecoratedMeta,\n  section: string,\n  method: string,\n  args?: unknown | unknown[],\n  iteratorKey = false,\n): string => {\n  const storageEntry = getDecoratedStorageEntry(decoratedMeta, section, method)\n  const _args = Array.isArray(args) ? args : [args]\n\n  if (!iteratorKey) {\n    const storageKeyBytes = storageEntry(..._args)\n    const [_, keyU8a] = compactStripLength(storageKeyBytes)\n\n    return u8aToHex(keyU8a)\n  }\n\n  if (!storageEntry.iterKey) throw new Error(`Method ${section}.${method} does not support iteration`)\n  const iteratorKeyBytes = storageEntry.iterKey(..._args)\n\n  return u8aToHex(iteratorKeyBytes)\n}\n\nexport const encodeMethod = <A extends Record<string, any>>(\n  decoratedMeta: DecoratedMeta,\n  buildArguments: Pick<BuildExtrinsic, 'section' | 'method' | 'args'>,\n): `0x${string}` => {\n  const {section, method} = buildArguments\n  const callMethod = getDecoratedCall(decoratedMeta, section, method)\n\n  const args = buildArguments.args as A\n  const argsArray: unknown[] = []\n\n  callMethod.meta.args.forEach((field, index) => {\n    const value = args[field.name.toString()] === undefined ? args[index] : args[field.name.toString()]\n    if (value === undefined) throw new Error(`${section}.${method} expects argument \"${field.name.toString()}, index: ${index}\"`)\n\n    argsArray.push(value)\n  })\n\n  const encoded = callMethod(...argsArray)\n\n  return encoded.toHex()\n}\n","import {SubstrateClient} from 'substrate-client'\nimport {Pagination} from '../../schemas/common'\nimport {applyPaginationToStorageKeys, uintKeyComparator} from 'substrate-client/utils/storageUtils'\nimport {NotFoundError} from '../../schemas/errors'\nimport {Asset} from '../../schemas/palletAssets'\nimport {Address} from '@unique-nft/utils/address'\nimport {hexToString} from '@polkadot/util/hex'\nimport {getAssetsUniversalLocation} from '../../utils'\n\nimport '@polkadot/types-augment'\nimport type {\n  PalletAssetsAssetAccount,\n  PalletAssetsAssetDetails,\n  PalletAssetsAssetMetadata,\n} from '@polkadot/types/lookup'\n\nexport type {\n  PalletAssetsAssetAccount,\n  PalletAssetsAssetDetails,\n  PalletAssetsAssetMetadata,\n}\n\n\nconst getAssetsIdsPaginated = async (substrateClient: SubstrateClient, query: Pagination) => {\n  const {skip = 0, limit = 1000} = query\n  const allCollectionsKeys = await substrateClient.getStorageKeysWithMeta<[any]>('assets', 'asset', [])\n\n  const [assetKeys, isLastPage] = applyPaginationToStorageKeys(allCollectionsKeys, uintKeyComparator, {skip, limit})\n  const ids = assetKeys.map((key) => key.args[0].toNumber())\n\n  return {ids, isLastPage}\n}\n\nexport const PalletAssetAssetMetadataType = '{\"deposit\": \"u128\", \"name\": \"Bytes\", \"symbol\": \"Bytes\", \"decimals\": \"u8\", \"isFrozen\": \"bool\"}'\n\nexport const queryAsset = async (substrateClient: SubstrateClient, id: number): Promise<Asset> => {\n\n  const [rawAsset, rawMetadata] = await Promise.all([\n    substrateClient.getStorage('Assets', 'asset', id),\n    substrateClient.getStorage('Assets', 'metadata', id),\n  ])\n\n  if (!rawAsset) throw new NotFoundError(`Asset not found: ${id}`)\n\n  const asset = substrateClient.registry.createType<PalletAssetsAssetDetails>('PalletAssetsAssetDetails', rawAsset);\n  const metadata = rawMetadata ? substrateClient.registry.createType<PalletAssetsAssetMetadata>(PalletAssetAssetMetadataType, rawMetadata) : null;\n\n  return {\n    id,\n    owner: Address.normalize.substrateAddress(asset.owner.toString()),\n    issuer: Address.normalize.substrateAddress(asset.issuer.toString()),\n    admin: Address.normalize.substrateAddress(asset.admin.toString()),\n    freezer: Address.normalize.substrateAddress(asset.freezer.toString()),\n    supply: asset.supply.toString(),\n    deposit: asset.deposit.toString(),\n    minBalance: asset.minBalance.toString(),\n    isSufficient: asset.sufficients.toBigInt() > 0n,\n    accounts: asset.accounts.toNumber(),\n    sufficients: asset.sufficients.toNumber(),\n    approvals: asset.approvals.toNumber(),\n    status: asset.status.type,\n    name: metadata ? hexToString(metadata.name.toString()) : '',\n    symbol: metadata ? hexToString(metadata.symbol.toString()) : '',\n    decimals: metadata ? metadata.decimals.toNumber() : 0,\n    isFrozen: metadata?.isFrozen.isTrue || false,\n    universalLocation: getAssetsUniversalLocation(substrateClient, id),\n  };\n}\n\nexport const queryAssetsPaginated = async (substrateClient: SubstrateClient, query: Pagination) => {\n  try {\n    const {ids, isLastPage} = await getAssetsIdsPaginated(substrateClient, query)\n    const assets = await Promise.all(ids.map((id) => queryAsset(substrateClient, id)))\n\n    return {assets, isLastPage}\n  } catch (error) {\n    console.error('Error querying assets', error)\n    throw error\n  }\n}\n\nexport const queryAccountAssetBalance = async (\n  substrateClient: SubstrateClient,\n  address: string,\n  id: number,\n) => {\n  const rawMetadata = await substrateClient.getStorage('Assets', 'metadata', id)\n  const rawBalance = await substrateClient.getStorage('Assets', 'account', [id, address])\n\n  if (!rawMetadata) throw new NotFoundError(`Asset not found: ${id}`)\n\n  const metadata = substrateClient.registry.createType<PalletAssetsAssetMetadata>(PalletAssetAssetMetadataType, rawMetadata);\n  const balance = rawBalance ? substrateClient.registry.createType<PalletAssetsAssetAccount>('PalletAssetsAssetAccount', rawBalance) : null;\n\n  return {\n    balance: balance ? balance.balance.toString() : '0',\n    symbol: hexToString(metadata.symbol.toString()),\n    decimals: metadata.decimals.toNumber(),\n  }\n}\n"],"mappings":"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","names":["import_axios","import_zod","Axios","import_zod","Axios","getExtrinsicStatus","getStatusOptions","qs","import_zod","import_zod","import_zod","import_address","zUniqueBuildExtrinsicOptions","import_zod","import_address","ApiError","ApiError","module","ApiError","import_zod","z","zQueryBoolean","import_zod","import_address","import_zod","import_zod","import_zod","zQueryBoolean","import_zod","import_zod","zQueryBoolean","endpointPrefix","import_zod","import_zod","endpointPrefix","import_zod","endpointPrefix","endpointPrefix","import_zod","import_zod","z","endpointPrefix","import_zod","endpointPrefix","import_zod","import_address","endpointPrefix","import_zod","import_zod","import_zod","import_zod","endpointPrefix","import_zod","import_zod","import_zod","import_zod","AttributeNamespaceEnum","getCollectionsPaginated","createCollection","import_zod","zNftsItemSettings","import_zod","import_zod","import_zod","import_zod","getNextCollectionId","import_zod","import_zod","getTokenParsedMetadata","import_zod","import_zod","import_zod","import_zod","createCollection","destroyCollection","setCollectionAttribute","clearCollectionAttribute","setCollectionMetadata","clearCollectionMetadata","transferCollection","getCollection","getCollectionsPaginated","import_zod","mintItem","transferItem","burnItem","setItemAttribute","setItemMetadata","clearItemAttribute","clearItemMetadata","getItem","import_zod","import_zod","acceptCollectionOwnership","setAttribute","clearAttribute","getAttribute","import_zod","getTokenParsedMetadata","import_zod","import_zod","import_zod","getAccountItems","import_zod","getDerivativeRegistered","import_zod","import_address","getDerivativeRegistered","listDerivatives","getAccountBalance"]}